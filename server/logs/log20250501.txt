2025-05-01 00:02:01.439 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5053/api/Auth/login - null null
2025-05-01 00:02:01.449 +07:00 [INF] CORS policy execution successful.
2025-05-01 00:02:01.450 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5053/api/Auth/login - 204 null null 10.8765ms
2025-05-01 00:02:01.461 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5053/api/Auth/login - application/json 53
2025-05-01 00:02:01.461 +07:00 [INF] CORS policy execution successful.
2025-05-01 00:02:01.461 +07:00 [INF] CORS policy execution successful.
2025-05-01 00:02:01.461 +07:00 [INF] Executing endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-01 00:02:01.462 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(server.DTO.AuthDTO.LoginDTO) on controller Message_app.Controllers.AuthController (Message_app).
2025-05-01 00:02:01.491 +07:00 [INF] Executed DbCommand (25ms) [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[avatar_url], [u].[bio], [u].[birthday], [u].[created_at], [u].[email], [u].[gender], [u].[interests], [u].[location], [u].[password], [u].[passwordSalt], [u].[username]
FROM [Users] AS [u]
WHERE [u].[email] = @__email_0
2025-05-01 00:02:01.493 +07:00 [INF] Executing OkObjectResult, writing value of type 'server.DTO.AuthDTO.LoginRespose'.
2025-05-01 00:02:01.493 +07:00 [INF] Executed action Message_app.Controllers.AuthController.Login (Message_app) in 30.8954ms
2025-05-01 00:02:01.493 +07:00 [INF] Executed endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-01 00:02:01.493 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5053/api/Auth/login - 200 null application/json; charset=utf-8 32.3672ms
2025-05-01 00:02:01.690 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5053/api/Conversation/get_conversations/5 - null null
2025-05-01 00:02:01.690 +07:00 [INF] CORS policy execution successful.
2025-05-01 00:02:01.690 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5053/api/Conversation/get_conversations/5 - 204 null null 0.2808ms
2025-05-01 00:02:01.691 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5053/api/Conversation/get_conversations/5 - null null
2025-05-01 00:02:01.691 +07:00 [INF] CORS policy execution successful.
2025-05-01 00:02:01.692 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5053/api/Conversation/get_conversations/5 - 204 null null 0.3387ms
2025-05-01 00:02:01.692 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/api/Conversation/get_conversations/5 - null null
2025-05-01 00:02:01.692 +07:00 [INF] CORS policy execution successful.
2025-05-01 00:02:01.692 +07:00 [INF] CORS policy execution successful.
2025-05-01 00:02:01.692 +07:00 [INF] Executing endpoint 'server.Controllers.ConversationController.GetConversations (Message_app)'
2025-05-01 00:02:01.692 +07:00 [INF] Route matched with {action = "GetConversations", controller = "Conversation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetConversations(Int32) on controller server.Controllers.ConversationController (Message_app).
2025-05-01 00:02:01.693 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[server.DTO.ConversationDto, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-01 00:02:01.694 +07:00 [INF] Executed action server.Controllers.ConversationController.GetConversations (Message_app) in 1.3165ms
2025-05-01 00:02:01.694 +07:00 [INF] Executed endpoint 'server.Controllers.ConversationController.GetConversations (Message_app)'
2025-05-01 00:02:01.694 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/api/Conversation/get_conversations/5 - 200 null application/json; charset=utf-8 1.9956ms
2025-05-01 00:02:01.696 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/api/Conversation/get_conversations/5 - null null
2025-05-01 00:02:01.696 +07:00 [INF] CORS policy execution successful.
2025-05-01 00:02:01.696 +07:00 [INF] CORS policy execution successful.
2025-05-01 00:02:01.696 +07:00 [INF] Executing endpoint 'server.Controllers.ConversationController.GetConversations (Message_app)'
2025-05-01 00:02:01.696 +07:00 [INF] Route matched with {action = "GetConversations", controller = "Conversation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetConversations(Int32) on controller server.Controllers.ConversationController (Message_app).
2025-05-01 00:02:01.698 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[server.DTO.ConversationDto, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-01 00:02:01.698 +07:00 [INF] Executed action server.Controllers.ConversationController.GetConversations (Message_app) in 2.0952ms
2025-05-01 00:02:01.699 +07:00 [INF] Executed endpoint 'server.Controllers.ConversationController.GetConversations (Message_app)'
2025-05-01 00:02:01.699 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/api/Conversation/get_conversations/5 - 200 null application/json; charset=utf-8 2.9409ms
2025-05-01 00:02:01.750 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 00:02:01.751 +07:00 [INF] CORS policy execution successful.
2025-05-01 00:02:01.751 +07:00 [INF] CORS policy execution successful.
2025-05-01 00:02:01.751 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 00:02:01.751 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 00:02:01.751 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 0.5542ms
2025-05-01 00:02:04.302 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 00:02:04.302 +07:00 [INF] CORS policy execution successful.
2025-05-01 00:02:04.302 +07:00 [INF] CORS policy execution successful.
2025-05-01 00:02:04.302 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 00:02:04.302 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 00:02:04.302 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 0.5398ms
2025-05-01 00:02:04.414 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5053/api/Message/getMessages/1/5 - null null
2025-05-01 00:02:04.414 +07:00 [INF] CORS policy execution successful.
2025-05-01 00:02:04.414 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5053/api/Message/getMessages/1/5 - 204 null null 0.1876ms
2025-05-01 00:02:04.415 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/api/Message/getMessages/1/5 - null null
2025-05-01 00:02:04.415 +07:00 [INF] CORS policy execution successful.
2025-05-01 00:02:04.415 +07:00 [INF] CORS policy execution successful.
2025-05-01 00:02:04.416 +07:00 [INF] Executing endpoint 'server.Controllers.MessageController.GetMessages (Message_app)'
2025-05-01 00:02:04.416 +07:00 [INF] Route matched with {action = "GetMessages", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32, Int32) on controller server.Controllers.MessageController (Message_app).
2025-05-01 00:02:04.423 +07:00 [WRN] Message 81 not found in Redis
2025-05-01 00:02:04.423 +07:00 [WRN] Message 80 not found in Redis
2025-05-01 00:02:04.423 +07:00 [WRN] Message 79 not found in Redis
2025-05-01 00:02:04.423 +07:00 [WRN] Message 78 not found in Redis
2025-05-01 00:02:04.424 +07:00 [WRN] Message 77 not found in Redis
2025-05-01 00:02:04.425 +07:00 [WRN] Message 76 not found in Redis
2025-05-01 00:02:04.426 +07:00 [WRN] Message 75 not found in Redis
2025-05-01 00:02:04.426 +07:00 [WRN] Message 74 not found in Redis
2025-05-01 00:02:04.427 +07:00 [WRN] Message 73 not found in Redis
2025-05-01 00:02:04.427 +07:00 [WRN] Message 72 not found in Redis
2025-05-01 00:02:04.427 +07:00 [WRN] Message 71 not found in Redis
2025-05-01 00:02:04.428 +07:00 [WRN] Message 68 not found in Redis
2025-05-01 00:02:04.429 +07:00 [WRN] Message 64 not found in Redis
2025-05-01 00:02:04.431 +07:00 [WRN] Message 62 not found in Redis
2025-05-01 00:02:04.431 +07:00 [WRN] Message 61 not found in Redis
2025-05-01 00:02:04.432 +07:00 [WRN] Message 60 not found in Redis
2025-05-01 00:02:04.432 +07:00 [WRN] Message 59 not found in Redis
2025-05-01 00:02:04.433 +07:00 [WRN] Message 57 not found in Redis
2025-05-01 00:02:04.434 +07:00 [WRN] Message 55 not found in Redis
2025-05-01 00:02:04.434 +07:00 [WRN] Message 54 not found in Redis
2025-05-01 00:02:04.435 +07:00 [WRN] Message 51 not found in Redis
2025-05-01 00:02:04.438 +07:00 [WRN] Message 49 not found in Redis
2025-05-01 00:02:04.439 +07:00 [WRN] Message 11 not found in Redis
2025-05-01 00:02:04.442 +07:00 [WRN] Message 8 not found in Redis
2025-05-01 00:02:04.443 +07:00 [WRN] Message 3 not found in Redis
2025-05-01 00:02:04.445 +07:00 [WRN] Message 2 not found in Redis
2025-05-01 00:02:04.446 +07:00 [WRN] Message 1 not found in Redis
2025-05-01 00:02:04.446 +07:00 [INF] Retrieved 12 messages from Redis for conversation 1
2025-05-01 00:02:04.446 +07:00 [INF] Retrieved 12 messages from Redis for conversation 1 and user 5
2025-05-01 00:02:04.447 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[server.DTO.MessageWithAttachment, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-01 00:02:04.447 +07:00 [INF] Executed action server.Controllers.MessageController.GetMessages (Message_app) in 31.0608ms
2025-05-01 00:02:04.447 +07:00 [INF] Executed endpoint 'server.Controllers.MessageController.GetMessages (Message_app)'
2025-05-01 00:02:04.447 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/api/Message/getMessages/1/5 - 200 null application/json; charset=utf-8 31.6839ms
2025-05-01 00:02:04.465 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5053/api/Conversation/get_first_conversation/1 - null null
2025-05-01 00:02:04.465 +07:00 [INF] CORS policy execution successful.
2025-05-01 00:02:04.465 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5053/api/Conversation/get_first_conversation/1 - 204 null null 0.2152ms
2025-05-01 00:02:04.467 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/api/Conversation/get_first_conversation/1 - null null
2025-05-01 00:02:04.467 +07:00 [INF] CORS policy execution successful.
2025-05-01 00:02:04.467 +07:00 [INF] CORS policy execution successful.
2025-05-01 00:02:04.467 +07:00 [INF] Executing endpoint 'server.Controllers.ConversationController.GetFirstConversation (Message_app)'
2025-05-01 00:02:04.467 +07:00 [INF] Route matched with {action = "GetFirstConversation", controller = "Conversation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFirstConversation(Int32) on controller server.Controllers.ConversationController (Message_app).
2025-05-01 00:02:04.474 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[id], [c].[created_at], [c].[is_group], [c].[lastMessage], [c].[lastMessageSender], [c].[lastMessageTime], [c].[name]
FROM [Conversations] AS [c]
WHERE [c].[id] = @__p_0
2025-05-01 00:02:04.475 +07:00 [INF] Executing OkObjectResult, writing value of type 'server.Models.Conversation'.
2025-05-01 00:02:04.475 +07:00 [INF] Executed action server.Controllers.ConversationController.GetFirstConversation (Message_app) in 8.3018ms
2025-05-01 00:02:04.475 +07:00 [INF] Executed endpoint 'server.Controllers.ConversationController.GetFirstConversation (Message_app)'
2025-05-01 00:02:04.476 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/api/Conversation/get_first_conversation/1 - 200 null application/json; charset=utf-8 9.0656ms
2025-05-01 00:02:04.491 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5053/api/Participant/get_participants/1 - null null
2025-05-01 00:02:04.491 +07:00 [INF] CORS policy execution successful.
2025-05-01 00:02:04.491 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5053/api/Participant/get_participants/1 - 204 null null 0.2399ms
2025-05-01 00:02:04.493 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/api/Participant/get_participants/1 - null null
2025-05-01 00:02:04.493 +07:00 [INF] CORS policy execution successful.
2025-05-01 00:02:04.493 +07:00 [INF] CORS policy execution successful.
2025-05-01 00:02:04.493 +07:00 [INF] Executing endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 00:02:04.493 +07:00 [INF] Route matched with {action = "GetParticipants", controller = "Participant"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetParticipants(Int32) on controller server.Controllers.ParticipantController (Message_app).
2025-05-01 00:02:04.501 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__conversation_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[id], [p].[adder], [p].[conversation_id], [p].[is_deleted], [p].[joined_at], [p].[name], [p].[role], [p].[user_id]
FROM [Participants] AS [p]
WHERE [p].[conversation_id] = @__conversation_id_0
2025-05-01 00:02:04.502 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType17`1[[System.Collections.Generic.List`1[[server.Models.Participants, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-01 00:02:04.502 +07:00 [INF] Executed action server.Controllers.ParticipantController.GetParticipants (Message_app) in 8.87ms
2025-05-01 00:02:04.502 +07:00 [INF] Executed endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 00:02:04.502 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/api/Participant/get_participants/1 - 200 null application/json; charset=utf-8 9.4332ms
2025-05-01 00:02:06.765 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 00:02:06.765 +07:00 [INF] CORS policy execution successful.
2025-05-01 00:02:06.765 +07:00 [INF] CORS policy execution successful.
2025-05-01 00:02:06.765 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 00:02:06.765 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 00:02:06.765 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 0.8416ms
2025-05-01 00:02:09.418 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 00:02:09.418 +07:00 [INF] CORS policy execution successful.
2025-05-01 00:02:09.418 +07:00 [INF] CORS policy execution successful.
2025-05-01 00:02:09.418 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 00:02:09.419 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 00:02:09.419 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 1.0572ms
2025-05-01 00:02:11.770 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 00:02:11.770 +07:00 [INF] CORS policy execution successful.
2025-05-01 00:02:11.770 +07:00 [INF] CORS policy execution successful.
2025-05-01 00:02:11.770 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 00:02:11.770 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 00:02:11.770 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 0.3948ms
2025-05-01 00:02:14.423 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 00:02:14.423 +07:00 [INF] CORS policy execution successful.
2025-05-01 00:02:14.423 +07:00 [INF] CORS policy execution successful.
2025-05-01 00:02:14.423 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 00:02:14.423 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 00:02:14.423 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 0.5511ms
2025-05-01 00:02:16.783 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 00:02:16.784 +07:00 [INF] CORS policy execution successful.
2025-05-01 00:02:16.784 +07:00 [INF] CORS policy execution successful.
2025-05-01 00:02:16.784 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 00:02:16.784 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 00:02:16.784 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 0.6295ms
2025-05-01 00:02:19.067 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 00:02:19.067 +07:00 [INF] CORS policy execution successful.
2025-05-01 00:02:19.067 +07:00 [INF] CORS policy execution successful.
2025-05-01 00:02:19.067 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 00:02:19.068 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 00:02:19.068 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 0.6681ms
2025-05-01 00:02:19.153 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5053/api/Message/getMessages/1/5 - null null
2025-05-01 00:02:19.153 +07:00 [INF] CORS policy execution successful.
2025-05-01 00:02:19.153 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5053/api/Message/getMessages/1/5 - 204 null null 0.1735ms
2025-05-01 00:02:19.155 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/api/Message/getMessages/1/5 - null null
2025-05-01 00:02:19.155 +07:00 [INF] CORS policy execution successful.
2025-05-01 00:02:19.155 +07:00 [INF] CORS policy execution successful.
2025-05-01 00:02:19.155 +07:00 [INF] Executing endpoint 'server.Controllers.MessageController.GetMessages (Message_app)'
2025-05-01 00:02:19.155 +07:00 [INF] Route matched with {action = "GetMessages", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32, Int32) on controller server.Controllers.MessageController (Message_app).
2025-05-01 00:02:19.159 +07:00 [WRN] Message 81 not found in Redis
2025-05-01 00:02:19.159 +07:00 [WRN] Message 80 not found in Redis
2025-05-01 00:02:19.159 +07:00 [WRN] Message 79 not found in Redis
2025-05-01 00:02:19.160 +07:00 [WRN] Message 78 not found in Redis
2025-05-01 00:02:19.160 +07:00 [WRN] Message 77 not found in Redis
2025-05-01 00:02:19.160 +07:00 [WRN] Message 76 not found in Redis
2025-05-01 00:02:19.160 +07:00 [WRN] Message 75 not found in Redis
2025-05-01 00:02:19.160 +07:00 [WRN] Message 74 not found in Redis
2025-05-01 00:02:19.161 +07:00 [WRN] Message 73 not found in Redis
2025-05-01 00:02:19.161 +07:00 [WRN] Message 72 not found in Redis
2025-05-01 00:02:19.161 +07:00 [WRN] Message 71 not found in Redis
2025-05-01 00:02:19.161 +07:00 [WRN] Message 68 not found in Redis
2025-05-01 00:02:19.161 +07:00 [WRN] Message 64 not found in Redis
2025-05-01 00:02:19.161 +07:00 [WRN] Message 62 not found in Redis
2025-05-01 00:02:19.161 +07:00 [WRN] Message 61 not found in Redis
2025-05-01 00:02:19.162 +07:00 [WRN] Message 60 not found in Redis
2025-05-01 00:02:19.162 +07:00 [WRN] Message 59 not found in Redis
2025-05-01 00:02:19.162 +07:00 [WRN] Message 57 not found in Redis
2025-05-01 00:02:19.162 +07:00 [WRN] Message 55 not found in Redis
2025-05-01 00:02:19.162 +07:00 [WRN] Message 54 not found in Redis
2025-05-01 00:02:19.162 +07:00 [WRN] Message 51 not found in Redis
2025-05-01 00:02:19.162 +07:00 [WRN] Message 49 not found in Redis
2025-05-01 00:02:19.163 +07:00 [WRN] Message 11 not found in Redis
2025-05-01 00:02:19.163 +07:00 [WRN] Message 8 not found in Redis
2025-05-01 00:02:19.163 +07:00 [WRN] Message 3 not found in Redis
2025-05-01 00:02:19.163 +07:00 [WRN] Message 2 not found in Redis
2025-05-01 00:02:19.163 +07:00 [WRN] Message 1 not found in Redis
2025-05-01 00:02:19.163 +07:00 [INF] Retrieved 12 messages from Redis for conversation 1
2025-05-01 00:02:19.163 +07:00 [INF] Retrieved 12 messages from Redis for conversation 1 and user 5
2025-05-01 00:02:19.163 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[server.DTO.MessageWithAttachment, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-01 00:02:19.163 +07:00 [INF] Executed action server.Controllers.MessageController.GetMessages (Message_app) in 8.308ms
2025-05-01 00:02:19.164 +07:00 [INF] Executed endpoint 'server.Controllers.MessageController.GetMessages (Message_app)'
2025-05-01 00:02:19.164 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/api/Message/getMessages/1/5 - 200 null application/json; charset=utf-8 8.7262ms
2025-05-01 00:02:19.180 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5053/api/Conversation/get_first_conversation/1 - null null
2025-05-01 00:02:19.180 +07:00 [INF] CORS policy execution successful.
2025-05-01 00:02:19.180 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5053/api/Conversation/get_first_conversation/1 - 204 null null 0.1485ms
2025-05-01 00:02:19.181 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/api/Conversation/get_first_conversation/1 - null null
2025-05-01 00:02:19.181 +07:00 [INF] CORS policy execution successful.
2025-05-01 00:02:19.181 +07:00 [INF] CORS policy execution successful.
2025-05-01 00:02:19.181 +07:00 [INF] Executing endpoint 'server.Controllers.ConversationController.GetFirstConversation (Message_app)'
2025-05-01 00:02:19.181 +07:00 [INF] Route matched with {action = "GetFirstConversation", controller = "Conversation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFirstConversation(Int32) on controller server.Controllers.ConversationController (Message_app).
2025-05-01 00:02:19.183 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[id], [c].[created_at], [c].[is_group], [c].[lastMessage], [c].[lastMessageSender], [c].[lastMessageTime], [c].[name]
FROM [Conversations] AS [c]
WHERE [c].[id] = @__p_0
2025-05-01 00:02:19.184 +07:00 [INF] Executing OkObjectResult, writing value of type 'server.Models.Conversation'.
2025-05-01 00:02:19.184 +07:00 [INF] Executed action server.Controllers.ConversationController.GetFirstConversation (Message_app) in 2.6703ms
2025-05-01 00:02:19.184 +07:00 [INF] Executed endpoint 'server.Controllers.ConversationController.GetFirstConversation (Message_app)'
2025-05-01 00:02:19.184 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/api/Conversation/get_first_conversation/1 - 200 null application/json; charset=utf-8 3.0282ms
2025-05-01 00:02:19.199 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5053/api/Participant/get_participants/1 - null null
2025-05-01 00:02:19.199 +07:00 [INF] CORS policy execution successful.
2025-05-01 00:02:19.199 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5053/api/Participant/get_participants/1 - 204 null null 0.1664ms
2025-05-01 00:02:19.200 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/api/Participant/get_participants/1 - null null
2025-05-01 00:02:19.200 +07:00 [INF] CORS policy execution successful.
2025-05-01 00:02:19.200 +07:00 [INF] CORS policy execution successful.
2025-05-01 00:02:19.200 +07:00 [INF] Executing endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 00:02:19.201 +07:00 [INF] Route matched with {action = "GetParticipants", controller = "Participant"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetParticipants(Int32) on controller server.Controllers.ParticipantController (Message_app).
2025-05-01 00:02:19.203 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__conversation_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[id], [p].[adder], [p].[conversation_id], [p].[is_deleted], [p].[joined_at], [p].[name], [p].[role], [p].[user_id]
FROM [Participants] AS [p]
WHERE [p].[conversation_id] = @__conversation_id_0
2025-05-01 00:02:19.203 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType17`1[[System.Collections.Generic.List`1[[server.Models.Participants, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-01 00:02:19.203 +07:00 [INF] Executed action server.Controllers.ParticipantController.GetParticipants (Message_app) in 2.5152ms
2025-05-01 00:02:19.203 +07:00 [INF] Executed endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 00:02:19.203 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/api/Participant/get_participants/1 - 200 null application/json; charset=utf-8 3.0057ms
2025-05-01 00:02:19.431 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 00:02:19.431 +07:00 [INF] CORS policy execution successful.
2025-05-01 00:02:19.431 +07:00 [INF] CORS policy execution successful.
2025-05-01 00:02:19.431 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 00:02:19.432 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 00:02:19.432 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 0.6163ms
2025-05-01 00:02:21.794 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 00:02:21.794 +07:00 [INF] CORS policy execution successful.
2025-05-01 00:02:21.794 +07:00 [INF] CORS policy execution successful.
2025-05-01 00:02:21.794 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 00:02:21.794 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 00:02:21.794 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 0.8069ms
2025-05-01 00:02:24.174 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 00:02:24.174 +07:00 [INF] CORS policy execution successful.
2025-05-01 00:02:24.174 +07:00 [INF] CORS policy execution successful.
2025-05-01 00:02:24.174 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 00:02:24.175 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 00:02:24.175 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 1.3331ms
2025-05-01 00:02:24.454 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 00:02:24.454 +07:00 [INF] CORS policy execution successful.
2025-05-01 00:02:24.455 +07:00 [INF] CORS policy execution successful.
2025-05-01 00:02:24.455 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 00:02:24.455 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 00:02:24.456 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 1.7671ms
2025-05-01 00:02:26.819 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 00:02:26.819 +07:00 [INF] CORS policy execution successful.
2025-05-01 00:02:26.819 +07:00 [INF] CORS policy execution successful.
2025-05-01 00:02:26.820 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 00:02:26.820 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 00:02:26.820 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 0.4172ms
2025-05-01 00:02:29.209 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 00:02:29.209 +07:00 [INF] CORS policy execution successful.
2025-05-01 00:02:29.209 +07:00 [INF] CORS policy execution successful.
2025-05-01 00:02:29.209 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 00:02:29.209 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 00:02:29.209 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 0.3547ms
2025-05-01 00:02:29.475 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 00:02:29.475 +07:00 [INF] CORS policy execution successful.
2025-05-01 00:02:29.475 +07:00 [INF] CORS policy execution successful.
2025-05-01 00:02:29.475 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 00:02:29.475 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 00:02:29.475 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 0.3345ms
2025-05-01 00:02:31.908 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 00:02:31.909 +07:00 [INF] CORS policy execution successful.
2025-05-01 00:02:31.909 +07:00 [INF] CORS policy execution successful.
2025-05-01 00:02:31.909 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 00:02:31.909 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 00:02:31.910 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 0.3832ms
2025-05-01 00:02:34.377 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 00:02:34.377 +07:00 [INF] CORS policy execution successful.
2025-05-01 00:02:34.377 +07:00 [INF] CORS policy execution successful.
2025-05-01 00:02:34.377 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 00:02:34.377 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 00:02:34.377 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 0.2172ms
2025-05-01 00:02:34.779 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 00:02:34.779 +07:00 [INF] CORS policy execution successful.
2025-05-01 00:02:34.779 +07:00 [INF] CORS policy execution successful.
2025-05-01 00:02:34.779 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 00:02:34.779 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 00:02:34.779 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 0.1997ms
2025-05-01 00:02:37.084 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 00:02:37.085 +07:00 [INF] CORS policy execution successful.
2025-05-01 00:02:37.085 +07:00 [INF] CORS policy execution successful.
2025-05-01 00:02:37.085 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 00:02:37.085 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 00:02:37.085 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 0.4827ms
2025-05-01 00:02:40.306 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 00:02:40.307 +07:00 [INF] CORS policy execution successful.
2025-05-01 00:02:40.307 +07:00 [INF] CORS policy execution successful.
2025-05-01 00:02:40.307 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 00:02:40.307 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 00:02:40.307 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 0.3541ms
2025-05-01 00:02:43.037 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 00:02:43.037 +07:00 [INF] CORS policy execution successful.
2025-05-01 00:02:43.037 +07:00 [INF] CORS policy execution successful.
2025-05-01 00:02:43.037 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 00:02:43.037 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 00:02:43.037 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 0.6135ms
2025-05-01 00:02:49.062 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 00:02:49.062 +07:00 [INF] CORS policy execution successful.
2025-05-01 00:02:49.062 +07:00 [INF] CORS policy execution successful.
2025-05-01 00:02:49.062 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 00:02:49.062 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 00:02:49.062 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 0.4016ms
2025-05-01 00:02:55.659 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 00:02:55.659 +07:00 [INF] CORS policy execution successful.
2025-05-01 00:02:55.659 +07:00 [INF] CORS policy execution successful.
2025-05-01 00:02:55.659 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 00:02:55.659 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 00:02:55.659 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 0.5134ms
2025-05-01 00:03:02.431 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 00:03:02.431 +07:00 [INF] CORS policy execution successful.
2025-05-01 00:03:02.431 +07:00 [INF] CORS policy execution successful.
2025-05-01 00:03:02.431 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 00:03:02.431 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 00:03:02.431 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 0.2387ms
2025-05-01 00:03:12.161 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 00:03:12.161 +07:00 [INF] CORS policy execution successful.
2025-05-01 00:03:12.161 +07:00 [INF] CORS policy execution successful.
2025-05-01 00:03:12.161 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 00:03:12.162 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 00:03:12.162 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 0.3622ms
2025-05-01 00:03:18.605 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 00:03:18.605 +07:00 [INF] CORS policy execution successful.
2025-05-01 00:03:18.606 +07:00 [INF] CORS policy execution successful.
2025-05-01 00:03:18.606 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 00:03:18.606 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 00:03:18.607 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 1.5611ms
2025-05-01 00:03:25.425 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 00:03:25.425 +07:00 [INF] CORS policy execution successful.
2025-05-01 00:03:25.425 +07:00 [INF] CORS policy execution successful.
2025-05-01 00:03:25.425 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 00:03:25.425 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 00:03:25.425 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 0.2607ms
2025-05-01 00:03:34.736 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 00:03:34.736 +07:00 [INF] CORS policy execution successful.
2025-05-01 00:03:34.736 +07:00 [INF] CORS policy execution successful.
2025-05-01 00:03:34.736 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 00:03:34.736 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 00:03:34.737 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 0.3091ms
2025-05-01 00:03:42.344 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 00:03:42.344 +07:00 [INF] CORS policy execution successful.
2025-05-01 00:03:42.344 +07:00 [INF] CORS policy execution successful.
2025-05-01 00:03:42.344 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 00:03:42.344 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 00:03:42.344 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 0.7211ms
2025-05-01 00:03:49.550 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 00:03:49.550 +07:00 [INF] CORS policy execution successful.
2025-05-01 00:03:49.551 +07:00 [INF] CORS policy execution successful.
2025-05-01 00:03:49.551 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 00:03:49.551 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 00:03:49.551 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 0.8957ms
2025-05-01 00:03:58.437 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 00:03:58.437 +07:00 [INF] CORS policy execution successful.
2025-05-01 00:03:58.437 +07:00 [INF] CORS policy execution successful.
2025-05-01 00:03:58.437 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 00:03:58.437 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 00:03:58.437 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 0.3402ms
2025-05-01 00:04:07.461 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 00:04:07.461 +07:00 [INF] CORS policy execution successful.
2025-05-01 00:04:07.463 +07:00 [INF] CORS policy execution successful.
2025-05-01 00:04:07.463 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 00:04:07.463 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 00:04:07.463 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 2.0104ms
2025-05-01 00:04:15.566 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 00:04:15.567 +07:00 [INF] CORS policy execution successful.
2025-05-01 00:04:15.567 +07:00 [INF] CORS policy execution successful.
2025-05-01 00:04:15.567 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 00:04:15.567 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 00:04:15.567 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 0.7975ms
2025-05-01 00:04:22.529 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 00:04:22.530 +07:00 [INF] CORS policy execution successful.
2025-05-01 00:04:22.530 +07:00 [INF] CORS policy execution successful.
2025-05-01 00:04:22.530 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 00:04:22.530 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 00:04:22.530 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 0.3717ms
2025-05-01 00:04:24.337 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 00:04:24.338 +07:00 [ERR] An unhandled exception has occurred while executing the request.
System.Net.WebSockets.WebSocketException (0x80004005): The remote party closed the WebSocket connection without completing the close handshake.
   at System.Net.WebSockets.ManagedWebSocket.ThrowEOFUnexpected()
   at System.Net.WebSockets.ManagedWebSocket.EnsureBufferContainsAsync(Int32 minimumRequiredBytes, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.WebSockets.ManagedWebSocket.ReceiveAsyncPrivate[TResult](Memory`1 payloadBuffer, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at server.Services.WebSocketService.webSocket.Receiver(Client client) in C:\Users\Thao\source\Flutter\Message_app\server\Services\WebSocketService\websocket.cs:line 124
   at server.Services.WebSocketService.webSocket.HandleWebSocket(HttpContext context) in C:\Users\Thao\source\Flutter\Message_app\server\Services\WebSocketService\websocket.cs:line 107
   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() in C:\Users\Thao\source\Flutter\Message_app\server\Program.cs:line 89
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-05-01 00:04:24.345 +07:00 [WRN] The response has already started, the error page middleware will not be executed.
2025-05-01 00:04:24.346 +07:00 [ERR] Connection id "0HNC80UJEAM2S", Request id "0HNC80UJEAM2S:00000001": An unhandled exception was thrown by the application.
System.Net.WebSockets.WebSocketException (0x80004005): The remote party closed the WebSocket connection without completing the close handshake.
   at System.Net.WebSockets.ManagedWebSocket.ThrowEOFUnexpected()
   at System.Net.WebSockets.ManagedWebSocket.EnsureBufferContainsAsync(Int32 minimumRequiredBytes, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.WebSockets.ManagedWebSocket.ReceiveAsyncPrivate[TResult](Memory`1 payloadBuffer, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at server.Services.WebSocketService.webSocket.Receiver(Client client) in C:\Users\Thao\source\Flutter\Message_app\server\Services\WebSocketService\websocket.cs:line 124
   at server.Services.WebSocketService.webSocket.HandleWebSocket(HttpContext context) in C:\Users\Thao\source\Flutter\Message_app\server\Services\WebSocketService\websocket.cs:line 107
   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() in C:\Users\Thao\source\Flutter\Message_app\server\Program.cs:line 89
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-05-01 00:04:24.351 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 101 null null 341928.2331ms
2025-05-01 06:10:01.507 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 06:10:01.508 +07:00 [INF] CORS policy execution successful.
2025-05-01 06:10:01.508 +07:00 [INF] CORS policy execution successful.
2025-05-01 06:10:01.508 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 06:10:02.089 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 06:10:02.089 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 101 null null 581.1997ms
2025-05-01 06:10:27.655 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 06:10:27.655 +07:00 [ERR] An unhandled exception has occurred while executing the request.
System.Net.WebSockets.WebSocketException (0x80004005): The remote party closed the WebSocket connection without completing the close handshake.
 ---> Microsoft.AspNetCore.Connections.ConnectionResetException: An existing connection was forcibly closed by the remote host.
 ---> System.Net.Sockets.SocketException (10054): An existing connection was forcibly closed by the remote host.
   --- End of inner exception stack trace ---
   at System.IO.Pipelines.Pipe.GetReadAsyncResult()
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1UpgradeMessageBody.ReadAsyncInternalAwaited(ValueTask`1 readTask, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpRequestStream.ReadAsyncInternal(Memory`1 destination, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.IO.Stream.ReadAtLeastAsyncCore(Memory`1 buffer, Int32 minimumBytes, Boolean throwOnEndOfStream, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Net.WebSockets.ManagedWebSocket.EnsureBufferContainsAsync(Int32 minimumRequiredBytes, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.WebSockets.ManagedWebSocket.ReceiveAsyncPrivate[TResult](Memory`1 payloadBuffer, CancellationToken cancellationToken)
   at System.Net.WebSockets.ManagedWebSocket.ReceiveAsyncPrivate[TResult](Memory`1 payloadBuffer, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at server.Services.WebSocketService.webSocket.Receiver(Client client) in C:\Users\Thao\source\Flutter\Message_app\server\Services\WebSocketService\websocket.cs:line 124
   at server.Services.WebSocketService.webSocket.HandleWebSocket(HttpContext context) in C:\Users\Thao\source\Flutter\Message_app\server\Services\WebSocketService\websocket.cs:line 107
   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() in C:\Users\Thao\source\Flutter\Message_app\server\Program.cs:line 89
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-05-01 06:10:27.661 +07:00 [WRN] The response has already started, the error page middleware will not be executed.
2025-05-01 06:10:27.661 +07:00 [ERR] Connection id "0HNC80UJEAM1T", Request id "0HNC80UJEAM1T:00000001": An unhandled exception was thrown by the application.
System.Net.WebSockets.WebSocketException (0x80004005): The remote party closed the WebSocket connection without completing the close handshake.
 ---> Microsoft.AspNetCore.Connections.ConnectionResetException: An existing connection was forcibly closed by the remote host.
 ---> System.Net.Sockets.SocketException (10054): An existing connection was forcibly closed by the remote host.
   --- End of inner exception stack trace ---
   at System.IO.Pipelines.Pipe.GetReadAsyncResult()
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1UpgradeMessageBody.ReadAsyncInternalAwaited(ValueTask`1 readTask, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpRequestStream.ReadAsyncInternal(Memory`1 destination, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.IO.Stream.ReadAtLeastAsyncCore(Memory`1 buffer, Int32 minimumBytes, Boolean throwOnEndOfStream, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Net.WebSockets.ManagedWebSocket.EnsureBufferContainsAsync(Int32 minimumRequiredBytes, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.WebSockets.ManagedWebSocket.ReceiveAsyncPrivate[TResult](Memory`1 payloadBuffer, CancellationToken cancellationToken)
   at System.Net.WebSockets.ManagedWebSocket.ReceiveAsyncPrivate[TResult](Memory`1 payloadBuffer, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at server.Services.WebSocketService.webSocket.Receiver(Client client) in C:\Users\Thao\source\Flutter\Message_app\server\Services\WebSocketService\websocket.cs:line 124
   at server.Services.WebSocketService.webSocket.HandleWebSocket(HttpContext context) in C:\Users\Thao\source\Flutter\Message_app\server\Services\WebSocketService\websocket.cs:line 107
   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() in C:\Users\Thao\source\Flutter\Message_app\server\Program.cs:line 89
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-05-01 06:10:27.664 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - 101 null null 22567022.7041ms
2025-05-01 06:12:04.498 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5053/api/Auth/login - null null
2025-05-01 06:12:04.501 +07:00 [INF] CORS policy execution successful.
2025-05-01 06:12:04.505 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5053/api/Auth/login - 204 null null 7.9874ms
2025-05-01 06:12:04.508 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5053/api/Auth/login - application/json 53
2025-05-01 06:12:04.510 +07:00 [INF] CORS policy execution successful.
2025-05-01 06:12:04.510 +07:00 [INF] CORS policy execution successful.
2025-05-01 06:12:04.511 +07:00 [INF] Executing endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-01 06:12:04.520 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(server.DTO.AuthDTO.LoginDTO) on controller Message_app.Controllers.AuthController (Message_app).
2025-05-01 06:12:04.744 +07:00 [INF] Executed DbCommand (132ms) [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[avatar_url], [u].[bio], [u].[birthday], [u].[created_at], [u].[email], [u].[gender], [u].[interests], [u].[location], [u].[password], [u].[passwordSalt], [u].[username]
FROM [Users] AS [u]
WHERE [u].[email] = @__email_0
2025-05-01 06:12:04.760 +07:00 [INF] Executing OkObjectResult, writing value of type 'server.DTO.AuthDTO.LoginRespose'.
2025-05-01 06:12:04.764 +07:00 [INF] Executed action Message_app.Controllers.AuthController.Login (Message_app) in 242.7356ms
2025-05-01 06:12:04.764 +07:00 [INF] Executed endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-01 06:12:04.765 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5053/api/Auth/login - 200 null application/json; charset=utf-8 257.774ms
2025-05-01 06:12:05.007 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5053/api/Conversation/get_conversations/5 - null null
2025-05-01 06:12:05.007 +07:00 [INF] CORS policy execution successful.
2025-05-01 06:12:05.007 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5053/api/Conversation/get_conversations/5 - 204 null null 0.6439ms
2025-05-01 06:12:05.008 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5053/api/Conversation/get_conversations/5 - null null
2025-05-01 06:12:05.008 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/api/Conversation/get_conversations/5 - null null
2025-05-01 06:12:05.008 +07:00 [INF] CORS policy execution successful.
2025-05-01 06:12:05.009 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5053/api/Conversation/get_conversations/5 - 204 null null 0.309ms
2025-05-01 06:12:05.009 +07:00 [INF] CORS policy execution successful.
2025-05-01 06:12:05.009 +07:00 [INF] CORS policy execution successful.
2025-05-01 06:12:05.009 +07:00 [INF] Executing endpoint 'server.Controllers.ConversationController.GetConversations (Message_app)'
2025-05-01 06:12:05.009 +07:00 [INF] Route matched with {action = "GetConversations", controller = "Conversation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetConversations(Int32) on controller server.Controllers.ConversationController (Message_app).
2025-05-01 06:12:05.016 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[server.DTO.ConversationDto, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-01 06:12:05.017 +07:00 [INF] Executed action server.Controllers.ConversationController.GetConversations (Message_app) in 7.9872ms
2025-05-01 06:12:05.017 +07:00 [INF] Executed endpoint 'server.Controllers.ConversationController.GetConversations (Message_app)'
2025-05-01 06:12:05.017 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/api/Conversation/get_conversations/5 - 200 null application/json; charset=utf-8 8.9403ms
2025-05-01 06:12:05.018 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/api/Conversation/get_conversations/5 - null null
2025-05-01 06:12:05.019 +07:00 [INF] CORS policy execution successful.
2025-05-01 06:12:05.019 +07:00 [INF] CORS policy execution successful.
2025-05-01 06:12:05.019 +07:00 [INF] Executing endpoint 'server.Controllers.ConversationController.GetConversations (Message_app)'
2025-05-01 06:12:05.019 +07:00 [INF] Route matched with {action = "GetConversations", controller = "Conversation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetConversations(Int32) on controller server.Controllers.ConversationController (Message_app).
2025-05-01 06:12:05.020 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[server.DTO.ConversationDto, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-01 06:12:05.021 +07:00 [INF] Executed action server.Controllers.ConversationController.GetConversations (Message_app) in 1.679ms
2025-05-01 06:12:05.021 +07:00 [INF] Executed endpoint 'server.Controllers.ConversationController.GetConversations (Message_app)'
2025-05-01 06:12:05.021 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/api/Conversation/get_conversations/5 - 200 null application/json; charset=utf-8 2.3181ms
2025-05-01 06:12:05.039 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 06:12:05.039 +07:00 [INF] CORS policy execution successful.
2025-05-01 06:12:05.039 +07:00 [INF] CORS policy execution successful.
2025-05-01 06:12:05.039 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 06:12:05.090 +07:00 [INF] Executed DbCommand (19ms) [Parameters=[@__client_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[conversation_id]
FROM [Participants] AS [p]
WHERE [p].[user_id] = @__client_UserId_0 AND [p].[is_deleted] = CAST(0 AS bit)
2025-05-01 06:12:29.381 +07:00 [INF] Request starting HTTP/1.1 POST http://192.168.1.9:5053/api/Auth/login - application/json 57
2025-05-01 06:12:29.392 +07:00 [INF] Executing endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-01 06:12:29.392 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(server.DTO.AuthDTO.LoginDTO) on controller Message_app.Controllers.AuthController (Message_app).
2025-05-01 06:12:29.408 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[avatar_url], [u].[bio], [u].[birthday], [u].[created_at], [u].[email], [u].[gender], [u].[interests], [u].[location], [u].[password], [u].[passwordSalt], [u].[username]
FROM [Users] AS [u]
WHERE [u].[email] = @__email_0
2025-05-01 06:12:29.409 +07:00 [INF] Executing OkObjectResult, writing value of type 'server.DTO.AuthDTO.LoginRespose'.
2025-05-01 06:12:29.409 +07:00 [INF] Executed action Message_app.Controllers.AuthController.Login (Message_app) in 17.186ms
2025-05-01 06:12:29.409 +07:00 [INF] Executed endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-01 06:12:29.409 +07:00 [INF] Request finished HTTP/1.1 POST http://192.168.1.9:5053/api/Auth/login - 200 null application/json; charset=utf-8 27.714ms
2025-05-01 06:12:30.578 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/api/Conversation/get_conversations/2 - null null
2025-05-01 06:12:30.579 +07:00 [INF] Executing endpoint 'server.Controllers.ConversationController.GetConversations (Message_app)'
2025-05-01 06:12:30.579 +07:00 [INF] Route matched with {action = "GetConversations", controller = "Conversation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetConversations(Int32) on controller server.Controllers.ConversationController (Message_app).
2025-05-01 06:12:30.580 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/api/Conversation/get_conversations/2 - null null
2025-05-01 06:12:30.580 +07:00 [INF] Executing endpoint 'server.Controllers.ConversationController.GetConversations (Message_app)'
2025-05-01 06:12:30.580 +07:00 [INF] Route matched with {action = "GetConversations", controller = "Conversation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetConversations(Int32) on controller server.Controllers.ConversationController (Message_app).
2025-05-01 06:12:30.583 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[server.DTO.ConversationDto, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-01 06:12:30.583 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[server.DTO.ConversationDto, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-01 06:12:30.583 +07:00 [INF] Executed action server.Controllers.ConversationController.GetConversations (Message_app) in 2.8234ms
2025-05-01 06:12:30.583 +07:00 [INF] Executed endpoint 'server.Controllers.ConversationController.GetConversations (Message_app)'
2025-05-01 06:12:30.584 +07:00 [INF] Executed action server.Controllers.ConversationController.GetConversations (Message_app) in 3.9924ms
2025-05-01 06:12:30.584 +07:00 [INF] Executed endpoint 'server.Controllers.ConversationController.GetConversations (Message_app)'
2025-05-01 06:12:30.584 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/api/Conversation/get_conversations/2 - 200 null application/json; charset=utf-8 5.5292ms
2025-05-01 06:12:30.583 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/api/Conversation/get_conversations/2 - 200 null application/json; charset=utf-8 3.6235ms
2025-05-01 06:12:31.137 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - null null
2025-05-01 06:12:31.137 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 06:12:31.245 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__client_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[conversation_id]
FROM [Participants] AS [p]
WHERE [p].[user_id] = @__client_UserId_0 AND [p].[is_deleted] = CAST(0 AS bit)
2025-05-01 06:12:32.010 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/api/Message/getMessages/1/2 - null null
2025-05-01 06:12:32.011 +07:00 [INF] Executing endpoint 'server.Controllers.MessageController.GetMessages (Message_app)'
2025-05-01 06:12:32.011 +07:00 [INF] Route matched with {action = "GetMessages", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32, Int32) on controller server.Controllers.MessageController (Message_app).
2025-05-01 06:12:32.030 +07:00 [WRN] Message 81 not found in Redis
2025-05-01 06:12:32.031 +07:00 [WRN] Message 80 not found in Redis
2025-05-01 06:12:32.033 +07:00 [WRN] Message 79 not found in Redis
2025-05-01 06:12:32.034 +07:00 [WRN] Message 78 not found in Redis
2025-05-01 06:12:32.035 +07:00 [WRN] Message 77 not found in Redis
2025-05-01 06:12:32.036 +07:00 [WRN] Message 76 not found in Redis
2025-05-01 06:12:32.038 +07:00 [WRN] Message 75 not found in Redis
2025-05-01 06:12:32.039 +07:00 [WRN] Message 74 not found in Redis
2025-05-01 06:12:32.040 +07:00 [WRN] Message 73 not found in Redis
2025-05-01 06:12:32.041 +07:00 [WRN] Message 72 not found in Redis
2025-05-01 06:12:32.042 +07:00 [WRN] Message 71 not found in Redis
2025-05-01 06:12:32.043 +07:00 [WRN] Message 68 not found in Redis
2025-05-01 06:12:32.043 +07:00 [WRN] Message 64 not found in Redis
2025-05-01 06:12:32.044 +07:00 [WRN] Message 62 not found in Redis
2025-05-01 06:12:32.045 +07:00 [WRN] Message 61 not found in Redis
2025-05-01 06:12:32.047 +07:00 [WRN] Message 60 not found in Redis
2025-05-01 06:12:32.048 +07:00 [WRN] Message 59 not found in Redis
2025-05-01 06:12:32.049 +07:00 [WRN] Message 57 not found in Redis
2025-05-01 06:12:32.050 +07:00 [WRN] Message 55 not found in Redis
2025-05-01 06:12:32.051 +07:00 [WRN] Message 54 not found in Redis
2025-05-01 06:12:32.051 +07:00 [WRN] Message 51 not found in Redis
2025-05-01 06:12:32.052 +07:00 [WRN] Message 49 not found in Redis
2025-05-01 06:12:32.053 +07:00 [WRN] Message 11 not found in Redis
2025-05-01 06:12:32.053 +07:00 [WRN] Message 8 not found in Redis
2025-05-01 06:12:32.054 +07:00 [WRN] Message 3 not found in Redis
2025-05-01 06:12:32.054 +07:00 [WRN] Message 2 not found in Redis
2025-05-01 06:12:32.055 +07:00 [WRN] Message 1 not found in Redis
2025-05-01 06:12:32.055 +07:00 [INF] Retrieved 12 messages from Redis for conversation 1
2025-05-01 06:12:32.058 +07:00 [INF] Retrieved 12 messages from Redis for conversation 1 and user 2
2025-05-01 06:12:32.059 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[server.DTO.MessageWithAttachment, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-01 06:12:32.059 +07:00 [INF] Executed action server.Controllers.MessageController.GetMessages (Message_app) in 47.7937ms
2025-05-01 06:12:32.059 +07:00 [INF] Executed endpoint 'server.Controllers.MessageController.GetMessages (Message_app)'
2025-05-01 06:12:32.059 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/api/Message/getMessages/1/2 - 200 null application/json; charset=utf-8 49.2601ms
2025-05-01 06:12:32.118 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/api/Conversation/get_first_conversation/1 - null null
2025-05-01 06:12:32.118 +07:00 [INF] Executing endpoint 'server.Controllers.ConversationController.GetFirstConversation (Message_app)'
2025-05-01 06:12:32.118 +07:00 [INF] Route matched with {action = "GetFirstConversation", controller = "Conversation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFirstConversation(Int32) on controller server.Controllers.ConversationController (Message_app).
2025-05-01 06:12:32.136 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[id], [c].[created_at], [c].[is_group], [c].[lastMessage], [c].[lastMessageSender], [c].[lastMessageTime], [c].[name]
FROM [Conversations] AS [c]
WHERE [c].[id] = @__p_0
2025-05-01 06:12:32.137 +07:00 [INF] Executing OkObjectResult, writing value of type 'server.Models.Conversation'.
2025-05-01 06:12:32.137 +07:00 [INF] Executed action server.Controllers.ConversationController.GetFirstConversation (Message_app) in 18.6281ms
2025-05-01 06:12:32.137 +07:00 [INF] Executed endpoint 'server.Controllers.ConversationController.GetFirstConversation (Message_app)'
2025-05-01 06:12:32.137 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/api/Conversation/get_first_conversation/1 - 200 null application/json; charset=utf-8 19.1689ms
2025-05-01 06:12:32.274 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/api/Participant/get_participants/1 - null null
2025-05-01 06:12:32.274 +07:00 [INF] Executing endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 06:12:32.274 +07:00 [INF] Route matched with {action = "GetParticipants", controller = "Participant"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetParticipants(Int32) on controller server.Controllers.ParticipantController (Message_app).
2025-05-01 06:12:32.281 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__conversation_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[id], [p].[adder], [p].[conversation_id], [p].[is_deleted], [p].[joined_at], [p].[name], [p].[role], [p].[user_id]
FROM [Participants] AS [p]
WHERE [p].[conversation_id] = @__conversation_id_0
2025-05-01 06:12:32.284 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType17`1[[System.Collections.Generic.List`1[[server.Models.Participants, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-01 06:12:32.284 +07:00 [INF] Executed action server.Controllers.ParticipantController.GetParticipants (Message_app) in 9.5788ms
2025-05-01 06:12:32.284 +07:00 [INF] Executed endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 06:12:32.284 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/api/Participant/get_participants/1 - 200 null application/json; charset=utf-8 10.0475ms
2025-05-01 06:12:33.940 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5053/api/Message/getMessages/1/5 - null null
2025-05-01 06:12:33.940 +07:00 [INF] CORS policy execution successful.
2025-05-01 06:12:33.940 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5053/api/Message/getMessages/1/5 - 204 null null 0.1937ms
2025-05-01 06:12:33.942 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/api/Message/getMessages/1/5 - null null
2025-05-01 06:12:33.942 +07:00 [INF] CORS policy execution successful.
2025-05-01 06:12:33.942 +07:00 [INF] CORS policy execution successful.
2025-05-01 06:12:33.942 +07:00 [INF] Executing endpoint 'server.Controllers.MessageController.GetMessages (Message_app)'
2025-05-01 06:12:33.942 +07:00 [INF] Route matched with {action = "GetMessages", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32, Int32) on controller server.Controllers.MessageController (Message_app).
2025-05-01 06:12:33.948 +07:00 [WRN] Message 81 not found in Redis
2025-05-01 06:12:33.948 +07:00 [WRN] Message 80 not found in Redis
2025-05-01 06:12:33.949 +07:00 [WRN] Message 79 not found in Redis
2025-05-01 06:12:33.949 +07:00 [WRN] Message 78 not found in Redis
2025-05-01 06:12:33.949 +07:00 [WRN] Message 77 not found in Redis
2025-05-01 06:12:33.950 +07:00 [WRN] Message 76 not found in Redis
2025-05-01 06:12:33.950 +07:00 [WRN] Message 75 not found in Redis
2025-05-01 06:12:33.950 +07:00 [WRN] Message 74 not found in Redis
2025-05-01 06:12:33.950 +07:00 [WRN] Message 73 not found in Redis
2025-05-01 06:12:33.951 +07:00 [WRN] Message 72 not found in Redis
2025-05-01 06:12:33.951 +07:00 [WRN] Message 71 not found in Redis
2025-05-01 06:12:33.951 +07:00 [WRN] Message 68 not found in Redis
2025-05-01 06:12:33.952 +07:00 [WRN] Message 64 not found in Redis
2025-05-01 06:12:33.952 +07:00 [WRN] Message 62 not found in Redis
2025-05-01 06:12:33.952 +07:00 [WRN] Message 61 not found in Redis
2025-05-01 06:12:33.952 +07:00 [WRN] Message 60 not found in Redis
2025-05-01 06:12:33.953 +07:00 [WRN] Message 59 not found in Redis
2025-05-01 06:12:33.953 +07:00 [WRN] Message 57 not found in Redis
2025-05-01 06:12:33.953 +07:00 [WRN] Message 55 not found in Redis
2025-05-01 06:12:33.954 +07:00 [WRN] Message 54 not found in Redis
2025-05-01 06:12:33.954 +07:00 [WRN] Message 51 not found in Redis
2025-05-01 06:12:33.954 +07:00 [WRN] Message 49 not found in Redis
2025-05-01 06:12:33.954 +07:00 [WRN] Message 11 not found in Redis
2025-05-01 06:12:33.955 +07:00 [WRN] Message 8 not found in Redis
2025-05-01 06:12:33.955 +07:00 [WRN] Message 3 not found in Redis
2025-05-01 06:12:33.955 +07:00 [WRN] Message 2 not found in Redis
2025-05-01 06:12:33.955 +07:00 [WRN] Message 1 not found in Redis
2025-05-01 06:12:33.956 +07:00 [INF] Retrieved 12 messages from Redis for conversation 1
2025-05-01 06:12:33.956 +07:00 [INF] Retrieved 12 messages from Redis for conversation 1 and user 5
2025-05-01 06:12:33.956 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[server.DTO.MessageWithAttachment, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-01 06:12:33.956 +07:00 [INF] Executed action server.Controllers.MessageController.GetMessages (Message_app) in 13.4401ms
2025-05-01 06:12:33.956 +07:00 [INF] Executed endpoint 'server.Controllers.MessageController.GetMessages (Message_app)'
2025-05-01 06:12:33.956 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/api/Message/getMessages/1/5 - 200 null application/json; charset=utf-8 14.3735ms
2025-05-01 06:12:33.974 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5053/api/Conversation/get_first_conversation/1 - null null
2025-05-01 06:12:33.975 +07:00 [INF] CORS policy execution successful.
2025-05-01 06:12:33.975 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5053/api/Conversation/get_first_conversation/1 - 204 null null 0.5401ms
2025-05-01 06:12:33.976 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/api/Conversation/get_first_conversation/1 - null null
2025-05-01 06:12:33.976 +07:00 [INF] CORS policy execution successful.
2025-05-01 06:12:33.976 +07:00 [INF] CORS policy execution successful.
2025-05-01 06:12:33.976 +07:00 [INF] Executing endpoint 'server.Controllers.ConversationController.GetFirstConversation (Message_app)'
2025-05-01 06:12:33.976 +07:00 [INF] Route matched with {action = "GetFirstConversation", controller = "Conversation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFirstConversation(Int32) on controller server.Controllers.ConversationController (Message_app).
2025-05-01 06:12:33.982 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[id], [c].[created_at], [c].[is_group], [c].[lastMessage], [c].[lastMessageSender], [c].[lastMessageTime], [c].[name]
FROM [Conversations] AS [c]
WHERE [c].[id] = @__p_0
2025-05-01 06:12:33.982 +07:00 [INF] Executing OkObjectResult, writing value of type 'server.Models.Conversation'.
2025-05-01 06:12:33.982 +07:00 [INF] Executed action server.Controllers.ConversationController.GetFirstConversation (Message_app) in 6.1149ms
2025-05-01 06:12:33.983 +07:00 [INF] Executed endpoint 'server.Controllers.ConversationController.GetFirstConversation (Message_app)'
2025-05-01 06:12:33.983 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/api/Conversation/get_first_conversation/1 - 200 null application/json; charset=utf-8 6.6757ms
2025-05-01 06:12:33.998 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5053/api/Participant/get_participants/1 - null null
2025-05-01 06:12:33.998 +07:00 [INF] CORS policy execution successful.
2025-05-01 06:12:33.998 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5053/api/Participant/get_participants/1 - 204 null null 0.1588ms
2025-05-01 06:12:33.999 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/api/Participant/get_participants/1 - null null
2025-05-01 06:12:34.000 +07:00 [INF] CORS policy execution successful.
2025-05-01 06:12:34.000 +07:00 [INF] CORS policy execution successful.
2025-05-01 06:12:34.000 +07:00 [INF] Executing endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 06:12:34.000 +07:00 [INF] Route matched with {action = "GetParticipants", controller = "Participant"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetParticipants(Int32) on controller server.Controllers.ParticipantController (Message_app).
2025-05-01 06:12:34.005 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__conversation_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[id], [p].[adder], [p].[conversation_id], [p].[is_deleted], [p].[joined_at], [p].[name], [p].[role], [p].[user_id]
FROM [Participants] AS [p]
WHERE [p].[conversation_id] = @__conversation_id_0
2025-05-01 06:12:34.005 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType17`1[[System.Collections.Generic.List`1[[server.Models.Participants, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-01 06:12:34.006 +07:00 [INF] Executed action server.Controllers.ParticipantController.GetParticipants (Message_app) in 5.9251ms
2025-05-01 06:12:34.006 +07:00 [INF] Executed endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 06:12:34.006 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/api/Participant/get_participants/1 - 200 null application/json; charset=utf-8 6.3278ms
2025-05-01 06:12:42.333 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5053/api/Participant/get_participants/1 - null null
2025-05-01 06:12:42.333 +07:00 [INF] CORS policy execution successful.
2025-05-01 06:12:42.333 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5053/api/Participant/get_participants/1 - 204 null null 0.4099ms
2025-05-01 06:12:42.335 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/api/Participant/get_participants/1 - null null
2025-05-01 06:12:42.335 +07:00 [INF] CORS policy execution successful.
2025-05-01 06:12:42.335 +07:00 [INF] CORS policy execution successful.
2025-05-01 06:12:42.335 +07:00 [INF] Executing endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 06:12:42.335 +07:00 [INF] Route matched with {action = "GetParticipants", controller = "Participant"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetParticipants(Int32) on controller server.Controllers.ParticipantController (Message_app).
2025-05-01 06:12:42.345 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__conversation_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[id], [p].[adder], [p].[conversation_id], [p].[is_deleted], [p].[joined_at], [p].[name], [p].[role], [p].[user_id]
FROM [Participants] AS [p]
WHERE [p].[conversation_id] = @__conversation_id_0
2025-05-01 06:12:42.346 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType17`1[[System.Collections.Generic.List`1[[server.Models.Participants, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-01 06:12:42.346 +07:00 [INF] Executed action server.Controllers.ParticipantController.GetParticipants (Message_app) in 10.7332ms
2025-05-01 06:12:42.346 +07:00 [INF] Executed endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 06:12:42.346 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/api/Participant/get_participants/1 - 200 null application/json; charset=utf-8 11.2424ms
2025-05-01 06:12:46.414 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/api/Participant/get_participants/1 - null null
2025-05-01 06:12:46.414 +07:00 [INF] Executing endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 06:12:46.415 +07:00 [INF] Route matched with {action = "GetParticipants", controller = "Participant"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetParticipants(Int32) on controller server.Controllers.ParticipantController (Message_app).
2025-05-01 06:12:46.421 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__conversation_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[id], [p].[adder], [p].[conversation_id], [p].[is_deleted], [p].[joined_at], [p].[name], [p].[role], [p].[user_id]
FROM [Participants] AS [p]
WHERE [p].[conversation_id] = @__conversation_id_0
2025-05-01 06:12:46.421 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType17`1[[System.Collections.Generic.List`1[[server.Models.Participants, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-01 06:12:46.421 +07:00 [INF] Executed action server.Controllers.ParticipantController.GetParticipants (Message_app) in 6.382ms
2025-05-01 06:12:46.421 +07:00 [INF] Executed endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 06:12:46.422 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/api/Participant/get_participants/1 - 200 null application/json; charset=utf-8 7.7749ms
2025-05-01 06:16:03.240 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5053/api/Participant/get_participants/1 - null null
2025-05-01 06:16:03.240 +07:00 [INF] CORS policy execution successful.
2025-05-01 06:16:03.240 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5053/api/Participant/get_participants/1 - 204 null null 0.1967ms
2025-05-01 06:16:03.242 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/api/Participant/get_participants/1 - null null
2025-05-01 06:16:03.242 +07:00 [INF] CORS policy execution successful.
2025-05-01 06:16:03.242 +07:00 [INF] CORS policy execution successful.
2025-05-01 06:16:03.243 +07:00 [INF] Executing endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 06:16:03.243 +07:00 [INF] Route matched with {action = "GetParticipants", controller = "Participant"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetParticipants(Int32) on controller server.Controllers.ParticipantController (Message_app).
2025-05-01 06:16:03.258 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[@__conversation_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[id], [p].[adder], [p].[conversation_id], [p].[is_deleted], [p].[joined_at], [p].[name], [p].[role], [p].[user_id]
FROM [Participants] AS [p]
WHERE [p].[conversation_id] = @__conversation_id_0
2025-05-01 06:16:03.258 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType17`1[[System.Collections.Generic.List`1[[server.Models.Participants, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-01 06:16:03.258 +07:00 [INF] Executed action server.Controllers.ParticipantController.GetParticipants (Message_app) in 15.1793ms
2025-05-01 06:16:03.258 +07:00 [INF] Executed endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 06:16:03.258 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/api/Participant/get_participants/1 - 200 null application/json; charset=utf-8 15.8681ms
2025-05-01 06:16:03.360 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/api/Participant/get_participants/1 - null null
2025-05-01 06:16:03.360 +07:00 [INF] Executing endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 06:16:03.360 +07:00 [INF] Route matched with {action = "GetParticipants", controller = "Participant"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetParticipants(Int32) on controller server.Controllers.ParticipantController (Message_app).
2025-05-01 06:16:03.362 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__conversation_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[id], [p].[adder], [p].[conversation_id], [p].[is_deleted], [p].[joined_at], [p].[name], [p].[role], [p].[user_id]
FROM [Participants] AS [p]
WHERE [p].[conversation_id] = @__conversation_id_0
2025-05-01 06:16:03.363 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType17`1[[System.Collections.Generic.List`1[[server.Models.Participants, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-01 06:16:03.363 +07:00 [INF] Executed action server.Controllers.ParticipantController.GetParticipants (Message_app) in 2.491ms
2025-05-01 06:16:03.363 +07:00 [INF] Executed endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 06:16:03.363 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/api/Participant/get_participants/1 - 200 null application/json; charset=utf-8 2.9138ms
2025-05-01 06:16:21.692 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/api/Participant/get_participants/1 - null null
2025-05-01 06:16:21.692 +07:00 [INF] Executing endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 06:16:21.693 +07:00 [INF] Route matched with {action = "GetParticipants", controller = "Participant"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetParticipants(Int32) on controller server.Controllers.ParticipantController (Message_app).
2025-05-01 06:16:21.694 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__conversation_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[id], [p].[adder], [p].[conversation_id], [p].[is_deleted], [p].[joined_at], [p].[name], [p].[role], [p].[user_id]
FROM [Participants] AS [p]
WHERE [p].[conversation_id] = @__conversation_id_0
2025-05-01 06:16:21.695 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType17`1[[System.Collections.Generic.List`1[[server.Models.Participants, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-01 06:16:21.695 +07:00 [INF] Executed action server.Controllers.ParticipantController.GetParticipants (Message_app) in 2.0972ms
2025-05-01 06:16:21.695 +07:00 [INF] Executed endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 06:16:21.695 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/api/Participant/get_participants/1 - 200 null application/json; charset=utf-8 3.0462ms
2025-05-01 06:16:31.332 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5053/api/Participant/get_participants/1 - null null
2025-05-01 06:16:31.332 +07:00 [INF] CORS policy execution successful.
2025-05-01 06:16:31.332 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5053/api/Participant/get_participants/1 - 204 null null 0.5054ms
2025-05-01 06:16:31.334 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/api/Participant/get_participants/1 - null null
2025-05-01 06:16:31.335 +07:00 [INF] CORS policy execution successful.
2025-05-01 06:16:31.335 +07:00 [INF] CORS policy execution successful.
2025-05-01 06:16:31.335 +07:00 [INF] Executing endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 06:16:31.336 +07:00 [INF] Route matched with {action = "GetParticipants", controller = "Participant"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetParticipants(Int32) on controller server.Controllers.ParticipantController (Message_app).
2025-05-01 06:16:31.339 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__conversation_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[id], [p].[adder], [p].[conversation_id], [p].[is_deleted], [p].[joined_at], [p].[name], [p].[role], [p].[user_id]
FROM [Participants] AS [p]
WHERE [p].[conversation_id] = @__conversation_id_0
2025-05-01 06:16:31.340 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType17`1[[System.Collections.Generic.List`1[[server.Models.Participants, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-01 06:16:31.341 +07:00 [INF] Executed action server.Controllers.ParticipantController.GetParticipants (Message_app) in 4.2734ms
2025-05-01 06:16:31.341 +07:00 [INF] Executed endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 06:16:31.341 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/api/Participant/get_participants/1 - 200 null application/json; charset=utf-8 6.8856ms
2025-05-01 06:16:31.505 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/api/Participant/get_participants/1 - null null
2025-05-01 06:16:31.507 +07:00 [INF] Executing endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 06:16:31.507 +07:00 [INF] Route matched with {action = "GetParticipants", controller = "Participant"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetParticipants(Int32) on controller server.Controllers.ParticipantController (Message_app).
2025-05-01 06:16:31.510 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__conversation_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[id], [p].[adder], [p].[conversation_id], [p].[is_deleted], [p].[joined_at], [p].[name], [p].[role], [p].[user_id]
FROM [Participants] AS [p]
WHERE [p].[conversation_id] = @__conversation_id_0
2025-05-01 06:16:31.510 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType17`1[[System.Collections.Generic.List`1[[server.Models.Participants, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-01 06:16:31.510 +07:00 [INF] Executed action server.Controllers.ParticipantController.GetParticipants (Message_app) in 3.5484ms
2025-05-01 06:16:31.510 +07:00 [INF] Executed endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 06:16:31.511 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/api/Participant/get_participants/1 - 200 null application/json; charset=utf-8 5.5313ms
2025-05-01 06:16:31.558 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/api/Participant/get_participants/1 - null null
2025-05-01 06:16:31.558 +07:00 [INF] Executing endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 06:16:31.558 +07:00 [INF] Route matched with {action = "GetParticipants", controller = "Participant"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetParticipants(Int32) on controller server.Controllers.ParticipantController (Message_app).
2025-05-01 06:16:31.560 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__conversation_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[id], [p].[adder], [p].[conversation_id], [p].[is_deleted], [p].[joined_at], [p].[name], [p].[role], [p].[user_id]
FROM [Participants] AS [p]
WHERE [p].[conversation_id] = @__conversation_id_0
2025-05-01 06:16:31.561 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType17`1[[System.Collections.Generic.List`1[[server.Models.Participants, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-01 06:16:31.561 +07:00 [INF] Executed action server.Controllers.ParticipantController.GetParticipants (Message_app) in 3.1303ms
2025-05-01 06:16:31.561 +07:00 [INF] Executed endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 06:16:31.562 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/api/Participant/get_participants/1 - 200 null application/json; charset=utf-8 3.8712ms
2025-05-01 06:17:14.078 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/api/Participant/get_participants/1 - null null
2025-05-01 06:17:14.078 +07:00 [INF] Executing endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 06:17:14.078 +07:00 [INF] Route matched with {action = "GetParticipants", controller = "Participant"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetParticipants(Int32) on controller server.Controllers.ParticipantController (Message_app).
2025-05-01 06:17:14.092 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[@__conversation_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[id], [p].[adder], [p].[conversation_id], [p].[is_deleted], [p].[joined_at], [p].[name], [p].[role], [p].[user_id]
FROM [Participants] AS [p]
WHERE [p].[conversation_id] = @__conversation_id_0
2025-05-01 06:17:14.093 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType17`1[[System.Collections.Generic.List`1[[server.Models.Participants, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-01 06:17:14.093 +07:00 [INF] Executed action server.Controllers.ParticipantController.GetParticipants (Message_app) in 15.1145ms
2025-05-01 06:17:14.093 +07:00 [INF] Executed endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 06:17:14.093 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/api/Participant/get_participants/1 - 200 null application/json; charset=utf-8 15.8333ms
2025-05-01 06:21:27.565 +07:00 [INF] Application is shutting down...
2025-05-01 06:21:57.584 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 06:21:57.584 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 06:21:57.585 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - 101 null null 566448.1418ms
2025-05-01 06:21:57.585 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 101 null null 592546.6403ms
