2025-05-01 06:21:36.833 +07:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[id], [u].[username], [u].[avatar_url]
FROM [Users] AS [u]
2025-05-01 06:21:36.969 +07:00 [INF] User profile is available. Using 'C:\Users\Thao\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-01 06:21:37.041 +07:00 [WRN] Overriding address(es) 'http://localhost:5053'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-05-01 06:21:37.050 +07:00 [INF] Now listening on: http://[::]:5053
2025-05-01 06:21:37.051 +07:00 [INF] Now listening on: http://0.0.0.0:5053
2025-05-01 06:21:37.051 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-01 06:21:37.051 +07:00 [INF] Hosting environment: Development
2025-05-01 06:21:37.051 +07:00 [INF] Content root path: C:\Users\Thao\source\Flutter\Message_app\server
2025-05-01 06:21:54.175 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5053/api/Participant/get_participants/1 - null null
2025-05-01 06:21:54.175 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5053/api/Participant/get_participants/1 - null null
2025-05-01 06:21:54.206 +07:00 [INF] CORS policy execution successful.
2025-05-01 06:21:54.206 +07:00 [INF] CORS policy execution successful.
2025-05-01 06:21:54.216 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5053/api/Participant/get_participants/1 - 204 null null 44.289ms
2025-05-01 06:21:54.216 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5053/api/Participant/get_participants/1 - 204 null null 44.3103ms
2025-05-01 06:21:54.220 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/api/Participant/get_participants/1 - null null
2025-05-01 06:21:54.226 +07:00 [INF] CORS policy execution successful.
2025-05-01 06:21:54.243 +07:00 [INF] CORS policy execution successful.
2025-05-01 06:21:54.243 +07:00 [WRN] Failed to determine the https port for redirect.
2025-05-01 06:21:54.279 +07:00 [INF] Executing endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 06:21:54.311 +07:00 [INF] Route matched with {action = "GetParticipants", controller = "Participant"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetParticipants(Int32) on controller server.Controllers.ParticipantController (Message_app).
2025-05-01 06:21:54.419 +07:00 [INF] Executed DbCommand (17ms) [Parameters=[@__conversation_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[id], [p].[adder], [p].[conversation_id], [p].[is_deleted], [p].[joined_at], [p].[name], [p].[role], [p].[user_id]
FROM [Participants] AS [p]
WHERE [p].[conversation_id] = @__conversation_id_0
2025-05-01 06:21:54.485 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType17`1[[System.Collections.Generic.List`1[[server.Models.Participants, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-01 06:21:54.578 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/api/Participant/get_participants/1 - null null
2025-05-01 06:21:54.579 +07:00 [INF] CORS policy execution successful.
2025-05-01 06:21:54.581 +07:00 [INF] Executed action server.Controllers.ParticipantController.GetParticipants (Message_app) in 264.1921ms
2025-05-01 06:21:54.581 +07:00 [INF] Executed endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 06:21:54.581 +07:00 [INF] CORS policy execution successful.
2025-05-01 06:21:54.583 +07:00 [INF] Executing endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 06:21:54.583 +07:00 [INF] Route matched with {action = "GetParticipants", controller = "Participant"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetParticipants(Int32) on controller server.Controllers.ParticipantController (Message_app).
2025-05-01 06:21:54.586 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/api/Participant/get_participants/1 - 200 null application/json; charset=utf-8 366.0089ms
2025-05-01 06:21:54.652 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__conversation_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[id], [p].[adder], [p].[conversation_id], [p].[is_deleted], [p].[joined_at], [p].[name], [p].[role], [p].[user_id]
FROM [Participants] AS [p]
WHERE [p].[conversation_id] = @__conversation_id_0
2025-05-01 06:21:54.652 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType17`1[[System.Collections.Generic.List`1[[server.Models.Participants, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-01 06:21:54.653 +07:00 [INF] Executed action server.Controllers.ParticipantController.GetParticipants (Message_app) in 69.5816ms
2025-05-01 06:21:54.653 +07:00 [INF] Executed endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 06:21:54.653 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/api/Participant/get_participants/1 - 200 null application/json; charset=utf-8 75.4469ms
2025-05-01 06:21:54.789 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/api/Participant/get_participants/1 - null null
2025-05-01 06:21:54.789 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/api/Participant/get_participants/1 - null null
2025-05-01 06:21:54.791 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/api/Participant/get_participants/1 - null null
2025-05-01 06:21:54.793 +07:00 [INF] Executing endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 06:21:54.793 +07:00 [INF] Executing endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 06:21:54.793 +07:00 [INF] Executing endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 06:21:54.794 +07:00 [INF] Route matched with {action = "GetParticipants", controller = "Participant"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetParticipants(Int32) on controller server.Controllers.ParticipantController (Message_app).
2025-05-01 06:21:54.794 +07:00 [INF] Route matched with {action = "GetParticipants", controller = "Participant"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetParticipants(Int32) on controller server.Controllers.ParticipantController (Message_app).
2025-05-01 06:21:54.794 +07:00 [INF] Route matched with {action = "GetParticipants", controller = "Participant"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetParticipants(Int32) on controller server.Controllers.ParticipantController (Message_app).
2025-05-01 06:21:54.801 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__conversation_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[id], [p].[adder], [p].[conversation_id], [p].[is_deleted], [p].[joined_at], [p].[name], [p].[role], [p].[user_id]
FROM [Participants] AS [p]
WHERE [p].[conversation_id] = @__conversation_id_0
2025-05-01 06:21:54.804 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType17`1[[System.Collections.Generic.List`1[[server.Models.Participants, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-01 06:21:54.804 +07:00 [INF] Executed action server.Controllers.ParticipantController.GetParticipants (Message_app) in 10.4542ms
2025-05-01 06:21:54.805 +07:00 [INF] Executed endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 06:21:54.805 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/api/Participant/get_participants/1 - 200 null application/json; charset=utf-8 14.3122ms
2025-05-01 06:21:54.811 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__conversation_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[id], [p].[adder], [p].[conversation_id], [p].[is_deleted], [p].[joined_at], [p].[name], [p].[role], [p].[user_id]
FROM [Participants] AS [p]
WHERE [p].[conversation_id] = @__conversation_id_0
2025-05-01 06:21:54.812 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType17`1[[System.Collections.Generic.List`1[[server.Models.Participants, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-01 06:21:54.812 +07:00 [INF] Executed action server.Controllers.ParticipantController.GetParticipants (Message_app) in 18.4038ms
2025-05-01 06:21:54.813 +07:00 [INF] Executed endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 06:21:54.813 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__conversation_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[id], [p].[adder], [p].[conversation_id], [p].[is_deleted], [p].[joined_at], [p].[name], [p].[role], [p].[user_id]
FROM [Participants] AS [p]
WHERE [p].[conversation_id] = @__conversation_id_0
2025-05-01 06:21:54.813 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/api/Participant/get_participants/1 - 200 null application/json; charset=utf-8 23.8282ms
2025-05-01 06:21:54.813 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType17`1[[System.Collections.Generic.List`1[[server.Models.Participants, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-01 06:21:54.814 +07:00 [INF] Executed action server.Controllers.ParticipantController.GetParticipants (Message_app) in 19.964ms
2025-05-01 06:21:54.814 +07:00 [INF] Executed endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 06:21:54.814 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/api/Participant/get_participants/1 - 200 null application/json; charset=utf-8 24.9912ms
2025-05-01 06:21:54.843 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/api/Participant/get_participants/1 - null null
2025-05-01 06:21:54.843 +07:00 [INF] Executing endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 06:21:54.844 +07:00 [INF] Route matched with {action = "GetParticipants", controller = "Participant"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetParticipants(Int32) on controller server.Controllers.ParticipantController (Message_app).
2025-05-01 06:21:54.845 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/api/Participant/get_participants/1 - null null
2025-05-01 06:21:54.846 +07:00 [INF] Executing endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 06:21:54.846 +07:00 [INF] Route matched with {action = "GetParticipants", controller = "Participant"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetParticipants(Int32) on controller server.Controllers.ParticipantController (Message_app).
2025-05-01 06:21:54.848 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/api/Participant/get_participants/1 - null null
2025-05-01 06:21:54.849 +07:00 [INF] Executing endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 06:21:54.849 +07:00 [INF] Route matched with {action = "GetParticipants", controller = "Participant"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetParticipants(Int32) on controller server.Controllers.ParticipantController (Message_app).
2025-05-01 06:21:54.851 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__conversation_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[id], [p].[adder], [p].[conversation_id], [p].[is_deleted], [p].[joined_at], [p].[name], [p].[role], [p].[user_id]
FROM [Participants] AS [p]
WHERE [p].[conversation_id] = @__conversation_id_0
2025-05-01 06:21:54.852 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__conversation_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[id], [p].[adder], [p].[conversation_id], [p].[is_deleted], [p].[joined_at], [p].[name], [p].[role], [p].[user_id]
FROM [Participants] AS [p]
WHERE [p].[conversation_id] = @__conversation_id_0
2025-05-01 06:21:54.852 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType17`1[[System.Collections.Generic.List`1[[server.Models.Participants, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-01 06:21:54.853 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType17`1[[System.Collections.Generic.List`1[[server.Models.Participants, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-01 06:21:54.853 +07:00 [INF] Executed action server.Controllers.ParticipantController.GetParticipants (Message_app) in 9.2845ms
2025-05-01 06:21:54.853 +07:00 [INF] Executed endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 06:21:54.853 +07:00 [INF] Executed action server.Controllers.ParticipantController.GetParticipants (Message_app) in 6.6483ms
2025-05-01 06:21:54.853 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/api/Participant/get_participants/1 - 200 null application/json; charset=utf-8 10.8244ms
2025-05-01 06:21:54.854 +07:00 [INF] Executed endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 06:21:54.854 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/api/Participant/get_participants/1 - 200 null application/json; charset=utf-8 9.133ms
2025-05-01 06:21:54.855 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__conversation_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[id], [p].[adder], [p].[conversation_id], [p].[is_deleted], [p].[joined_at], [p].[name], [p].[role], [p].[user_id]
FROM [Participants] AS [p]
WHERE [p].[conversation_id] = @__conversation_id_0
2025-05-01 06:21:54.855 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType17`1[[System.Collections.Generic.List`1[[server.Models.Participants, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-01 06:21:54.856 +07:00 [INF] Executed action server.Controllers.ParticipantController.GetParticipants (Message_app) in 6.1201ms
2025-05-01 06:21:54.856 +07:00 [INF] Executed endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 06:21:54.856 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/api/Participant/get_participants/1 - 200 null application/json; charset=utf-8 7.9144ms
2025-05-01 06:21:56.802 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/api/Participant/get_participants/1 - null null
2025-05-01 06:21:56.802 +07:00 [INF] Executing endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 06:21:56.803 +07:00 [INF] Route matched with {action = "GetParticipants", controller = "Participant"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetParticipants(Int32) on controller server.Controllers.ParticipantController (Message_app).
2025-05-01 06:21:56.806 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__conversation_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[id], [p].[adder], [p].[conversation_id], [p].[is_deleted], [p].[joined_at], [p].[name], [p].[role], [p].[user_id]
FROM [Participants] AS [p]
WHERE [p].[conversation_id] = @__conversation_id_0
2025-05-01 06:21:56.807 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType17`1[[System.Collections.Generic.List`1[[server.Models.Participants, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-01 06:21:56.807 +07:00 [INF] Executed action server.Controllers.ParticipantController.GetParticipants (Message_app) in 4.5737ms
2025-05-01 06:21:56.807 +07:00 [INF] Executed endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 06:21:56.808 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/api/Participant/get_participants/1 - 200 null application/json; charset=utf-8 5.7ms
2025-05-01 06:22:00.941 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/api/Participant/get_participants/1 - null null
2025-05-01 06:22:00.942 +07:00 [INF] Executing endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 06:22:00.942 +07:00 [INF] Route matched with {action = "GetParticipants", controller = "Participant"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetParticipants(Int32) on controller server.Controllers.ParticipantController (Message_app).
2025-05-01 06:22:00.945 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__conversation_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[id], [p].[adder], [p].[conversation_id], [p].[is_deleted], [p].[joined_at], [p].[name], [p].[role], [p].[user_id]
FROM [Participants] AS [p]
WHERE [p].[conversation_id] = @__conversation_id_0
2025-05-01 06:22:00.946 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType17`1[[System.Collections.Generic.List`1[[server.Models.Participants, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-01 06:22:00.947 +07:00 [INF] Executed action server.Controllers.ParticipantController.GetParticipants (Message_app) in 4.4584ms
2025-05-01 06:22:00.947 +07:00 [INF] Executed endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 06:22:00.947 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/api/Participant/get_participants/1 - 200 null application/json; charset=utf-8 6.0196ms
2025-05-01 06:22:02.587 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 06:22:02.588 +07:00 [INF] CORS policy execution successful.
2025-05-01 06:22:02.588 +07:00 [INF] CORS policy execution successful.
2025-05-01 06:22:02.588 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 06:22:02.629 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - null null
2025-05-01 06:22:02.631 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 06:22:02.641 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__client_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[conversation_id]
FROM [Participants] AS [p]
WHERE [p].[user_id] = @__client_UserId_0 AND [p].[is_deleted] = CAST(0 AS bit)
2025-05-01 06:22:02.758 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__client_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[conversation_id]
FROM [Participants] AS [p]
WHERE [p].[user_id] = @__client_UserId_0 AND [p].[is_deleted] = CAST(0 AS bit)
2025-05-01 06:22:12.380 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5053/api/Participant/get_participants/1 - null null
2025-05-01 06:22:12.381 +07:00 [INF] CORS policy execution successful.
2025-05-01 06:22:12.381 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5053/api/Participant/get_participants/1 - 204 null null 0.4891ms
2025-05-01 06:22:12.382 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/api/Participant/get_participants/1 - null null
2025-05-01 06:22:12.382 +07:00 [INF] CORS policy execution successful.
2025-05-01 06:22:12.383 +07:00 [INF] CORS policy execution successful.
2025-05-01 06:22:12.383 +07:00 [INF] Executing endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 06:22:12.383 +07:00 [INF] Route matched with {action = "GetParticipants", controller = "Participant"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetParticipants(Int32) on controller server.Controllers.ParticipantController (Message_app).
2025-05-01 06:22:12.401 +07:00 [INF] Executed DbCommand (16ms) [Parameters=[@__conversation_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[id], [p].[adder], [p].[conversation_id], [p].[is_deleted], [p].[joined_at], [p].[name], [p].[role], [p].[user_id]
FROM [Participants] AS [p]
WHERE [p].[conversation_id] = @__conversation_id_0
2025-05-01 06:22:12.401 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType17`1[[System.Collections.Generic.List`1[[server.Models.Participants, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-01 06:22:12.402 +07:00 [INF] Executed action server.Controllers.ParticipantController.GetParticipants (Message_app) in 18.6707ms
2025-05-01 06:22:12.402 +07:00 [INF] Executed endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 06:22:12.402 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/api/Participant/get_participants/1 - 200 null application/json; charset=utf-8 19.9591ms
2025-05-01 06:22:12.619 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/api/Participant/get_participants/1 - null null
2025-05-01 06:22:12.619 +07:00 [INF] Executing endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 06:22:12.619 +07:00 [INF] Route matched with {action = "GetParticipants", controller = "Participant"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetParticipants(Int32) on controller server.Controllers.ParticipantController (Message_app).
2025-05-01 06:22:12.621 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__conversation_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[id], [p].[adder], [p].[conversation_id], [p].[is_deleted], [p].[joined_at], [p].[name], [p].[role], [p].[user_id]
FROM [Participants] AS [p]
WHERE [p].[conversation_id] = @__conversation_id_0
2025-05-01 06:22:12.622 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType17`1[[System.Collections.Generic.List`1[[server.Models.Participants, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-01 06:22:12.622 +07:00 [INF] Executed action server.Controllers.ParticipantController.GetParticipants (Message_app) in 2.7233ms
2025-05-01 06:22:12.622 +07:00 [INF] Executed endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 06:22:12.622 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/api/Participant/get_participants/1 - 200 null application/json; charset=utf-8 3.65ms
2025-05-01 06:22:12.627 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/api/Participant/get_participants/1 - null null
2025-05-01 06:22:12.627 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/api/Participant/get_participants/1 - null null
2025-05-01 06:22:12.627 +07:00 [INF] Executing endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 06:22:12.627 +07:00 [INF] Executing endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 06:22:12.627 +07:00 [INF] Route matched with {action = "GetParticipants", controller = "Participant"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetParticipants(Int32) on controller server.Controllers.ParticipantController (Message_app).
2025-05-01 06:22:12.627 +07:00 [INF] Route matched with {action = "GetParticipants", controller = "Participant"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetParticipants(Int32) on controller server.Controllers.ParticipantController (Message_app).
2025-05-01 06:22:12.631 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__conversation_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[id], [p].[adder], [p].[conversation_id], [p].[is_deleted], [p].[joined_at], [p].[name], [p].[role], [p].[user_id]
FROM [Participants] AS [p]
WHERE [p].[conversation_id] = @__conversation_id_0
2025-05-01 06:22:12.631 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__conversation_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[id], [p].[adder], [p].[conversation_id], [p].[is_deleted], [p].[joined_at], [p].[name], [p].[role], [p].[user_id]
FROM [Participants] AS [p]
WHERE [p].[conversation_id] = @__conversation_id_0
2025-05-01 06:22:12.632 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType17`1[[System.Collections.Generic.List`1[[server.Models.Participants, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-01 06:22:12.632 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType17`1[[System.Collections.Generic.List`1[[server.Models.Participants, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-01 06:22:12.632 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/api/Participant/get_participants/1 - null null
2025-05-01 06:22:12.632 +07:00 [INF] Executed action server.Controllers.ParticipantController.GetParticipants (Message_app) in 4.7908ms
2025-05-01 06:22:12.632 +07:00 [INF] Executed endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 06:22:12.632 +07:00 [INF] Executing endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 06:22:12.632 +07:00 [INF] Executed action server.Controllers.ParticipantController.GetParticipants (Message_app) in 4.8951ms
2025-05-01 06:22:12.632 +07:00 [INF] Executed endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 06:22:12.632 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/api/Participant/get_participants/1 - 200 null application/json; charset=utf-8 5.4988ms
2025-05-01 06:22:12.632 +07:00 [INF] Route matched with {action = "GetParticipants", controller = "Participant"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetParticipants(Int32) on controller server.Controllers.ParticipantController (Message_app).
2025-05-01 06:22:12.632 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/api/Participant/get_participants/1 - 200 null application/json; charset=utf-8 5.6774ms
2025-05-01 06:22:12.633 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/api/Participant/get_participants/1 - null null
2025-05-01 06:22:12.634 +07:00 [INF] Executing endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 06:22:12.634 +07:00 [INF] Route matched with {action = "GetParticipants", controller = "Participant"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetParticipants(Int32) on controller server.Controllers.ParticipantController (Message_app).
2025-05-01 06:22:12.635 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__conversation_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[id], [p].[adder], [p].[conversation_id], [p].[is_deleted], [p].[joined_at], [p].[name], [p].[role], [p].[user_id]
FROM [Participants] AS [p]
WHERE [p].[conversation_id] = @__conversation_id_0
2025-05-01 06:22:12.636 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType17`1[[System.Collections.Generic.List`1[[server.Models.Participants, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-01 06:22:12.636 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__conversation_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[id], [p].[adder], [p].[conversation_id], [p].[is_deleted], [p].[joined_at], [p].[name], [p].[role], [p].[user_id]
FROM [Participants] AS [p]
WHERE [p].[conversation_id] = @__conversation_id_0
2025-05-01 06:22:12.636 +07:00 [INF] Executed action server.Controllers.ParticipantController.GetParticipants (Message_app) in 3.5036ms
2025-05-01 06:22:12.636 +07:00 [INF] Executed endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 06:22:12.636 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/api/Participant/get_participants/1 - 200 null application/json; charset=utf-8 4.2806ms
2025-05-01 06:22:12.636 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType17`1[[System.Collections.Generic.List`1[[server.Models.Participants, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-01 06:22:12.636 +07:00 [INF] Executed action server.Controllers.ParticipantController.GetParticipants (Message_app) in 2.5402ms
2025-05-01 06:22:12.636 +07:00 [INF] Executed endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 06:22:12.637 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/api/Participant/get_participants/1 - 200 null application/json; charset=utf-8 3.5252ms
2025-05-01 06:22:16.885 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/api/Participant/get_participants/1 - null null
2025-05-01 06:22:16.885 +07:00 [INF] Executing endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 06:22:16.885 +07:00 [INF] Route matched with {action = "GetParticipants", controller = "Participant"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetParticipants(Int32) on controller server.Controllers.ParticipantController (Message_app).
2025-05-01 06:22:16.887 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__conversation_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[id], [p].[adder], [p].[conversation_id], [p].[is_deleted], [p].[joined_at], [p].[name], [p].[role], [p].[user_id]
FROM [Participants] AS [p]
WHERE [p].[conversation_id] = @__conversation_id_0
2025-05-01 06:22:16.888 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType17`1[[System.Collections.Generic.List`1[[server.Models.Participants, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-01 06:22:16.888 +07:00 [INF] Executed action server.Controllers.ParticipantController.GetParticipants (Message_app) in 2.4958ms
2025-05-01 06:22:16.888 +07:00 [INF] Executed endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 06:22:16.888 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/api/Participant/get_participants/1 - 200 null application/json; charset=utf-8 3.1547ms
2025-05-01 06:39:06.112 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 06:39:06.113 +07:00 [ERR] An unhandled exception has occurred while executing the request.
System.Net.WebSockets.WebSocketException (0x80004005): The remote party closed the WebSocket connection without completing the close handshake.
   at System.Net.WebSockets.ManagedWebSocket.ThrowEOFUnexpected()
   at System.Net.WebSockets.ManagedWebSocket.EnsureBufferContainsAsync(Int32 minimumRequiredBytes, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.WebSockets.ManagedWebSocket.ReceiveAsyncPrivate[TResult](Memory`1 payloadBuffer, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at server.Services.WebSocketService.webSocket.Receiver(Client client) in C:\Users\Thao\source\Flutter\Message_app\server\Services\WebSocketService\websocket.cs:line 124
   at server.Services.WebSocketService.webSocket.HandleWebSocket(HttpContext context) in C:\Users\Thao\source\Flutter\Message_app\server\Services\WebSocketService\websocket.cs:line 107
   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() in C:\Users\Thao\source\Flutter\Message_app\server\Program.cs:line 89
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-05-01 06:39:06.139 +07:00 [WRN] The response has already started, the error page middleware will not be executed.
2025-05-01 06:39:06.142 +07:00 [ERR] Connection id "0HNC87N5KF3B8", Request id "0HNC87N5KF3B8:00000001": An unhandled exception was thrown by the application.
System.Net.WebSockets.WebSocketException (0x80004005): The remote party closed the WebSocket connection without completing the close handshake.
   at System.Net.WebSockets.ManagedWebSocket.ThrowEOFUnexpected()
   at System.Net.WebSockets.ManagedWebSocket.EnsureBufferContainsAsync(Int32 minimumRequiredBytes, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.WebSockets.ManagedWebSocket.ReceiveAsyncPrivate[TResult](Memory`1 payloadBuffer, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at server.Services.WebSocketService.webSocket.Receiver(Client client) in C:\Users\Thao\source\Flutter\Message_app\server\Services\WebSocketService\websocket.cs:line 124
   at server.Services.WebSocketService.webSocket.HandleWebSocket(HttpContext context) in C:\Users\Thao\source\Flutter\Message_app\server\Services\WebSocketService\websocket.cs:line 107
   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() in C:\Users\Thao\source\Flutter\Message_app\server\Program.cs:line 89
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-05-01 06:39:06.147 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - 101 null null 1023517.6883ms
2025-05-01 07:38:12.603 +07:00 [INF] Application is shutting down...
2025-05-01 07:38:42.687 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 07:38:42.687 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 101 null null 4600100.1538ms
2025-05-01 07:52:20.235 +07:00 [INF] Executed DbCommand (66ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[id], [u].[username], [u].[avatar_url]
FROM [Users] AS [u]
2025-05-01 07:52:20.442 +07:00 [INF] User profile is available. Using 'C:\Users\Thao\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-01 07:52:20.564 +07:00 [WRN] Overriding address(es) 'http://localhost:5053'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-05-01 07:52:20.576 +07:00 [INF] Now listening on: http://[::]:5053
2025-05-01 07:52:20.577 +07:00 [INF] Now listening on: http://0.0.0.0:5053
2025-05-01 07:52:20.577 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-01 07:52:20.577 +07:00 [INF] Hosting environment: Development
2025-05-01 07:52:20.577 +07:00 [INF] Content root path: C:\Users\Thao\source\Flutter\Message_app\server
2025-05-01 07:55:22.018 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5053/api/Auth/login - null null
2025-05-01 07:55:22.177 +07:00 [INF] CORS policy execution successful.
2025-05-01 07:55:22.255 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5053/api/Auth/login - 204 null null 242.6741ms
2025-05-01 07:55:22.272 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5053/api/Auth/login - application/json 53
2025-05-01 07:55:22.276 +07:00 [INF] CORS policy execution successful.
2025-05-01 07:55:22.423 +07:00 [INF] CORS policy execution successful.
2025-05-01 07:55:22.430 +07:00 [WRN] Failed to determine the https port for redirect.
2025-05-01 07:55:22.609 +07:00 [INF] Executing endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-01 07:55:22.708 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(server.DTO.AuthDTO.LoginDTO) on controller Message_app.Controllers.AuthController (Message_app).
2025-05-01 07:55:23.325 +07:00 [INF] Executed DbCommand (103ms) [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[avatar_url], [u].[bio], [u].[birthday], [u].[created_at], [u].[email], [u].[gender], [u].[interests], [u].[location], [u].[password], [u].[passwordSalt], [u].[username]
FROM [Users] AS [u]
WHERE [u].[email] = @__email_0
2025-05-01 07:55:23.619 +07:00 [INF] Executing OkObjectResult, writing value of type 'server.DTO.AuthDTO.LoginRespose'.
2025-05-01 07:55:23.784 +07:00 [INF] Executed action Message_app.Controllers.AuthController.Login (Message_app) in 1069.9476ms
2025-05-01 07:55:23.785 +07:00 [INF] Executed endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-01 07:55:23.804 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5053/api/Auth/login - 200 null application/json; charset=utf-8 1531.8845ms
2025-05-01 07:55:24.048 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5053/api/Conversation/get_conversations/5 - null null
2025-05-01 07:55:24.050 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5053/api/Conversation/get_conversations/5 - null null
2025-05-01 07:55:24.061 +07:00 [INF] CORS policy execution successful.
2025-05-01 07:55:24.061 +07:00 [INF] CORS policy execution successful.
2025-05-01 07:55:24.062 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5053/api/Conversation/get_conversations/5 - 204 null null 11.7927ms
2025-05-01 07:55:24.067 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5053/api/Conversation/get_conversations/5 - 204 null null 14.0197ms
2025-05-01 07:55:24.069 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/api/Conversation/get_conversations/5 - null null
2025-05-01 07:55:24.082 +07:00 [INF] CORS policy execution successful.
2025-05-01 07:55:24.085 +07:00 [INF] CORS policy execution successful.
2025-05-01 07:55:24.088 +07:00 [INF] Executing endpoint 'server.Controllers.ConversationController.GetConversations (Message_app)'
2025-05-01 07:55:24.096 +07:00 [INF] Route matched with {action = "GetConversations", controller = "Conversation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetConversations(Int32) on controller server.Controllers.ConversationController (Message_app).
2025-05-01 07:55:24.168 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[server.DTO.ConversationDto, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-01 07:55:24.182 +07:00 [INF] Executed action server.Controllers.ConversationController.GetConversations (Message_app) in 85.4281ms
2025-05-01 07:55:24.182 +07:00 [INF] Executed endpoint 'server.Controllers.ConversationController.GetConversations (Message_app)'
2025-05-01 07:55:24.182 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/api/Conversation/get_conversations/5 - 200 null application/json; charset=utf-8 112.8242ms
2025-05-01 07:55:24.183 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/api/Conversation/get_conversations/5 - null null
2025-05-01 07:55:24.186 +07:00 [INF] CORS policy execution successful.
2025-05-01 07:55:24.191 +07:00 [INF] CORS policy execution successful.
2025-05-01 07:55:24.202 +07:00 [INF] Executing endpoint 'server.Controllers.ConversationController.GetConversations (Message_app)'
2025-05-01 07:55:24.204 +07:00 [INF] Route matched with {action = "GetConversations", controller = "Conversation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetConversations(Int32) on controller server.Controllers.ConversationController (Message_app).
2025-05-01 07:55:24.218 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[server.DTO.ConversationDto, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-01 07:55:24.221 +07:00 [INF] Executed action server.Controllers.ConversationController.GetConversations (Message_app) in 17.0788ms
2025-05-01 07:55:24.222 +07:00 [INF] Executed endpoint 'server.Controllers.ConversationController.GetConversations (Message_app)'
2025-05-01 07:55:24.223 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/api/Conversation/get_conversations/5 - 200 null application/json; charset=utf-8 40.336ms
2025-05-01 07:55:24.349 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 07:55:24.349 +07:00 [INF] CORS policy execution successful.
2025-05-01 07:55:24.351 +07:00 [INF] CORS policy execution successful.
2025-05-01 07:55:24.351 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 07:55:24.615 +07:00 [INF] Executed DbCommand (16ms) [Parameters=[@__client_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[conversation_id]
FROM [Participants] AS [p]
WHERE [p].[user_id] = @__client_UserId_0 AND [p].[is_deleted] = CAST(0 AS bit)
2025-05-01 07:55:36.034 +07:00 [INF] Request starting HTTP/1.1 POST http://192.168.1.9:5053/api/Auth/login - application/json 57
2025-05-01 07:55:36.040 +07:00 [INF] Executing endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-01 07:55:36.041 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(server.DTO.AuthDTO.LoginDTO) on controller Message_app.Controllers.AuthController (Message_app).
2025-05-01 07:55:36.060 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[avatar_url], [u].[bio], [u].[birthday], [u].[created_at], [u].[email], [u].[gender], [u].[interests], [u].[location], [u].[password], [u].[passwordSalt], [u].[username]
FROM [Users] AS [u]
WHERE [u].[email] = @__email_0
2025-05-01 07:55:36.063 +07:00 [INF] Executing OkObjectResult, writing value of type 'server.DTO.AuthDTO.LoginRespose'.
2025-05-01 07:55:36.063 +07:00 [INF] Executed action Message_app.Controllers.AuthController.Login (Message_app) in 21.3625ms
2025-05-01 07:55:36.064 +07:00 [INF] Executed endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-01 07:55:36.064 +07:00 [INF] Request finished HTTP/1.1 POST http://192.168.1.9:5053/api/Auth/login - 200 null application/json; charset=utf-8 30.2325ms
2025-05-01 07:55:37.158 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/api/Conversation/get_conversations/2 - null null
2025-05-01 07:55:37.158 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/api/Conversation/get_conversations/2 - null null
2025-05-01 07:55:37.159 +07:00 [INF] Executing endpoint 'server.Controllers.ConversationController.GetConversations (Message_app)'
2025-05-01 07:55:37.159 +07:00 [INF] Executing endpoint 'server.Controllers.ConversationController.GetConversations (Message_app)'
2025-05-01 07:55:37.159 +07:00 [INF] Route matched with {action = "GetConversations", controller = "Conversation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetConversations(Int32) on controller server.Controllers.ConversationController (Message_app).
2025-05-01 07:55:37.159 +07:00 [INF] Route matched with {action = "GetConversations", controller = "Conversation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetConversations(Int32) on controller server.Controllers.ConversationController (Message_app).
2025-05-01 07:55:37.180 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[server.DTO.ConversationDto, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-01 07:55:37.181 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[server.DTO.ConversationDto, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-01 07:55:37.181 +07:00 [INF] Executed action server.Controllers.ConversationController.GetConversations (Message_app) in 19.7687ms
2025-05-01 07:55:37.181 +07:00 [INF] Executed action server.Controllers.ConversationController.GetConversations (Message_app) in 21.6886ms
2025-05-01 07:55:37.181 +07:00 [INF] Executed endpoint 'server.Controllers.ConversationController.GetConversations (Message_app)'
2025-05-01 07:55:37.181 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/api/Conversation/get_conversations/2 - 200 null application/json; charset=utf-8 23.3519ms
2025-05-01 07:55:37.181 +07:00 [INF] Executed endpoint 'server.Controllers.ConversationController.GetConversations (Message_app)'
2025-05-01 07:55:37.182 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/api/Conversation/get_conversations/2 - 200 null application/json; charset=utf-8 23.7093ms
2025-05-01 07:55:37.790 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - null null
2025-05-01 07:55:37.792 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 07:55:37.858 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__client_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[conversation_id]
FROM [Participants] AS [p]
WHERE [p].[user_id] = @__client_UserId_0 AND [p].[is_deleted] = CAST(0 AS bit)
2025-05-01 07:55:38.900 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5053/api/Participant/get_participants/4 - null null
2025-05-01 07:55:38.901 +07:00 [INF] CORS policy execution successful.
2025-05-01 07:55:38.901 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5053/api/Participant/get_participants/4 - 204 null null 0.6005ms
2025-05-01 07:55:38.903 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/api/Participant/get_participants/4 - null null
2025-05-01 07:55:38.903 +07:00 [INF] CORS policy execution successful.
2025-05-01 07:55:38.903 +07:00 [INF] CORS policy execution successful.
2025-05-01 07:55:38.904 +07:00 [INF] Executing endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 07:55:38.912 +07:00 [INF] Route matched with {action = "GetParticipants", controller = "Participant"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetParticipants(Int32) on controller server.Controllers.ParticipantController (Message_app).
2025-05-01 07:55:38.933 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__conversation_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[id], [p].[adder], [p].[conversation_id], [p].[is_deleted], [p].[joined_at], [p].[name], [p].[role], [p].[user_id]
FROM [Participants] AS [p]
WHERE [p].[conversation_id] = @__conversation_id_0
2025-05-01 07:55:38.959 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType17`1[[System.Collections.Generic.List`1[[server.Models.Participants, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-01 07:55:38.979 +07:00 [INF] Executed action server.Controllers.ParticipantController.GetParticipants (Message_app) in 66.6922ms
2025-05-01 07:55:38.979 +07:00 [INF] Executed endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 07:55:38.979 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/api/Participant/get_participants/4 - 200 null application/json; charset=utf-8 76.6309ms
2025-05-01 07:55:39.132 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5053/api/Message/getMessages/4/5 - null null
2025-05-01 07:55:39.132 +07:00 [INF] CORS policy execution successful.
2025-05-01 07:55:39.132 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5053/api/Message/getMessages/4/5 - 204 null null 0.4014ms
2025-05-01 07:55:39.134 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/api/Message/getMessages/4/5 - null null
2025-05-01 07:55:39.134 +07:00 [INF] CORS policy execution successful.
2025-05-01 07:55:39.135 +07:00 [INF] CORS policy execution successful.
2025-05-01 07:55:39.135 +07:00 [INF] Executing endpoint 'server.Controllers.MessageController.GetMessages (Message_app)'
2025-05-01 07:55:39.143 +07:00 [INF] Route matched with {action = "GetMessages", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32, Int32) on controller server.Controllers.MessageController (Message_app).
2025-05-01 07:55:51.934 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/api/Message/getMessages/1/2 - null null
2025-05-01 07:55:51.939 +07:00 [INF] Executing endpoint 'server.Controllers.MessageController.GetMessages (Message_app)'
2025-05-01 07:55:51.939 +07:00 [INF] Route matched with {action = "GetMessages", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32, Int32) on controller server.Controllers.MessageController (Message_app).
2025-05-01 07:55:51.975 +07:00 [WRN] Message 81 not found in Redis
2025-05-01 07:55:51.975 +07:00 [WRN] Message 80 not found in Redis
2025-05-01 07:55:51.976 +07:00 [WRN] Message 79 not found in Redis
2025-05-01 07:55:51.976 +07:00 [WRN] Message 78 not found in Redis
2025-05-01 07:55:51.976 +07:00 [WRN] Message 77 not found in Redis
2025-05-01 07:55:51.977 +07:00 [WRN] Message 76 not found in Redis
2025-05-01 07:55:51.978 +07:00 [WRN] Message 75 not found in Redis
2025-05-01 07:55:51.978 +07:00 [WRN] Message 74 not found in Redis
2025-05-01 07:55:51.979 +07:00 [WRN] Message 73 not found in Redis
2025-05-01 07:55:51.979 +07:00 [WRN] Message 72 not found in Redis
2025-05-01 07:55:51.980 +07:00 [WRN] Message 71 not found in Redis
2025-05-01 07:55:51.980 +07:00 [WRN] Message 68 not found in Redis
2025-05-01 07:55:51.981 +07:00 [WRN] Message 64 not found in Redis
2025-05-01 07:55:51.982 +07:00 [WRN] Message 62 not found in Redis
2025-05-01 07:55:51.982 +07:00 [WRN] Message 61 not found in Redis
2025-05-01 07:55:51.983 +07:00 [WRN] Message 60 not found in Redis
2025-05-01 07:55:51.983 +07:00 [WRN] Message 59 not found in Redis
2025-05-01 07:55:51.983 +07:00 [WRN] Message 57 not found in Redis
2025-05-01 07:55:51.984 +07:00 [WRN] Message 55 not found in Redis
2025-05-01 07:55:51.984 +07:00 [WRN] Message 54 not found in Redis
2025-05-01 07:55:51.984 +07:00 [WRN] Message 51 not found in Redis
2025-05-01 07:55:51.985 +07:00 [WRN] Message 49 not found in Redis
2025-05-01 07:55:51.985 +07:00 [WRN] Message 11 not found in Redis
2025-05-01 07:55:51.986 +07:00 [WRN] Message 8 not found in Redis
2025-05-01 07:55:51.986 +07:00 [WRN] Message 3 not found in Redis
2025-05-01 07:55:51.987 +07:00 [WRN] Message 2 not found in Redis
2025-05-01 07:55:51.987 +07:00 [WRN] Message 1 not found in Redis
2025-05-01 07:55:51.988 +07:00 [INF] Retrieved 12 messages from Redis for conversation 1
2025-05-01 07:55:51.992 +07:00 [INF] Retrieved 12 messages from Redis for conversation 1 and user 2
2025-05-01 07:55:51.992 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[server.DTO.MessageWithAttachment, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-01 07:55:51.997 +07:00 [INF] Executed action server.Controllers.MessageController.GetMessages (Message_app) in 57.3752ms
2025-05-01 07:55:51.997 +07:00 [INF] Executed endpoint 'server.Controllers.MessageController.GetMessages (Message_app)'
2025-05-01 07:55:51.997 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/api/Message/getMessages/1/2 - 200 null application/json; charset=utf-8 64.7539ms
2025-05-01 07:55:51.998 +07:00 [INF] Retrieved 52 messages from Redis for conversation 4
2025-05-01 07:55:51.999 +07:00 [INF] Retrieved 50 messages from Redis for conversation 4 and user 5
2025-05-01 07:55:51.999 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[server.DTO.MessageWithAttachment, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-01 07:55:52.003 +07:00 [INF] Executed action server.Controllers.MessageController.GetMessages (Message_app) in 12860.3013ms
2025-05-01 07:55:52.003 +07:00 [INF] Executed endpoint 'server.Controllers.MessageController.GetMessages (Message_app)'
2025-05-01 07:55:52.003 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/api/Message/getMessages/4/5 - 200 null application/json; charset=utf-8 12869.4504ms
2025-05-01 07:55:52.091 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/api/Conversation/get_first_conversation/1 - null null
2025-05-01 07:55:52.091 +07:00 [INF] Executing endpoint 'server.Controllers.ConversationController.GetFirstConversation (Message_app)'
2025-05-01 07:55:52.098 +07:00 [INF] Route matched with {action = "GetFirstConversation", controller = "Conversation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFirstConversation(Int32) on controller server.Controllers.ConversationController (Message_app).
2025-05-01 07:55:52.156 +07:00 [INF] Executed DbCommand (17ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[id], [c].[created_at], [c].[is_group], [c].[lastMessage], [c].[lastMessageSender], [c].[lastMessageTime], [c].[name]
FROM [Conversations] AS [c]
WHERE [c].[id] = @__p_0
2025-05-01 07:55:52.175 +07:00 [INF] Executing OkObjectResult, writing value of type 'server.Models.Conversation'.
2025-05-01 07:55:52.176 +07:00 [INF] Executed action server.Controllers.ConversationController.GetFirstConversation (Message_app) in 78.3653ms
2025-05-01 07:55:52.177 +07:00 [INF] Executed endpoint 'server.Controllers.ConversationController.GetFirstConversation (Message_app)'
2025-05-01 07:55:52.177 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/api/Conversation/get_first_conversation/1 - 200 null application/json; charset=utf-8 85.6088ms
2025-05-01 07:55:52.252 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/api/Participant/get_participants/1 - null null
2025-05-01 07:55:52.253 +07:00 [INF] Executing endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 07:55:52.253 +07:00 [INF] Route matched with {action = "GetParticipants", controller = "Participant"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetParticipants(Int32) on controller server.Controllers.ParticipantController (Message_app).
2025-05-01 07:55:52.259 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5053/api/Conversation/get_first_conversation/4 - null null
2025-05-01 07:55:52.259 +07:00 [INF] CORS policy execution successful.
2025-05-01 07:55:52.259 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5053/api/Conversation/get_first_conversation/4 - 204 null null 0.3458ms
2025-05-01 07:55:52.261 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/api/Conversation/get_first_conversation/4 - null null
2025-05-01 07:55:52.261 +07:00 [INF] CORS policy execution successful.
2025-05-01 07:55:52.261 +07:00 [INF] CORS policy execution successful.
2025-05-01 07:55:52.261 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__conversation_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[id], [p].[adder], [p].[conversation_id], [p].[is_deleted], [p].[joined_at], [p].[name], [p].[role], [p].[user_id]
FROM [Participants] AS [p]
WHERE [p].[conversation_id] = @__conversation_id_0
2025-05-01 07:55:52.261 +07:00 [INF] Executing endpoint 'server.Controllers.ConversationController.GetFirstConversation (Message_app)'
2025-05-01 07:55:52.262 +07:00 [INF] Route matched with {action = "GetFirstConversation", controller = "Conversation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFirstConversation(Int32) on controller server.Controllers.ConversationController (Message_app).
2025-05-01 07:55:52.263 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType17`1[[System.Collections.Generic.List`1[[server.Models.Participants, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-01 07:55:52.263 +07:00 [INF] Executed action server.Controllers.ParticipantController.GetParticipants (Message_app) in 9.8148ms
2025-05-01 07:55:52.263 +07:00 [INF] Executed endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 07:55:52.264 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/api/Participant/get_participants/1 - 200 null application/json; charset=utf-8 11.3598ms
2025-05-01 07:55:52.266 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[id], [c].[created_at], [c].[is_group], [c].[lastMessage], [c].[lastMessageSender], [c].[lastMessageTime], [c].[name]
FROM [Conversations] AS [c]
WHERE [c].[id] = @__p_0
2025-05-01 07:55:52.266 +07:00 [INF] Executing OkObjectResult, writing value of type 'server.Models.Conversation'.
2025-05-01 07:55:52.267 +07:00 [INF] Executed action server.Controllers.ConversationController.GetFirstConversation (Message_app) in 4.8623ms
2025-05-01 07:55:52.267 +07:00 [INF] Executed endpoint 'server.Controllers.ConversationController.GetFirstConversation (Message_app)'
2025-05-01 07:55:52.267 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/api/Conversation/get_first_conversation/4 - 200 null application/json; charset=utf-8 5.8264ms
2025-05-01 07:55:52.321 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5053/api/Participant/get_participants/4 - null null
2025-05-01 07:55:52.321 +07:00 [INF] CORS policy execution successful.
2025-05-01 07:55:52.322 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5053/api/Participant/get_participants/4 - 204 null null 0.4051ms
2025-05-01 07:55:52.323 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/api/Participant/get_participants/4 - null null
2025-05-01 07:55:52.324 +07:00 [INF] CORS policy execution successful.
2025-05-01 07:55:52.324 +07:00 [INF] CORS policy execution successful.
2025-05-01 07:55:52.324 +07:00 [INF] Executing endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 07:55:52.324 +07:00 [INF] Route matched with {action = "GetParticipants", controller = "Participant"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetParticipants(Int32) on controller server.Controllers.ParticipantController (Message_app).
2025-05-01 07:55:52.328 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__conversation_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[id], [p].[adder], [p].[conversation_id], [p].[is_deleted], [p].[joined_at], [p].[name], [p].[role], [p].[user_id]
FROM [Participants] AS [p]
WHERE [p].[conversation_id] = @__conversation_id_0
2025-05-01 07:55:52.329 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType17`1[[System.Collections.Generic.List`1[[server.Models.Participants, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-01 07:55:52.329 +07:00 [INF] Executed action server.Controllers.ParticipantController.GetParticipants (Message_app) in 4.8229ms
2025-05-01 07:55:52.329 +07:00 [INF] Executed endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 07:55:52.329 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/api/Participant/get_participants/4 - 200 null application/json; charset=utf-8 5.5931ms
2025-05-01 07:56:04.131 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5053/api/Participant/get_participants/4 - null null
2025-05-01 07:56:04.132 +07:00 [INF] CORS policy execution successful.
2025-05-01 07:56:04.132 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5053/api/Participant/get_participants/4 - 204 null null 1.1711ms
2025-05-01 07:56:04.135 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/api/Participant/get_participants/4 - null null
2025-05-01 07:56:04.135 +07:00 [INF] CORS policy execution successful.
2025-05-01 07:56:04.136 +07:00 [INF] CORS policy execution successful.
2025-05-01 07:56:04.136 +07:00 [INF] Executing endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 07:56:04.136 +07:00 [INF] Route matched with {action = "GetParticipants", controller = "Participant"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetParticipants(Int32) on controller server.Controllers.ParticipantController (Message_app).
2025-05-01 07:56:04.145 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__conversation_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[id], [p].[adder], [p].[conversation_id], [p].[is_deleted], [p].[joined_at], [p].[name], [p].[role], [p].[user_id]
FROM [Participants] AS [p]
WHERE [p].[conversation_id] = @__conversation_id_0
2025-05-01 07:56:04.147 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType17`1[[System.Collections.Generic.List`1[[server.Models.Participants, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-01 07:56:04.147 +07:00 [INF] Executed action server.Controllers.ParticipantController.GetParticipants (Message_app) in 11.151ms
2025-05-01 07:56:04.148 +07:00 [INF] Executed endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 07:56:04.148 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/api/Participant/get_participants/4 - 200 null application/json; charset=utf-8 12.6948ms
2025-05-01 08:14:20.668 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - null null
2025-05-01 08:14:20.669 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 08:14:20.676 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 08:14:20.676 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - 409 null null 8.0126ms
2025-05-01 08:14:21.006 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 08:14:21.010 +07:00 [ERR] An unhandled exception has occurred while executing the request.
System.Net.WebSockets.WebSocketException (0x80004005): The remote party closed the WebSocket connection without completing the close handshake.
 ---> Microsoft.AspNetCore.Connections.ConnectionResetException: An existing connection was forcibly closed by the remote host.
 ---> System.Net.Sockets.SocketException (10054): An existing connection was forcibly closed by the remote host.
   --- End of inner exception stack trace ---
   at System.IO.Pipelines.Pipe.GetReadAsyncResult()
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1UpgradeMessageBody.ReadAsyncInternalAwaited(ValueTask`1 readTask, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpRequestStream.ReadAsyncInternal(Memory`1 destination, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.IO.Stream.ReadAtLeastAsyncCore(Memory`1 buffer, Int32 minimumBytes, Boolean throwOnEndOfStream, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Net.WebSockets.ManagedWebSocket.EnsureBufferContainsAsync(Int32 minimumRequiredBytes, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.WebSockets.ManagedWebSocket.ReceiveAsyncPrivate[TResult](Memory`1 payloadBuffer, CancellationToken cancellationToken)
   at System.Net.WebSockets.ManagedWebSocket.ReceiveAsyncPrivate[TResult](Memory`1 payloadBuffer, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at server.Services.WebSocketService.webSocket.Receiver(Client client) in C:\Users\Thao\source\Flutter\Message_app\server\Services\WebSocketService\websocket.cs:line 124
   at server.Services.WebSocketService.webSocket.HandleWebSocket(HttpContext context) in C:\Users\Thao\source\Flutter\Message_app\server\Services\WebSocketService\websocket.cs:line 107
   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() in C:\Users\Thao\source\Flutter\Message_app\server\Program.cs:line 89
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-05-01 08:14:21.131 +07:00 [WRN] The response has already started, the error page middleware will not be executed.
2025-05-01 08:14:21.134 +07:00 [ERR] Connection id "0HNC89BCRA65C", Request id "0HNC89BCRA65C:00000001": An unhandled exception was thrown by the application.
System.Net.WebSockets.WebSocketException (0x80004005): The remote party closed the WebSocket connection without completing the close handshake.
 ---> Microsoft.AspNetCore.Connections.ConnectionResetException: An existing connection was forcibly closed by the remote host.
 ---> System.Net.Sockets.SocketException (10054): An existing connection was forcibly closed by the remote host.
   --- End of inner exception stack trace ---
   at System.IO.Pipelines.Pipe.GetReadAsyncResult()
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1UpgradeMessageBody.ReadAsyncInternalAwaited(ValueTask`1 readTask, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpRequestStream.ReadAsyncInternal(Memory`1 destination, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.IO.Stream.ReadAtLeastAsyncCore(Memory`1 buffer, Int32 minimumBytes, Boolean throwOnEndOfStream, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Net.WebSockets.ManagedWebSocket.EnsureBufferContainsAsync(Int32 minimumRequiredBytes, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.WebSockets.ManagedWebSocket.ReceiveAsyncPrivate[TResult](Memory`1 payloadBuffer, CancellationToken cancellationToken)
   at System.Net.WebSockets.ManagedWebSocket.ReceiveAsyncPrivate[TResult](Memory`1 payloadBuffer, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at server.Services.WebSocketService.webSocket.Receiver(Client client) in C:\Users\Thao\source\Flutter\Message_app\server\Services\WebSocketService\websocket.cs:line 124
   at server.Services.WebSocketService.webSocket.HandleWebSocket(HttpContext context) in C:\Users\Thao\source\Flutter\Message_app\server\Services\WebSocketService\websocket.cs:line 107
   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() in C:\Users\Thao\source\Flutter\Message_app\server\Program.cs:line 89
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-05-01 08:14:21.145 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - 101 null null 1123355.0297ms
2025-05-01 08:14:25.851 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - null null
2025-05-01 08:14:25.852 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 08:14:25.948 +07:00 [INF] Executed DbCommand (45ms) [Parameters=[@__client_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[conversation_id]
FROM [Participants] AS [p]
WHERE [p].[user_id] = @__client_UserId_0 AND [p].[is_deleted] = CAST(0 AS bit)
2025-05-01 08:14:51.294 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 08:14:51.295 +07:00 [ERR] An unhandled exception has occurred while executing the request.
System.Net.WebSockets.WebSocketException (0x80004005): The remote party closed the WebSocket connection without completing the close handshake.
   at System.Net.WebSockets.ManagedWebSocket.ThrowEOFUnexpected()
   at System.Net.WebSockets.ManagedWebSocket.EnsureBufferContainsAsync(Int32 minimumRequiredBytes, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.WebSockets.ManagedWebSocket.ReceiveAsyncPrivate[TResult](Memory`1 payloadBuffer, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at server.Services.WebSocketService.webSocket.Receiver(Client client) in C:\Users\Thao\source\Flutter\Message_app\server\Services\WebSocketService\websocket.cs:line 124
   at server.Services.WebSocketService.webSocket.HandleWebSocket(HttpContext context) in C:\Users\Thao\source\Flutter\Message_app\server\Services\WebSocketService\websocket.cs:line 107
   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() in C:\Users\Thao\source\Flutter\Message_app\server\Program.cs:line 89
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-05-01 08:14:51.304 +07:00 [WRN] The response has already started, the error page middleware will not be executed.
2025-05-01 08:14:51.306 +07:00 [ERR] Connection id "0HNC89BCRA65H", Request id "0HNC89BCRA65H:00000001": An unhandled exception was thrown by the application.
System.Net.WebSockets.WebSocketException (0x80004005): The remote party closed the WebSocket connection without completing the close handshake.
   at System.Net.WebSockets.ManagedWebSocket.ThrowEOFUnexpected()
   at System.Net.WebSockets.ManagedWebSocket.EnsureBufferContainsAsync(Int32 minimumRequiredBytes, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.WebSockets.ManagedWebSocket.ReceiveAsyncPrivate[TResult](Memory`1 payloadBuffer, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at server.Services.WebSocketService.webSocket.Receiver(Client client) in C:\Users\Thao\source\Flutter\Message_app\server\Services\WebSocketService\websocket.cs:line 124
   at server.Services.WebSocketService.webSocket.HandleWebSocket(HttpContext context) in C:\Users\Thao\source\Flutter\Message_app\server\Services\WebSocketService\websocket.cs:line 107
   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() in C:\Users\Thao\source\Flutter\Message_app\server\Program.cs:line 89
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-05-01 08:14:51.314 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - 101 null null 25462.527ms
2025-05-01 08:17:10.366 +07:00 [INF] Request starting HTTP/1.1 POST http://192.168.1.9:5053/api/Auth/login - application/json 57
2025-05-01 08:17:10.375 +07:00 [INF] Executing endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-01 08:17:10.383 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(server.DTO.AuthDTO.LoginDTO) on controller Message_app.Controllers.AuthController (Message_app).
2025-05-01 08:17:10.460 +07:00 [INF] Executed DbCommand (38ms) [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[avatar_url], [u].[bio], [u].[birthday], [u].[created_at], [u].[email], [u].[gender], [u].[interests], [u].[location], [u].[password], [u].[passwordSalt], [u].[username]
FROM [Users] AS [u]
WHERE [u].[email] = @__email_0
2025-05-01 08:17:10.483 +07:00 [INF] Executing OkObjectResult, writing value of type 'server.DTO.AuthDTO.LoginRespose'.
2025-05-01 08:17:10.486 +07:00 [INF] Executed action Message_app.Controllers.AuthController.Login (Message_app) in 102.6361ms
2025-05-01 08:17:10.487 +07:00 [INF] Executed endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-01 08:17:10.487 +07:00 [INF] Request finished HTTP/1.1 POST http://192.168.1.9:5053/api/Auth/login - 200 null application/json; charset=utf-8 121.3032ms
2025-05-01 08:17:11.881 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/api/Conversation/get_conversations/2 - null null
2025-05-01 08:17:11.882 +07:00 [INF] Executing endpoint 'server.Controllers.ConversationController.GetConversations (Message_app)'
2025-05-01 08:17:11.887 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/api/Conversation/get_conversations/2 - null null
2025-05-01 08:17:11.887 +07:00 [INF] Route matched with {action = "GetConversations", controller = "Conversation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetConversations(Int32) on controller server.Controllers.ConversationController (Message_app).
2025-05-01 08:17:11.887 +07:00 [INF] Executing endpoint 'server.Controllers.ConversationController.GetConversations (Message_app)'
2025-05-01 08:17:11.888 +07:00 [INF] Route matched with {action = "GetConversations", controller = "Conversation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetConversations(Int32) on controller server.Controllers.ConversationController (Message_app).
2025-05-01 08:17:11.897 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[server.DTO.ConversationDto, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-01 08:17:11.897 +07:00 [INF] Executed action server.Controllers.ConversationController.GetConversations (Message_app) in 9.8603ms
2025-05-01 08:17:11.898 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[server.DTO.ConversationDto, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-01 08:17:11.898 +07:00 [INF] Executed endpoint 'server.Controllers.ConversationController.GetConversations (Message_app)'
2025-05-01 08:17:11.898 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/api/Conversation/get_conversations/2 - 200 null application/json; charset=utf-8 16.8426ms
2025-05-01 08:17:11.898 +07:00 [INF] Executed action server.Controllers.ConversationController.GetConversations (Message_app) in 10.0581ms
2025-05-01 08:17:11.899 +07:00 [INF] Executed endpoint 'server.Controllers.ConversationController.GetConversations (Message_app)'
2025-05-01 08:17:11.899 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/api/Conversation/get_conversations/2 - 200 null application/json; charset=utf-8 17.3699ms
2025-05-01 08:17:12.381 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - null null
2025-05-01 08:17:12.381 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 08:17:12.611 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__client_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[conversation_id]
FROM [Participants] AS [p]
WHERE [p].[user_id] = @__client_UserId_0 AND [p].[is_deleted] = CAST(0 AS bit)
2025-05-01 08:17:19.798 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5053/api/Auth/login - null null
2025-05-01 08:17:19.799 +07:00 [INF] CORS policy execution successful.
2025-05-01 08:17:19.800 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5053/api/Auth/login - 204 null null 2.4289ms
2025-05-01 08:17:19.803 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5053/api/Auth/login - application/json 53
2025-05-01 08:17:19.804 +07:00 [INF] CORS policy execution successful.
2025-05-01 08:17:19.804 +07:00 [INF] CORS policy execution successful.
2025-05-01 08:17:19.804 +07:00 [INF] Executing endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-01 08:17:19.805 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(server.DTO.AuthDTO.LoginDTO) on controller Message_app.Controllers.AuthController (Message_app).
2025-05-01 08:17:19.812 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[avatar_url], [u].[bio], [u].[birthday], [u].[created_at], [u].[email], [u].[gender], [u].[interests], [u].[location], [u].[password], [u].[passwordSalt], [u].[username]
FROM [Users] AS [u]
WHERE [u].[email] = @__email_0
2025-05-01 08:17:19.814 +07:00 [INF] Executing OkObjectResult, writing value of type 'server.DTO.AuthDTO.LoginRespose'.
2025-05-01 08:17:19.814 +07:00 [INF] Executed action Message_app.Controllers.AuthController.Login (Message_app) in 6.8726ms
2025-05-01 08:17:19.814 +07:00 [INF] Executed endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-01 08:17:19.816 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5053/api/Auth/login - 200 null application/json; charset=utf-8 12.6046ms
2025-05-01 08:17:20.022 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5053/api/Conversation/get_conversations/5 - null null
2025-05-01 08:17:20.023 +07:00 [INF] CORS policy execution successful.
2025-05-01 08:17:20.025 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5053/api/Conversation/get_conversations/5 - null null
2025-05-01 08:17:20.025 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5053/api/Conversation/get_conversations/5 - 204 null null 1.5074ms
2025-05-01 08:17:20.025 +07:00 [INF] CORS policy execution successful.
2025-05-01 08:17:20.025 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5053/api/Conversation/get_conversations/5 - 204 null null 0.4615ms
2025-05-01 08:17:20.028 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/api/Conversation/get_conversations/5 - null null
2025-05-01 08:17:20.029 +07:00 [INF] CORS policy execution successful.
2025-05-01 08:17:20.029 +07:00 [INF] CORS policy execution successful.
2025-05-01 08:17:20.030 +07:00 [INF] Executing endpoint 'server.Controllers.ConversationController.GetConversations (Message_app)'
2025-05-01 08:17:20.030 +07:00 [INF] Route matched with {action = "GetConversations", controller = "Conversation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetConversations(Int32) on controller server.Controllers.ConversationController (Message_app).
2025-05-01 08:17:20.034 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[server.DTO.ConversationDto, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-01 08:17:20.035 +07:00 [INF] Executed action server.Controllers.ConversationController.GetConversations (Message_app) in 5.2715ms
2025-05-01 08:17:20.035 +07:00 [INF] Executed endpoint 'server.Controllers.ConversationController.GetConversations (Message_app)'
2025-05-01 08:17:20.036 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/api/Conversation/get_conversations/5 - 200 null application/json; charset=utf-8 7.3271ms
2025-05-01 08:17:20.037 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/api/Conversation/get_conversations/5 - null null
2025-05-01 08:17:20.038 +07:00 [INF] CORS policy execution successful.
2025-05-01 08:17:20.038 +07:00 [INF] CORS policy execution successful.
2025-05-01 08:17:20.038 +07:00 [INF] Executing endpoint 'server.Controllers.ConversationController.GetConversations (Message_app)'
2025-05-01 08:17:20.038 +07:00 [INF] Route matched with {action = "GetConversations", controller = "Conversation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetConversations(Int32) on controller server.Controllers.ConversationController (Message_app).
2025-05-01 08:17:20.044 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[server.DTO.ConversationDto, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-01 08:17:20.044 +07:00 [INF] Executed action server.Controllers.ConversationController.GetConversations (Message_app) in 5.8763ms
2025-05-01 08:17:20.045 +07:00 [INF] Executed endpoint 'server.Controllers.ConversationController.GetConversations (Message_app)'
2025-05-01 08:17:20.045 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/api/Conversation/get_conversations/5 - 200 null application/json; charset=utf-8 7.2397ms
2025-05-01 08:17:20.088 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 08:17:20.088 +07:00 [INF] CORS policy execution successful.
2025-05-01 08:17:20.088 +07:00 [INF] CORS policy execution successful.
2025-05-01 08:17:20.088 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 08:17:20.090 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 08:17:20.090 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 1.7613ms
2025-05-01 08:17:23.658 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 08:17:23.658 +07:00 [INF] CORS policy execution successful.
2025-05-01 08:17:23.659 +07:00 [INF] CORS policy execution successful.
2025-05-01 08:17:23.659 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 08:17:23.661 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 08:17:23.661 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 3.5387ms
2025-05-01 08:17:23.766 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5053/api/Message/getMessages/1/5 - null null
2025-05-01 08:17:23.766 +07:00 [INF] CORS policy execution successful.
2025-05-01 08:17:23.767 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5053/api/Message/getMessages/1/5 - 204 null null 0.9943ms
2025-05-01 08:17:23.769 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/api/Message/getMessages/1/5 - null null
2025-05-01 08:17:23.770 +07:00 [INF] CORS policy execution successful.
2025-05-01 08:17:23.772 +07:00 [INF] CORS policy execution successful.
2025-05-01 08:17:23.772 +07:00 [INF] Executing endpoint 'server.Controllers.MessageController.GetMessages (Message_app)'
2025-05-01 08:17:23.772 +07:00 [INF] Route matched with {action = "GetMessages", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32, Int32) on controller server.Controllers.MessageController (Message_app).
2025-05-01 08:17:23.811 +07:00 [WRN] Message 81 not found in Redis
2025-05-01 08:17:23.811 +07:00 [WRN] Message 80 not found in Redis
2025-05-01 08:17:23.812 +07:00 [WRN] Message 79 not found in Redis
2025-05-01 08:17:23.813 +07:00 [WRN] Message 78 not found in Redis
2025-05-01 08:17:23.814 +07:00 [WRN] Message 77 not found in Redis
2025-05-01 08:17:23.815 +07:00 [WRN] Message 76 not found in Redis
2025-05-01 08:17:23.817 +07:00 [WRN] Message 75 not found in Redis
2025-05-01 08:17:23.818 +07:00 [WRN] Message 74 not found in Redis
2025-05-01 08:17:23.819 +07:00 [WRN] Message 73 not found in Redis
2025-05-01 08:17:23.819 +07:00 [WRN] Message 72 not found in Redis
2025-05-01 08:17:23.821 +07:00 [WRN] Message 71 not found in Redis
2025-05-01 08:17:23.822 +07:00 [WRN] Message 68 not found in Redis
2025-05-01 08:17:23.824 +07:00 [WRN] Message 64 not found in Redis
2025-05-01 08:17:23.825 +07:00 [WRN] Message 62 not found in Redis
2025-05-01 08:17:23.827 +07:00 [WRN] Message 61 not found in Redis
2025-05-01 08:17:23.828 +07:00 [WRN] Message 60 not found in Redis
2025-05-01 08:17:23.829 +07:00 [WRN] Message 59 not found in Redis
2025-05-01 08:17:23.830 +07:00 [WRN] Message 57 not found in Redis
2025-05-01 08:17:23.832 +07:00 [WRN] Message 55 not found in Redis
2025-05-01 08:17:23.832 +07:00 [WRN] Message 54 not found in Redis
2025-05-01 08:17:23.833 +07:00 [WRN] Message 51 not found in Redis
2025-05-01 08:17:23.833 +07:00 [WRN] Message 49 not found in Redis
2025-05-01 08:17:23.834 +07:00 [WRN] Message 11 not found in Redis
2025-05-01 08:17:23.835 +07:00 [WRN] Message 8 not found in Redis
2025-05-01 08:17:23.836 +07:00 [WRN] Message 3 not found in Redis
2025-05-01 08:17:23.836 +07:00 [WRN] Message 2 not found in Redis
2025-05-01 08:17:23.837 +07:00 [WRN] Message 1 not found in Redis
2025-05-01 08:17:23.837 +07:00 [INF] Retrieved 12 messages from Redis for conversation 1
2025-05-01 08:17:23.839 +07:00 [INF] Retrieved 12 messages from Redis for conversation 1 and user 5
2025-05-01 08:17:23.839 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[server.DTO.MessageWithAttachment, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-01 08:17:23.840 +07:00 [INF] Executed action server.Controllers.MessageController.GetMessages (Message_app) in 65.7952ms
2025-05-01 08:17:23.840 +07:00 [INF] Executed endpoint 'server.Controllers.MessageController.GetMessages (Message_app)'
2025-05-01 08:17:23.842 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/api/Message/getMessages/1/5 - 200 null application/json; charset=utf-8 72.1552ms
2025-05-01 08:17:23.861 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5053/api/Conversation/get_first_conversation/1 - null null
2025-05-01 08:17:23.861 +07:00 [INF] CORS policy execution successful.
2025-05-01 08:17:23.862 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5053/api/Conversation/get_first_conversation/1 - 204 null null 0.3357ms
2025-05-01 08:17:23.863 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/api/Conversation/get_first_conversation/1 - null null
2025-05-01 08:17:23.863 +07:00 [INF] CORS policy execution successful.
2025-05-01 08:17:23.863 +07:00 [INF] CORS policy execution successful.
2025-05-01 08:17:23.864 +07:00 [INF] Executing endpoint 'server.Controllers.ConversationController.GetFirstConversation (Message_app)'
2025-05-01 08:17:23.864 +07:00 [INF] Route matched with {action = "GetFirstConversation", controller = "Conversation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFirstConversation(Int32) on controller server.Controllers.ConversationController (Message_app).
2025-05-01 08:17:23.889 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[id], [c].[created_at], [c].[is_group], [c].[lastMessage], [c].[lastMessageSender], [c].[lastMessageTime], [c].[name]
FROM [Conversations] AS [c]
WHERE [c].[id] = @__p_0
2025-05-01 08:17:23.891 +07:00 [INF] Executing OkObjectResult, writing value of type 'server.Models.Conversation'.
2025-05-01 08:17:23.891 +07:00 [INF] Executed action server.Controllers.ConversationController.GetFirstConversation (Message_app) in 27.6393ms
2025-05-01 08:17:23.892 +07:00 [INF] Executed endpoint 'server.Controllers.ConversationController.GetFirstConversation (Message_app)'
2025-05-01 08:17:23.892 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/api/Conversation/get_first_conversation/1 - 200 null application/json; charset=utf-8 29.1947ms
2025-05-01 08:17:23.906 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5053/api/Participant/get_participants/1 - null null
2025-05-01 08:17:23.906 +07:00 [INF] CORS policy execution successful.
2025-05-01 08:17:23.906 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5053/api/Participant/get_participants/1 - 204 null null 0.258ms
2025-05-01 08:17:23.908 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/api/Participant/get_participants/1 - null null
2025-05-01 08:17:23.909 +07:00 [INF] CORS policy execution successful.
2025-05-01 08:17:23.909 +07:00 [INF] CORS policy execution successful.
2025-05-01 08:17:23.909 +07:00 [INF] Executing endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 08:17:23.909 +07:00 [INF] Route matched with {action = "GetParticipants", controller = "Participant"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetParticipants(Int32) on controller server.Controllers.ParticipantController (Message_app).
2025-05-01 08:17:23.917 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__conversation_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[id], [p].[adder], [p].[conversation_id], [p].[is_deleted], [p].[joined_at], [p].[name], [p].[role], [p].[user_id]
FROM [Participants] AS [p]
WHERE [p].[conversation_id] = @__conversation_id_0
2025-05-01 08:17:23.919 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType17`1[[System.Collections.Generic.List`1[[server.Models.Participants, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-01 08:17:23.920 +07:00 [INF] Executed action server.Controllers.ParticipantController.GetParticipants (Message_app) in 10.3161ms
2025-05-01 08:17:23.920 +07:00 [INF] Executed endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 08:17:23.920 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/api/Participant/get_participants/1 - 200 null application/json; charset=utf-8 11.9774ms
2025-05-01 08:17:25.219 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 08:17:25.220 +07:00 [INF] CORS policy execution successful.
2025-05-01 08:17:25.220 +07:00 [INF] CORS policy execution successful.
2025-05-01 08:17:25.221 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 08:17:25.221 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 08:17:25.222 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 3.2323ms
2025-05-01 08:17:25.624 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/api/Message/getMessages/1/2 - null null
2025-05-01 08:17:25.627 +07:00 [INF] Executing endpoint 'server.Controllers.MessageController.GetMessages (Message_app)'
2025-05-01 08:17:25.627 +07:00 [INF] Route matched with {action = "GetMessages", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32, Int32) on controller server.Controllers.MessageController (Message_app).
2025-05-01 08:17:25.646 +07:00 [WRN] Message 81 not found in Redis
2025-05-01 08:17:25.647 +07:00 [WRN] Message 80 not found in Redis
2025-05-01 08:17:25.647 +07:00 [WRN] Message 79 not found in Redis
2025-05-01 08:17:25.648 +07:00 [WRN] Message 78 not found in Redis
2025-05-01 08:17:25.649 +07:00 [WRN] Message 77 not found in Redis
2025-05-01 08:17:25.650 +07:00 [WRN] Message 76 not found in Redis
2025-05-01 08:17:25.653 +07:00 [WRN] Message 75 not found in Redis
2025-05-01 08:17:25.669 +07:00 [WRN] Message 74 not found in Redis
2025-05-01 08:17:25.670 +07:00 [WRN] Message 73 not found in Redis
2025-05-01 08:17:25.671 +07:00 [WRN] Message 72 not found in Redis
2025-05-01 08:17:25.673 +07:00 [WRN] Message 71 not found in Redis
2025-05-01 08:17:25.673 +07:00 [WRN] Message 68 not found in Redis
2025-05-01 08:17:25.675 +07:00 [WRN] Message 64 not found in Redis
2025-05-01 08:17:25.675 +07:00 [WRN] Message 62 not found in Redis
2025-05-01 08:17:25.676 +07:00 [WRN] Message 61 not found in Redis
2025-05-01 08:17:25.676 +07:00 [WRN] Message 60 not found in Redis
2025-05-01 08:17:25.677 +07:00 [WRN] Message 59 not found in Redis
2025-05-01 08:17:25.679 +07:00 [WRN] Message 57 not found in Redis
2025-05-01 08:17:25.679 +07:00 [WRN] Message 55 not found in Redis
2025-05-01 08:17:25.680 +07:00 [WRN] Message 54 not found in Redis
2025-05-01 08:17:25.682 +07:00 [WRN] Message 51 not found in Redis
2025-05-01 08:17:25.684 +07:00 [WRN] Message 49 not found in Redis
2025-05-01 08:17:25.686 +07:00 [WRN] Message 11 not found in Redis
2025-05-01 08:17:25.687 +07:00 [WRN] Message 8 not found in Redis
2025-05-01 08:17:25.688 +07:00 [WRN] Message 3 not found in Redis
2025-05-01 08:17:25.688 +07:00 [WRN] Message 2 not found in Redis
2025-05-01 08:17:25.689 +07:00 [WRN] Message 1 not found in Redis
2025-05-01 08:17:25.689 +07:00 [INF] Retrieved 12 messages from Redis for conversation 1
2025-05-01 08:17:25.689 +07:00 [INF] Retrieved 12 messages from Redis for conversation 1 and user 2
2025-05-01 08:17:25.690 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[server.DTO.MessageWithAttachment, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-01 08:17:25.691 +07:00 [INF] Executed action server.Controllers.MessageController.GetMessages (Message_app) in 62.8604ms
2025-05-01 08:17:25.691 +07:00 [INF] Executed endpoint 'server.Controllers.MessageController.GetMessages (Message_app)'
2025-05-01 08:17:25.691 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/api/Message/getMessages/1/2 - 200 null application/json; charset=utf-8 67.3324ms
2025-05-01 08:17:26.177 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/api/Conversation/get_first_conversation/1 - null null
2025-05-01 08:17:26.177 +07:00 [INF] Executing endpoint 'server.Controllers.ConversationController.GetFirstConversation (Message_app)'
2025-05-01 08:17:26.177 +07:00 [INF] Route matched with {action = "GetFirstConversation", controller = "Conversation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFirstConversation(Int32) on controller server.Controllers.ConversationController (Message_app).
2025-05-01 08:17:26.186 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[id], [c].[created_at], [c].[is_group], [c].[lastMessage], [c].[lastMessageSender], [c].[lastMessageTime], [c].[name]
FROM [Conversations] AS [c]
WHERE [c].[id] = @__p_0
2025-05-01 08:17:26.187 +07:00 [INF] Executing OkObjectResult, writing value of type 'server.Models.Conversation'.
2025-05-01 08:17:26.187 +07:00 [INF] Executed action server.Controllers.ConversationController.GetFirstConversation (Message_app) in 10.1068ms
2025-05-01 08:17:26.189 +07:00 [INF] Executed endpoint 'server.Controllers.ConversationController.GetFirstConversation (Message_app)'
2025-05-01 08:17:26.190 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/api/Conversation/get_first_conversation/1 - 200 null application/json; charset=utf-8 12.9034ms
2025-05-01 08:17:26.224 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/api/Participant/get_participants/1 - null null
2025-05-01 08:17:26.225 +07:00 [INF] Executing endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 08:17:26.225 +07:00 [INF] Route matched with {action = "GetParticipants", controller = "Participant"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetParticipants(Int32) on controller server.Controllers.ParticipantController (Message_app).
2025-05-01 08:17:26.234 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__conversation_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[id], [p].[adder], [p].[conversation_id], [p].[is_deleted], [p].[joined_at], [p].[name], [p].[role], [p].[user_id]
FROM [Participants] AS [p]
WHERE [p].[conversation_id] = @__conversation_id_0
2025-05-01 08:17:26.235 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType17`1[[System.Collections.Generic.List`1[[server.Models.Participants, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-01 08:17:26.235 +07:00 [INF] Executed action server.Controllers.ParticipantController.GetParticipants (Message_app) in 9.6496ms
2025-05-01 08:17:26.235 +07:00 [INF] Executed endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 08:17:26.235 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/api/Participant/get_participants/1 - 200 null application/json; charset=utf-8 10.8412ms
2025-05-01 08:17:28.784 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 08:17:28.784 +07:00 [INF] CORS policy execution successful.
2025-05-01 08:17:28.784 +07:00 [INF] CORS policy execution successful.
2025-05-01 08:17:28.785 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 08:17:28.785 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 08:17:28.785 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 0.5992ms
2025-05-01 08:17:29.273 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5053/api/Participant/get_participants/1 - null null
2025-05-01 08:17:29.273 +07:00 [INF] CORS policy execution successful.
2025-05-01 08:17:29.273 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5053/api/Participant/get_participants/1 - 204 null null 0.3239ms
2025-05-01 08:17:29.275 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/api/Participant/get_participants/1 - null null
2025-05-01 08:17:29.276 +07:00 [INF] CORS policy execution successful.
2025-05-01 08:17:29.276 +07:00 [INF] CORS policy execution successful.
2025-05-01 08:17:29.276 +07:00 [INF] Executing endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 08:17:29.276 +07:00 [INF] Route matched with {action = "GetParticipants", controller = "Participant"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetParticipants(Int32) on controller server.Controllers.ParticipantController (Message_app).
2025-05-01 08:17:29.287 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__conversation_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[id], [p].[adder], [p].[conversation_id], [p].[is_deleted], [p].[joined_at], [p].[name], [p].[role], [p].[user_id]
FROM [Participants] AS [p]
WHERE [p].[conversation_id] = @__conversation_id_0
2025-05-01 08:17:29.288 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType17`1[[System.Collections.Generic.List`1[[server.Models.Participants, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-01 08:17:29.289 +07:00 [INF] Executed action server.Controllers.ParticipantController.GetParticipants (Message_app) in 12.3124ms
2025-05-01 08:17:29.289 +07:00 [INF] Executed endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 08:17:29.290 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/api/Participant/get_participants/1 - 200 null application/json; charset=utf-8 14.3405ms
2025-05-01 08:17:30.233 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 08:17:30.233 +07:00 [INF] CORS policy execution successful.
2025-05-01 08:17:30.234 +07:00 [INF] CORS policy execution successful.
2025-05-01 08:17:30.234 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 08:17:30.234 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 08:17:30.235 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 1.4734ms
2025-05-01 08:17:33.796 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 08:17:33.797 +07:00 [INF] CORS policy execution successful.
2025-05-01 08:17:33.797 +07:00 [INF] CORS policy execution successful.
2025-05-01 08:17:33.797 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 08:17:33.798 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 08:17:33.798 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 2.2017ms
2025-05-01 08:17:35.273 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 08:17:35.273 +07:00 [INF] CORS policy execution successful.
2025-05-01 08:17:35.273 +07:00 [INF] CORS policy execution successful.
2025-05-01 08:17:35.273 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 08:17:35.274 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 08:17:35.274 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 1.2297ms
2025-05-01 08:17:38.827 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 08:17:38.827 +07:00 [INF] CORS policy execution successful.
2025-05-01 08:17:38.827 +07:00 [INF] CORS policy execution successful.
2025-05-01 08:17:38.827 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 08:17:38.828 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 08:17:38.828 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 0.7506ms
2025-05-01 08:17:40.313 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 08:17:40.313 +07:00 [INF] CORS policy execution successful.
2025-05-01 08:17:40.314 +07:00 [INF] CORS policy execution successful.
2025-05-01 08:17:40.314 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 08:17:40.314 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 08:17:40.314 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 0.678ms
2025-05-01 08:17:43.887 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 08:17:43.888 +07:00 [INF] CORS policy execution successful.
2025-05-01 08:17:43.888 +07:00 [INF] CORS policy execution successful.
2025-05-01 08:17:43.888 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 08:17:43.888 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 08:17:43.888 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 0.6817ms
2025-05-01 08:17:45.366 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 08:17:45.367 +07:00 [INF] CORS policy execution successful.
2025-05-01 08:17:45.367 +07:00 [INF] CORS policy execution successful.
2025-05-01 08:17:45.367 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 08:17:45.367 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 08:17:45.367 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 0.4046ms
2025-05-01 08:17:48.987 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 08:17:48.987 +07:00 [INF] CORS policy execution successful.
2025-05-01 08:17:48.987 +07:00 [INF] CORS policy execution successful.
2025-05-01 08:17:48.987 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 08:17:48.987 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 08:17:48.987 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 0.5156ms
2025-05-01 08:17:50.591 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 08:17:50.591 +07:00 [INF] CORS policy execution successful.
2025-05-01 08:17:50.591 +07:00 [INF] CORS policy execution successful.
2025-05-01 08:17:50.591 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 08:17:50.591 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 08:17:50.592 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 0.6547ms
2025-05-01 08:17:54.387 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 08:17:54.387 +07:00 [INF] CORS policy execution successful.
2025-05-01 08:17:54.387 +07:00 [INF] CORS policy execution successful.
2025-05-01 08:17:54.387 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 08:17:54.387 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 08:17:54.388 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 0.6134ms
2025-05-01 08:17:56.490 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 08:17:56.490 +07:00 [INF] CORS policy execution successful.
2025-05-01 08:17:56.490 +07:00 [INF] CORS policy execution successful.
2025-05-01 08:17:56.490 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 08:17:56.490 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 08:17:56.490 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 0.4534ms
2025-05-01 08:18:00.644 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 08:18:00.645 +07:00 [INF] CORS policy execution successful.
2025-05-01 08:18:00.645 +07:00 [INF] CORS policy execution successful.
2025-05-01 08:18:00.645 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 08:18:00.645 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 08:18:00.645 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 0.5395ms
2025-05-01 08:18:05.443 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 08:18:05.443 +07:00 [INF] CORS policy execution successful.
2025-05-01 08:18:05.443 +07:00 [INF] CORS policy execution successful.
2025-05-01 08:18:05.444 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 08:18:05.444 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 08:18:05.444 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 0.6935ms
2025-05-01 08:18:07.033 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 08:18:07.033 +07:00 [INF] CORS policy execution successful.
2025-05-01 08:18:07.033 +07:00 [INF] CORS policy execution successful.
2025-05-01 08:18:07.033 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 08:18:07.033 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 08:18:07.033 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 0.3476ms
2025-05-01 08:18:13.815 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 08:18:13.815 +07:00 [INF] CORS policy execution successful.
2025-05-01 08:18:13.815 +07:00 [INF] CORS policy execution successful.
2025-05-01 08:18:13.815 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 08:18:13.815 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 08:18:13.815 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 0.427ms
2025-05-01 08:18:23.319 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 08:18:23.320 +07:00 [INF] CORS policy execution successful.
2025-05-01 08:18:23.320 +07:00 [INF] CORS policy execution successful.
2025-05-01 08:18:23.320 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 08:18:23.320 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 08:18:23.320 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 1.1456ms
2025-05-01 08:18:57.847 +07:00 [INF] Executed DbCommand (47ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[id], [u].[username], [u].[avatar_url]
FROM [Users] AS [u]
2025-05-01 08:18:58.108 +07:00 [INF] User profile is available. Using 'C:\Users\Thao\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-01 08:18:58.242 +07:00 [WRN] Overriding address(es) 'http://localhost:5053'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-05-01 08:18:58.258 +07:00 [INF] Now listening on: http://[::]:5053
2025-05-01 08:18:58.259 +07:00 [INF] Now listening on: http://0.0.0.0:5053
2025-05-01 08:18:58.259 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-01 08:18:58.259 +07:00 [INF] Hosting environment: Development
2025-05-01 08:18:58.259 +07:00 [INF] Content root path: C:\Users\Thao\source\Flutter\Message_app\server
2025-05-01 08:19:02.724 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 08:19:02.758 +07:00 [INF] CORS policy execution successful.
2025-05-01 08:19:02.788 +07:00 [INF] CORS policy execution successful.
2025-05-01 08:19:02.796 +07:00 [WRN] Failed to determine the https port for redirect.
2025-05-01 08:19:02.908 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 08:19:03.189 +07:00 [INF] Executed DbCommand (33ms) [Parameters=[@__client_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[conversation_id]
FROM [Participants] AS [p]
WHERE [p].[user_id] = @__client_UserId_0 AND [p].[is_deleted] = CAST(0 AS bit)
2025-05-01 08:19:04.818 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 08:19:04.821 +07:00 [INF] CORS policy execution successful.
2025-05-01 08:19:04.823 +07:00 [INF] CORS policy execution successful.
2025-05-01 08:19:04.825 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 08:19:04.829 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 08:19:04.832 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 12.7578ms
2025-05-01 08:19:07.758 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5053/api/Participant/get_participants/1 - null null
2025-05-01 08:19:07.759 +07:00 [INF] CORS policy execution successful.
2025-05-01 08:19:07.762 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5053/api/Participant/get_participants/1 - 204 null null 3.1275ms
2025-05-01 08:19:07.766 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/api/Participant/get_participants/1 - null null
2025-05-01 08:19:07.766 +07:00 [INF] CORS policy execution successful.
2025-05-01 08:19:07.768 +07:00 [INF] CORS policy execution successful.
2025-05-01 08:19:07.771 +07:00 [INF] Executing endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 08:19:07.806 +07:00 [INF] Route matched with {action = "GetParticipants", controller = "Participant"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetParticipants(Int32) on controller server.Controllers.ParticipantController (Message_app).
2025-05-01 08:19:07.925 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[@__conversation_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[id], [p].[adder], [p].[conversation_id], [p].[is_deleted], [p].[joined_at], [p].[name], [p].[role], [p].[user_id]
FROM [Participants] AS [p]
WHERE [p].[conversation_id] = @__conversation_id_0
2025-05-01 08:19:07.974 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType17`1[[System.Collections.Generic.List`1[[server.Models.Participants, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-01 08:19:08.035 +07:00 [INF] Executed action server.Controllers.ParticipantController.GetParticipants (Message_app) in 226.428ms
2025-05-01 08:19:08.036 +07:00 [INF] Executed endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 08:19:08.039 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/api/Participant/get_participants/1 - 200 null application/json; charset=utf-8 272.9962ms
2025-05-01 08:19:10.370 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 08:19:10.371 +07:00 [INF] CORS policy execution successful.
2025-05-01 08:19:10.372 +07:00 [INF] CORS policy execution successful.
2025-05-01 08:19:10.372 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 08:19:10.373 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 08:19:10.373 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 3.0595ms
2025-05-01 08:19:13.555 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - null null
2025-05-01 08:19:13.556 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 08:19:13.609 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[@__client_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[conversation_id]
FROM [Participants] AS [p]
WHERE [p].[user_id] = @__client_UserId_0 AND [p].[is_deleted] = CAST(0 AS bit)
2025-05-01 08:19:15.935 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 08:19:15.936 +07:00 [INF] CORS policy execution successful.
2025-05-01 08:19:15.936 +07:00 [INF] CORS policy execution successful.
2025-05-01 08:19:15.936 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 08:19:15.936 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 08:19:15.936 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 1.0328ms
2025-05-01 08:19:22.197 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 08:19:22.197 +07:00 [INF] CORS policy execution successful.
2025-05-01 08:19:22.197 +07:00 [INF] CORS policy execution successful.
2025-05-01 08:19:22.198 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 08:19:22.198 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 08:19:22.198 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 0.5875ms
2025-05-01 08:19:27.187 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 08:19:27.193 +07:00 [ERR] An unhandled exception has occurred while executing the request.
System.Net.WebSockets.WebSocketException (0x80004005): The remote party closed the WebSocket connection without completing the close handshake.
   at System.Net.WebSockets.ManagedWebSocket.ThrowEOFUnexpected()
   at System.Net.WebSockets.ManagedWebSocket.EnsureBufferContainsAsync(Int32 minimumRequiredBytes, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.WebSockets.ManagedWebSocket.ReceiveAsyncPrivate[TResult](Memory`1 payloadBuffer, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at server.Services.WebSocketService.webSocket.Receiver(Client client) in C:\Users\Thao\source\Flutter\Message_app\server\Services\WebSocketService\websocket.cs:line 124
   at server.Services.WebSocketService.webSocket.HandleWebSocket(HttpContext context) in C:\Users\Thao\source\Flutter\Message_app\server\Services\WebSocketService\websocket.cs:line 107
   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() in C:\Users\Thao\source\Flutter\Message_app\server\Program.cs:line 89
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-05-01 08:19:27.327 +07:00 [WRN] The response has already started, the error page middleware will not be executed.
2025-05-01 08:19:27.332 +07:00 [ERR] Connection id "0HNC89OK9U16O", Request id "0HNC89OK9U16O:00000001": An unhandled exception was thrown by the application.
System.Net.WebSockets.WebSocketException (0x80004005): The remote party closed the WebSocket connection without completing the close handshake.
   at System.Net.WebSockets.ManagedWebSocket.ThrowEOFUnexpected()
   at System.Net.WebSockets.ManagedWebSocket.EnsureBufferContainsAsync(Int32 minimumRequiredBytes, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.WebSockets.ManagedWebSocket.ReceiveAsyncPrivate[TResult](Memory`1 payloadBuffer, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at server.Services.WebSocketService.webSocket.Receiver(Client client) in C:\Users\Thao\source\Flutter\Message_app\server\Services\WebSocketService\websocket.cs:line 124
   at server.Services.WebSocketService.webSocket.HandleWebSocket(HttpContext context) in C:\Users\Thao\source\Flutter\Message_app\server\Services\WebSocketService\websocket.cs:line 107
   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() in C:\Users\Thao\source\Flutter\Message_app\server\Program.cs:line 89
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-05-01 08:19:27.342 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - 101 null null 13786.5372ms
2025-05-01 08:19:27.556 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 08:19:27.556 +07:00 [INF] CORS policy execution successful.
2025-05-01 08:19:27.556 +07:00 [INF] CORS policy execution successful.
2025-05-01 08:19:27.556 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 08:19:27.557 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 08:19:27.557 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 1.2023ms
2025-05-01 08:19:30.447 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 08:19:30.450 +07:00 [ERR] An unhandled exception has occurred while executing the request.
StackExchange.Redis.RedisServerException: WRONGTYPE Operation against a key holding the wrong kind of value
   at server.Services.WebSocketService.webSocket.CleanupClient(Client client) in C:\Users\Thao\source\Flutter\Message_app\server\Services\WebSocketService\websocket.cs:line 471
   at server.Services.WebSocketService.webSocket.HandleWebSocket(HttpContext context) in C:\Users\Thao\source\Flutter\Message_app\server\Services\WebSocketService\websocket.cs:line 109
   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() in C:\Users\Thao\source\Flutter\Message_app\server\Program.cs:line 89
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-05-01 08:19:30.451 +07:00 [WRN] The response has already started, the error page middleware will not be executed.
2025-05-01 08:19:30.465 +07:00 [ERR] Connection id "0HNC89OK9U16K", Request id "0HNC89OK9U16K:00000001": An unhandled exception was thrown by the application.
StackExchange.Redis.RedisServerException: WRONGTYPE Operation against a key holding the wrong kind of value
   at server.Services.WebSocketService.webSocket.CleanupClient(Client client) in C:\Users\Thao\source\Flutter\Message_app\server\Services\WebSocketService\websocket.cs:line 471
   at server.Services.WebSocketService.webSocket.HandleWebSocket(HttpContext context) in C:\Users\Thao\source\Flutter\Message_app\server\Services\WebSocketService\websocket.cs:line 109
   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() in C:\Users\Thao\source\Flutter\Message_app\server\Program.cs:line 89
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-05-01 08:19:30.472 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 101 null null 27749.5183ms
2025-05-01 08:20:49.290 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5053/api/Auth/login - null null
2025-05-01 08:20:49.301 +07:00 [INF] CORS policy execution successful.
2025-05-01 08:20:49.309 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5053/api/Auth/login - 204 null null 21.565ms
2025-05-01 08:20:49.383 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5053/api/Auth/login - application/json 53
2025-05-01 08:20:49.388 +07:00 [INF] CORS policy execution successful.
2025-05-01 08:20:49.401 +07:00 [INF] CORS policy execution successful.
2025-05-01 08:20:49.408 +07:00 [INF] Executing endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-01 08:20:49.482 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(server.DTO.AuthDTO.LoginDTO) on controller Message_app.Controllers.AuthController (Message_app).
2025-05-01 08:20:49.789 +07:00 [INF] Executed DbCommand (59ms) [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[avatar_url], [u].[bio], [u].[birthday], [u].[created_at], [u].[email], [u].[gender], [u].[interests], [u].[location], [u].[password], [u].[passwordSalt], [u].[username]
FROM [Users] AS [u]
WHERE [u].[email] = @__email_0
2025-05-01 08:20:50.009 +07:00 [INF] Executing OkObjectResult, writing value of type 'server.DTO.AuthDTO.LoginRespose'.
2025-05-01 08:20:50.023 +07:00 [INF] Executed action Message_app.Controllers.AuthController.Login (Message_app) in 539.8535ms
2025-05-01 08:20:50.023 +07:00 [INF] Executed endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-01 08:20:50.024 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5053/api/Auth/login - 200 null application/json; charset=utf-8 641.5439ms
2025-05-01 08:20:50.288 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5053/api/Conversation/get_conversations/5 - null null
2025-05-01 08:20:50.288 +07:00 [INF] CORS policy execution successful.
2025-05-01 08:20:50.289 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5053/api/Conversation/get_conversations/5 - 204 null null 0.4109ms
2025-05-01 08:20:50.291 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/api/Conversation/get_conversations/5 - null null
2025-05-01 08:20:50.291 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5053/api/Conversation/get_conversations/5 - null null
2025-05-01 08:20:50.291 +07:00 [INF] CORS policy execution successful.
2025-05-01 08:20:50.291 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5053/api/Conversation/get_conversations/5 - 204 null null 0.4467ms
2025-05-01 08:20:50.325 +07:00 [INF] CORS policy execution successful.
2025-05-01 08:20:50.328 +07:00 [INF] CORS policy execution successful.
2025-05-01 08:20:50.328 +07:00 [INF] Executing endpoint 'server.Controllers.ConversationController.GetConversations (Message_app)'
2025-05-01 08:20:50.345 +07:00 [INF] Route matched with {action = "GetConversations", controller = "Conversation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetConversations(Int32) on controller server.Controllers.ConversationController (Message_app).
2025-05-01 08:20:50.404 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[server.DTO.ConversationDto, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-01 08:20:50.412 +07:00 [INF] Executed action server.Controllers.ConversationController.GetConversations (Message_app) in 66.2354ms
2025-05-01 08:20:50.412 +07:00 [INF] Executed endpoint 'server.Controllers.ConversationController.GetConversations (Message_app)'
2025-05-01 08:20:50.412 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/api/Conversation/get_conversations/5 - 200 null application/json; charset=utf-8 121.3342ms
2025-05-01 08:20:50.415 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/api/Conversation/get_conversations/5 - null null
2025-05-01 08:20:50.415 +07:00 [INF] CORS policy execution successful.
2025-05-01 08:20:50.417 +07:00 [INF] CORS policy execution successful.
2025-05-01 08:20:50.417 +07:00 [INF] Executing endpoint 'server.Controllers.ConversationController.GetConversations (Message_app)'
2025-05-01 08:20:50.419 +07:00 [INF] Route matched with {action = "GetConversations", controller = "Conversation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetConversations(Int32) on controller server.Controllers.ConversationController (Message_app).
2025-05-01 08:20:50.423 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[server.DTO.ConversationDto, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-01 08:20:50.424 +07:00 [INF] Executed action server.Controllers.ConversationController.GetConversations (Message_app) in 4.5337ms
2025-05-01 08:20:50.424 +07:00 [INF] Executed endpoint 'server.Controllers.ConversationController.GetConversations (Message_app)'
2025-05-01 08:20:50.424 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/api/Conversation/get_conversations/5 - 200 null application/json; charset=utf-8 9.6756ms
2025-05-01 08:20:50.578 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 08:20:50.578 +07:00 [INF] CORS policy execution successful.
2025-05-01 08:20:50.578 +07:00 [INF] CORS policy execution successful.
2025-05-01 08:20:50.578 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 08:20:50.692 +07:00 [INF] Executed DbCommand (17ms) [Parameters=[@__client_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[conversation_id]
FROM [Participants] AS [p]
WHERE [p].[user_id] = @__client_UserId_0 AND [p].[is_deleted] = CAST(0 AS bit)
2025-05-01 08:21:06.462 +07:00 [INF] Request starting HTTP/1.1 POST http://192.168.1.9:5053/api/Auth/login - application/json 57
2025-05-01 08:21:06.463 +07:00 [INF] Executing endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-01 08:21:06.463 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(server.DTO.AuthDTO.LoginDTO) on controller Message_app.Controllers.AuthController (Message_app).
2025-05-01 08:21:06.530 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[avatar_url], [u].[bio], [u].[birthday], [u].[created_at], [u].[email], [u].[gender], [u].[interests], [u].[location], [u].[password], [u].[passwordSalt], [u].[username]
FROM [Users] AS [u]
WHERE [u].[email] = @__email_0
2025-05-01 08:21:06.537 +07:00 [INF] Executing OkObjectResult, writing value of type 'server.DTO.AuthDTO.LoginRespose'.
2025-05-01 08:21:06.537 +07:00 [INF] Executed action Message_app.Controllers.AuthController.Login (Message_app) in 74.0626ms
2025-05-01 08:21:06.537 +07:00 [INF] Executed endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-01 08:21:06.538 +07:00 [INF] Request finished HTTP/1.1 POST http://192.168.1.9:5053/api/Auth/login - 200 null application/json; charset=utf-8 76.1552ms
2025-05-01 08:21:07.610 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/api/Conversation/get_conversations/2 - null null
2025-05-01 08:21:07.611 +07:00 [INF] Executing endpoint 'server.Controllers.ConversationController.GetConversations (Message_app)'
2025-05-01 08:21:07.611 +07:00 [INF] Route matched with {action = "GetConversations", controller = "Conversation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetConversations(Int32) on controller server.Controllers.ConversationController (Message_app).
2025-05-01 08:21:07.618 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/api/Conversation/get_conversations/2 - null null
2025-05-01 08:21:07.620 +07:00 [INF] Executing endpoint 'server.Controllers.ConversationController.GetConversations (Message_app)'
2025-05-01 08:21:07.621 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[server.DTO.ConversationDto, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-01 08:21:07.621 +07:00 [INF] Route matched with {action = "GetConversations", controller = "Conversation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetConversations(Int32) on controller server.Controllers.ConversationController (Message_app).
2025-05-01 08:21:07.621 +07:00 [INF] Executed action server.Controllers.ConversationController.GetConversations (Message_app) in 10.3247ms
2025-05-01 08:21:07.621 +07:00 [INF] Executed endpoint 'server.Controllers.ConversationController.GetConversations (Message_app)'
2025-05-01 08:21:07.621 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/api/Conversation/get_conversations/2 - 200 null application/json; charset=utf-8 11.5309ms
2025-05-01 08:21:07.627 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[server.DTO.ConversationDto, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-01 08:21:07.627 +07:00 [INF] Executed action server.Controllers.ConversationController.GetConversations (Message_app) in 6.1642ms
2025-05-01 08:21:07.627 +07:00 [INF] Executed endpoint 'server.Controllers.ConversationController.GetConversations (Message_app)'
2025-05-01 08:21:07.627 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/api/Conversation/get_conversations/2 - 200 null application/json; charset=utf-8 9.2298ms
2025-05-01 08:21:08.068 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - null null
2025-05-01 08:21:08.069 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 08:21:08.339 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__client_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[conversation_id]
FROM [Participants] AS [p]
WHERE [p].[user_id] = @__client_UserId_0 AND [p].[is_deleted] = CAST(0 AS bit)
2025-05-01 08:21:13.606 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/api/Message/getMessages/1/2 - null null
2025-05-01 08:21:13.607 +07:00 [INF] Executing endpoint 'server.Controllers.MessageController.GetMessages (Message_app)'
2025-05-01 08:21:13.619 +07:00 [INF] Route matched with {action = "GetMessages", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32, Int32) on controller server.Controllers.MessageController (Message_app).
2025-05-01 08:21:13.670 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5053/api/Message/getMessages/1/5 - null null
2025-05-01 08:21:13.672 +07:00 [INF] CORS policy execution successful.
2025-05-01 08:21:13.673 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5053/api/Message/getMessages/1/5 - 204 null null 3.0485ms
2025-05-01 08:21:13.676 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/api/Message/getMessages/1/5 - null null
2025-05-01 08:21:13.676 +07:00 [INF] CORS policy execution successful.
2025-05-01 08:21:13.679 +07:00 [INF] CORS policy execution successful.
2025-05-01 08:21:13.680 +07:00 [INF] Executing endpoint 'server.Controllers.MessageController.GetMessages (Message_app)'
2025-05-01 08:21:13.680 +07:00 [INF] Route matched with {action = "GetMessages", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32, Int32) on controller server.Controllers.MessageController (Message_app).
2025-05-01 08:21:13.724 +07:00 [WRN] Message 81 not found in Redis
2025-05-01 08:21:13.724 +07:00 [WRN] Message 81 not found in Redis
2025-05-01 08:21:13.725 +07:00 [WRN] Message 80 not found in Redis
2025-05-01 08:21:13.725 +07:00 [WRN] Message 80 not found in Redis
2025-05-01 08:21:13.725 +07:00 [WRN] Message 79 not found in Redis
2025-05-01 08:21:13.726 +07:00 [WRN] Message 78 not found in Redis
2025-05-01 08:21:13.728 +07:00 [WRN] Message 77 not found in Redis
2025-05-01 08:21:13.734 +07:00 [WRN] Message 79 not found in Redis
2025-05-01 08:21:13.734 +07:00 [WRN] Message 76 not found in Redis
2025-05-01 08:21:13.743 +07:00 [WRN] Message 78 not found in Redis
2025-05-01 08:21:13.743 +07:00 [WRN] Message 75 not found in Redis
2025-05-01 08:21:13.748 +07:00 [WRN] Message 77 not found in Redis
2025-05-01 08:21:13.748 +07:00 [WRN] Message 74 not found in Redis
2025-05-01 08:21:13.749 +07:00 [WRN] Message 73 not found in Redis
2025-05-01 08:21:13.749 +07:00 [WRN] Message 76 not found in Redis
2025-05-01 08:21:13.749 +07:00 [WRN] Message 72 not found in Redis
2025-05-01 08:21:13.750 +07:00 [WRN] Message 75 not found in Redis
2025-05-01 08:21:13.751 +07:00 [WRN] Message 74 not found in Redis
2025-05-01 08:21:13.752 +07:00 [WRN] Message 71 not found in Redis
2025-05-01 08:21:13.752 +07:00 [WRN] Message 73 not found in Redis
2025-05-01 08:21:13.753 +07:00 [WRN] Message 72 not found in Redis
2025-05-01 08:21:13.754 +07:00 [WRN] Message 71 not found in Redis
2025-05-01 08:21:13.754 +07:00 [WRN] Message 68 not found in Redis
2025-05-01 08:21:13.757 +07:00 [WRN] Message 68 not found in Redis
2025-05-01 08:21:13.763 +07:00 [WRN] Message 64 not found in Redis
2025-05-01 08:21:13.763 +07:00 [WRN] Message 64 not found in Redis
2025-05-01 08:21:13.767 +07:00 [WRN] Message 62 not found in Redis
2025-05-01 08:21:13.767 +07:00 [WRN] Message 62 not found in Redis
2025-05-01 08:21:13.771 +07:00 [WRN] Message 61 not found in Redis
2025-05-01 08:21:13.771 +07:00 [WRN] Message 61 not found in Redis
2025-05-01 08:21:13.772 +07:00 [WRN] Message 60 not found in Redis
2025-05-01 08:21:13.772 +07:00 [WRN] Message 60 not found in Redis
2025-05-01 08:21:13.773 +07:00 [WRN] Message 59 not found in Redis
2025-05-01 08:21:13.773 +07:00 [WRN] Message 59 not found in Redis
2025-05-01 08:21:13.774 +07:00 [WRN] Message 57 not found in Redis
2025-05-01 08:21:13.774 +07:00 [WRN] Message 57 not found in Redis
2025-05-01 08:21:13.774 +07:00 [WRN] Message 55 not found in Redis
2025-05-01 08:21:13.774 +07:00 [WRN] Message 55 not found in Redis
2025-05-01 08:21:13.775 +07:00 [WRN] Message 54 not found in Redis
2025-05-01 08:21:13.775 +07:00 [WRN] Message 54 not found in Redis
2025-05-01 08:21:13.776 +07:00 [WRN] Message 51 not found in Redis
2025-05-01 08:21:13.777 +07:00 [WRN] Message 51 not found in Redis
2025-05-01 08:21:13.777 +07:00 [WRN] Message 49 not found in Redis
2025-05-01 08:21:13.778 +07:00 [WRN] Message 49 not found in Redis
2025-05-01 08:21:13.778 +07:00 [WRN] Message 11 not found in Redis
2025-05-01 08:21:13.778 +07:00 [WRN] Message 11 not found in Redis
2025-05-01 08:21:13.780 +07:00 [WRN] Message 8 not found in Redis
2025-05-01 08:21:13.780 +07:00 [WRN] Message 8 not found in Redis
2025-05-01 08:21:13.780 +07:00 [WRN] Message 3 not found in Redis
2025-05-01 08:21:13.781 +07:00 [WRN] Message 3 not found in Redis
2025-05-01 08:21:13.781 +07:00 [WRN] Message 2 not found in Redis
2025-05-01 08:21:13.781 +07:00 [WRN] Message 2 not found in Redis
2025-05-01 08:21:13.782 +07:00 [WRN] Message 1 not found in Redis
2025-05-01 08:21:13.782 +07:00 [INF] Retrieved 12 messages from Redis for conversation 1
2025-05-01 08:21:13.783 +07:00 [WRN] Message 1 not found in Redis
2025-05-01 08:21:13.783 +07:00 [INF] Retrieved 12 messages from Redis for conversation 1
2025-05-01 08:21:13.791 +07:00 [INF] Retrieved 12 messages from Redis for conversation 1 and user 2
2025-05-01 08:21:13.791 +07:00 [INF] Retrieved 12 messages from Redis for conversation 1 and user 5
2025-05-01 08:21:13.791 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[server.DTO.MessageWithAttachment, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-01 08:21:13.791 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[server.DTO.MessageWithAttachment, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-01 08:21:13.798 +07:00 [INF] Executed action server.Controllers.MessageController.GetMessages (Message_app) in 179.2002ms
2025-05-01 08:21:13.798 +07:00 [INF] Executed action server.Controllers.MessageController.GetMessages (Message_app) in 117.4138ms
2025-05-01 08:21:13.798 +07:00 [INF] Executed endpoint 'server.Controllers.MessageController.GetMessages (Message_app)'
2025-05-01 08:21:13.798 +07:00 [INF] Executed endpoint 'server.Controllers.MessageController.GetMessages (Message_app)'
2025-05-01 08:21:13.798 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/api/Message/getMessages/1/2 - 200 null application/json; charset=utf-8 191.8637ms
2025-05-01 08:21:13.798 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/api/Message/getMessages/1/5 - 200 null application/json; charset=utf-8 122.4864ms
2025-05-01 08:21:13.816 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5053/api/Conversation/get_first_conversation/1 - null null
2025-05-01 08:21:13.816 +07:00 [INF] CORS policy execution successful.
2025-05-01 08:21:13.817 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5053/api/Conversation/get_first_conversation/1 - 204 null null 0.4042ms
2025-05-01 08:21:13.821 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/api/Conversation/get_first_conversation/1 - null null
2025-05-01 08:21:13.821 +07:00 [INF] CORS policy execution successful.
2025-05-01 08:21:13.821 +07:00 [INF] CORS policy execution successful.
2025-05-01 08:21:13.821 +07:00 [INF] Executing endpoint 'server.Controllers.ConversationController.GetFirstConversation (Message_app)'
2025-05-01 08:21:13.832 +07:00 [INF] Route matched with {action = "GetFirstConversation", controller = "Conversation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFirstConversation(Int32) on controller server.Controllers.ConversationController (Message_app).
2025-05-01 08:21:13.925 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[id], [c].[created_at], [c].[is_group], [c].[lastMessage], [c].[lastMessageSender], [c].[lastMessageTime], [c].[name]
FROM [Conversations] AS [c]
WHERE [c].[id] = @__p_0
2025-05-01 08:21:13.943 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/api/Conversation/get_first_conversation/1 - null null
2025-05-01 08:21:13.944 +07:00 [INF] Executing endpoint 'server.Controllers.ConversationController.GetFirstConversation (Message_app)'
2025-05-01 08:21:13.944 +07:00 [INF] Route matched with {action = "GetFirstConversation", controller = "Conversation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFirstConversation(Int32) on controller server.Controllers.ConversationController (Message_app).
2025-05-01 08:21:13.970 +07:00 [INF] Executing OkObjectResult, writing value of type 'server.Models.Conversation'.
2025-05-01 08:21:13.975 +07:00 [INF] Executed action server.Controllers.ConversationController.GetFirstConversation (Message_app) in 142.6311ms
2025-05-01 08:21:13.975 +07:00 [INF] Executed endpoint 'server.Controllers.ConversationController.GetFirstConversation (Message_app)'
2025-05-01 08:21:13.975 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/api/Conversation/get_first_conversation/1 - 200 null application/json; charset=utf-8 157.4025ms
2025-05-01 08:21:13.992 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5053/api/Participant/get_participants/1 - null null
2025-05-01 08:21:13.993 +07:00 [INF] CORS policy execution successful.
2025-05-01 08:21:13.993 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5053/api/Participant/get_participants/1 - 204 null null 0.7638ms
2025-05-01 08:21:14.000 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/api/Participant/get_participants/1 - null null
2025-05-01 08:21:14.001 +07:00 [INF] CORS policy execution successful.
2025-05-01 08:21:14.002 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[id], [c].[created_at], [c].[is_group], [c].[lastMessage], [c].[lastMessageSender], [c].[lastMessageTime], [c].[name]
FROM [Conversations] AS [c]
WHERE [c].[id] = @__p_0
2025-05-01 08:21:14.003 +07:00 [INF] Executing OkObjectResult, writing value of type 'server.Models.Conversation'.
2025-05-01 08:21:14.003 +07:00 [INF] Executed action server.Controllers.ConversationController.GetFirstConversation (Message_app) in 58.9313ms
2025-05-01 08:21:14.003 +07:00 [INF] Executed endpoint 'server.Controllers.ConversationController.GetFirstConversation (Message_app)'
2025-05-01 08:21:14.003 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/api/Conversation/get_first_conversation/1 - 200 null application/json; charset=utf-8 59.7195ms
2025-05-01 08:21:14.004 +07:00 [INF] CORS policy execution successful.
2025-05-01 08:21:14.004 +07:00 [INF] Executing endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 08:21:14.004 +07:00 [INF] Route matched with {action = "GetParticipants", controller = "Participant"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetParticipants(Int32) on controller server.Controllers.ParticipantController (Message_app).
2025-05-01 08:21:14.012 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__conversation_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[id], [p].[adder], [p].[conversation_id], [p].[is_deleted], [p].[joined_at], [p].[name], [p].[role], [p].[user_id]
FROM [Participants] AS [p]
WHERE [p].[conversation_id] = @__conversation_id_0
2025-05-01 08:21:14.014 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType17`1[[System.Collections.Generic.List`1[[server.Models.Participants, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-01 08:21:14.014 +07:00 [INF] Executed action server.Controllers.ParticipantController.GetParticipants (Message_app) in 9.6619ms
2025-05-01 08:21:14.014 +07:00 [INF] Executed endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 08:21:14.015 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/api/Participant/get_participants/1 - 200 null application/json; charset=utf-8 14.2016ms
2025-05-01 08:21:14.265 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/api/Participant/get_participants/1 - null null
2025-05-01 08:21:14.266 +07:00 [INF] Executing endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 08:21:14.266 +07:00 [INF] Route matched with {action = "GetParticipants", controller = "Participant"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetParticipants(Int32) on controller server.Controllers.ParticipantController (Message_app).
2025-05-01 08:21:14.272 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__conversation_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[id], [p].[adder], [p].[conversation_id], [p].[is_deleted], [p].[joined_at], [p].[name], [p].[role], [p].[user_id]
FROM [Participants] AS [p]
WHERE [p].[conversation_id] = @__conversation_id_0
2025-05-01 08:21:14.273 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType17`1[[System.Collections.Generic.List`1[[server.Models.Participants, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-01 08:21:14.274 +07:00 [INF] Executed action server.Controllers.ParticipantController.GetParticipants (Message_app) in 8.1181ms
2025-05-01 08:21:14.274 +07:00 [INF] Executed endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 08:21:14.275 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/api/Participant/get_participants/1 - 200 null application/json; charset=utf-8 9.6077ms
2025-05-01 08:21:31.760 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5053/api/Participant/get_participants/1 - null null
2025-05-01 08:21:31.760 +07:00 [INF] CORS policy execution successful.
2025-05-01 08:21:31.761 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5053/api/Participant/get_participants/1 - 204 null null 0.5202ms
2025-05-01 08:21:31.762 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/api/Participant/get_participants/1 - null null
2025-05-01 08:21:31.763 +07:00 [INF] CORS policy execution successful.
2025-05-01 08:21:31.764 +07:00 [INF] CORS policy execution successful.
2025-05-01 08:21:31.764 +07:00 [INF] Executing endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 08:21:31.764 +07:00 [INF] Route matched with {action = "GetParticipants", controller = "Participant"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetParticipants(Int32) on controller server.Controllers.ParticipantController (Message_app).
2025-05-01 08:21:31.778 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__conversation_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[id], [p].[adder], [p].[conversation_id], [p].[is_deleted], [p].[joined_at], [p].[name], [p].[role], [p].[user_id]
FROM [Participants] AS [p]
WHERE [p].[conversation_id] = @__conversation_id_0
2025-05-01 08:21:31.778 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType17`1[[System.Collections.Generic.List`1[[server.Models.Participants, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-01 08:21:31.779 +07:00 [INF] Executed action server.Controllers.ParticipantController.GetParticipants (Message_app) in 14.4409ms
2025-05-01 08:21:31.779 +07:00 [INF] Executed endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 08:21:31.779 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/api/Participant/get_participants/1 - 200 null application/json; charset=utf-8 16.8947ms
2025-05-01 08:22:34.714 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/api/Participant/get_participants/1 - null null
2025-05-01 08:22:34.714 +07:00 [INF] Executing endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 08:22:34.714 +07:00 [INF] Route matched with {action = "GetParticipants", controller = "Participant"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetParticipants(Int32) on controller server.Controllers.ParticipantController (Message_app).
2025-05-01 08:22:34.728 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[@__conversation_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[id], [p].[adder], [p].[conversation_id], [p].[is_deleted], [p].[joined_at], [p].[name], [p].[role], [p].[user_id]
FROM [Participants] AS [p]
WHERE [p].[conversation_id] = @__conversation_id_0
2025-05-01 08:22:34.729 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType17`1[[System.Collections.Generic.List`1[[server.Models.Participants, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-01 08:22:34.729 +07:00 [INF] Executed action server.Controllers.ParticipantController.GetParticipants (Message_app) in 14.4404ms
2025-05-01 08:22:34.729 +07:00 [INF] Executed endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 08:22:34.729 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/api/Participant/get_participants/1 - 200 null application/json; charset=utf-8 15.0936ms
2025-05-01 08:25:46.346 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5053/api/Participant/get_participants/1 - null null
2025-05-01 08:25:46.346 +07:00 [INF] CORS policy execution successful.
2025-05-01 08:25:46.351 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5053/api/Participant/get_participants/1 - 204 null null 4.4397ms
2025-05-01 08:26:10.624 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5053/api/Participant/get_participants/1 - null null
2025-05-01 08:26:10.624 +07:00 [INF] CORS policy execution successful.
2025-05-01 08:26:10.624 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5053/api/Participant/get_participants/1 - 204 null null 0.3012ms
2025-05-01 08:26:10.626 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/api/Participant/get_participants/1 - null null
2025-05-01 08:26:10.626 +07:00 [INF] CORS policy execution successful.
2025-05-01 08:26:10.627 +07:00 [INF] CORS policy execution successful.
2025-05-01 08:26:10.627 +07:00 [INF] Executing endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 08:26:10.627 +07:00 [INF] Route matched with {action = "GetParticipants", controller = "Participant"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetParticipants(Int32) on controller server.Controllers.ParticipantController (Message_app).
2025-05-01 08:26:10.644 +07:00 [INF] Executed DbCommand (14ms) [Parameters=[@__conversation_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[id], [p].[adder], [p].[conversation_id], [p].[is_deleted], [p].[joined_at], [p].[name], [p].[role], [p].[user_id]
FROM [Participants] AS [p]
WHERE [p].[conversation_id] = @__conversation_id_0
2025-05-01 08:26:10.644 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType17`1[[System.Collections.Generic.List`1[[server.Models.Participants, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-01 08:26:10.645 +07:00 [INF] Executed action server.Controllers.ParticipantController.GetParticipants (Message_app) in 17.9983ms
2025-05-01 08:26:10.645 +07:00 [INF] Executed endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 08:26:10.646 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/api/Participant/get_participants/1 - 200 null application/json; charset=utf-8 19.7602ms
2025-05-01 08:39:21.354 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/api/Participant/get_participants/1 - null null
2025-05-01 08:39:21.355 +07:00 [INF] Executing endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 08:39:21.356 +07:00 [INF] Route matched with {action = "GetParticipants", controller = "Participant"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetParticipants(Int32) on controller server.Controllers.ParticipantController (Message_app).
2025-05-01 08:39:21.397 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__conversation_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[id], [p].[adder], [p].[conversation_id], [p].[is_deleted], [p].[joined_at], [p].[name], [p].[role], [p].[user_id]
FROM [Participants] AS [p]
WHERE [p].[conversation_id] = @__conversation_id_0
2025-05-01 08:39:21.397 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType17`1[[System.Collections.Generic.List`1[[server.Models.Participants, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-01 08:39:21.397 +07:00 [INF] Executed action server.Controllers.ParticipantController.GetParticipants (Message_app) in 41.6141ms
2025-05-01 08:39:21.398 +07:00 [INF] Executed endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 08:39:21.398 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/api/Participant/get_participants/1 - 200 null application/json; charset=utf-8 43.9151ms
2025-05-01 08:39:25.192 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/api/Participant/get_participants/1 - null null
2025-05-01 08:39:25.192 +07:00 [INF] Executing endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 08:39:25.192 +07:00 [INF] Route matched with {action = "GetParticipants", controller = "Participant"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetParticipants(Int32) on controller server.Controllers.ParticipantController (Message_app).
2025-05-01 08:39:25.197 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__conversation_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[id], [p].[adder], [p].[conversation_id], [p].[is_deleted], [p].[joined_at], [p].[name], [p].[role], [p].[user_id]
FROM [Participants] AS [p]
WHERE [p].[conversation_id] = @__conversation_id_0
2025-05-01 08:39:25.197 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType17`1[[System.Collections.Generic.List`1[[server.Models.Participants, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-01 08:39:25.198 +07:00 [INF] Executed action server.Controllers.ParticipantController.GetParticipants (Message_app) in 4.5239ms
2025-05-01 08:39:25.198 +07:00 [INF] Executed endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 08:39:25.198 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/api/Participant/get_participants/1 - 200 null application/json; charset=utf-8 5.8051ms
2025-05-01 08:43:44.920 +07:00 [INF] Executed DbCommand (43ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[id], [u].[username], [u].[avatar_url]
FROM [Users] AS [u]
2025-05-01 08:43:45.168 +07:00 [INF] User profile is available. Using 'C:\Users\Thao\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-01 08:43:45.282 +07:00 [WRN] Overriding address(es) 'http://localhost:5053'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-05-01 08:43:45.295 +07:00 [INF] Now listening on: http://[::]:5053
2025-05-01 08:43:45.296 +07:00 [INF] Now listening on: http://0.0.0.0:5053
2025-05-01 08:43:45.296 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-01 08:43:45.296 +07:00 [INF] Hosting environment: Development
2025-05-01 08:43:45.296 +07:00 [INF] Content root path: C:\Users\Thao\source\Flutter\Message_app\server
2025-05-01 08:43:45.382 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 08:43:45.412 +07:00 [INF] CORS policy execution successful.
2025-05-01 08:43:45.432 +07:00 [INF] CORS policy execution successful.
2025-05-01 08:43:45.433 +07:00 [WRN] Failed to determine the https port for redirect.
2025-05-01 08:43:45.500 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 08:43:45.642 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - null null
2025-05-01 08:43:45.654 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 08:43:45.702 +07:00 [INF] Executed DbCommand (36ms) [Parameters=[@__client_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[conversation_id]
FROM [Participants] AS [p]
WHERE [p].[user_id] = @__client_UserId_0 AND [p].[is_deleted] = CAST(0 AS bit)
2025-05-01 08:43:45.759 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__client_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[conversation_id]
FROM [Participants] AS [p]
WHERE [p].[user_id] = @__client_UserId_0 AND [p].[is_deleted] = CAST(0 AS bit)
2025-05-01 08:44:04.955 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5053/api/Participant/get_participants/1 - null null
2025-05-01 08:44:04.957 +07:00 [INF] CORS policy execution successful.
2025-05-01 08:44:04.965 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5053/api/Participant/get_participants/1 - 204 null null 8.404ms
2025-05-01 08:44:04.970 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/api/Participant/get_participants/1 - null null
2025-05-01 08:44:04.971 +07:00 [INF] CORS policy execution successful.
2025-05-01 08:44:04.973 +07:00 [INF] CORS policy execution successful.
2025-05-01 08:44:04.975 +07:00 [INF] Executing endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 08:44:05.005 +07:00 [INF] Route matched with {action = "GetParticipants", controller = "Participant"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetParticipants(Int32) on controller server.Controllers.ParticipantController (Message_app).
2025-05-01 08:44:05.073 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__conversation_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[id], [p].[adder], [p].[conversation_id], [p].[is_deleted], [p].[joined_at], [p].[name], [p].[role], [p].[user_id]
FROM [Participants] AS [p]
WHERE [p].[conversation_id] = @__conversation_id_0
2025-05-01 08:44:05.142 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType17`1[[System.Collections.Generic.List`1[[server.Models.Participants, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-01 08:44:05.206 +07:00 [INF] Executed action server.Controllers.ParticipantController.GetParticipants (Message_app) in 198.0614ms
2025-05-01 08:44:05.207 +07:00 [INF] Executed endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 08:44:05.211 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/api/Participant/get_participants/1 - 200 null application/json; charset=utf-8 241.0903ms
2025-05-01 08:44:05.392 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/api/Participant/get_participants/1 - null null
2025-05-01 08:44:05.392 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/api/Participant/get_participants/1 - null null
2025-05-01 08:44:05.395 +07:00 [INF] Executing endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 08:44:05.395 +07:00 [INF] Executing endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 08:44:05.396 +07:00 [INF] Route matched with {action = "GetParticipants", controller = "Participant"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetParticipants(Int32) on controller server.Controllers.ParticipantController (Message_app).
2025-05-01 08:44:05.396 +07:00 [INF] Route matched with {action = "GetParticipants", controller = "Participant"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetParticipants(Int32) on controller server.Controllers.ParticipantController (Message_app).
2025-05-01 08:44:05.406 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__conversation_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[id], [p].[adder], [p].[conversation_id], [p].[is_deleted], [p].[joined_at], [p].[name], [p].[role], [p].[user_id]
FROM [Participants] AS [p]
WHERE [p].[conversation_id] = @__conversation_id_0
2025-05-01 08:44:05.408 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType17`1[[System.Collections.Generic.List`1[[server.Models.Participants, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-01 08:44:05.409 +07:00 [INF] Executed action server.Controllers.ParticipantController.GetParticipants (Message_app) in 13.4009ms
2025-05-01 08:44:05.409 +07:00 [INF] Executed endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 08:44:05.410 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/api/Participant/get_participants/1 - 200 null application/json; charset=utf-8 17.5346ms
2025-05-01 08:44:05.424 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__conversation_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[id], [p].[adder], [p].[conversation_id], [p].[is_deleted], [p].[joined_at], [p].[name], [p].[role], [p].[user_id]
FROM [Participants] AS [p]
WHERE [p].[conversation_id] = @__conversation_id_0
2025-05-01 08:44:05.425 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType17`1[[System.Collections.Generic.List`1[[server.Models.Participants, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-01 08:44:05.425 +07:00 [INF] Executed action server.Controllers.ParticipantController.GetParticipants (Message_app) in 29.6671ms
2025-05-01 08:44:05.426 +07:00 [INF] Executed endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 08:44:05.426 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/api/Participant/get_participants/1 - 200 null application/json; charset=utf-8 33.6636ms
2025-05-01 08:44:09.979 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/api/Participant/get_participants/1 - null null
2025-05-01 08:44:09.980 +07:00 [INF] Executing endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 08:44:09.980 +07:00 [INF] Route matched with {action = "GetParticipants", controller = "Participant"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetParticipants(Int32) on controller server.Controllers.ParticipantController (Message_app).
2025-05-01 08:44:09.987 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__conversation_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[id], [p].[adder], [p].[conversation_id], [p].[is_deleted], [p].[joined_at], [p].[name], [p].[role], [p].[user_id]
FROM [Participants] AS [p]
WHERE [p].[conversation_id] = @__conversation_id_0
2025-05-01 08:44:09.988 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType17`1[[System.Collections.Generic.List`1[[server.Models.Participants, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-01 08:44:09.989 +07:00 [INF] Executed action server.Controllers.ParticipantController.GetParticipants (Message_app) in 8.8933ms
2025-05-01 08:44:09.989 +07:00 [INF] Executed endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 08:44:09.989 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/api/Participant/get_participants/1 - 200 null application/json; charset=utf-8 10.6293ms
2025-05-01 09:11:11.163 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 09:11:11.168 +07:00 [ERR] An unhandled exception has occurred while executing the request.
System.Net.WebSockets.WebSocketException (0x80004005): The remote party closed the WebSocket connection without completing the close handshake.
 ---> Microsoft.AspNetCore.Connections.ConnectionResetException: An existing connection was forcibly closed by the remote host.
 ---> System.Net.Sockets.SocketException (10054): An existing connection was forcibly closed by the remote host.
   --- End of inner exception stack trace ---
   at System.IO.Pipelines.Pipe.GetReadAsyncResult()
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1UpgradeMessageBody.ReadAsyncInternalAwaited(ValueTask`1 readTask, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpRequestStream.ReadAsyncInternal(Memory`1 destination, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.IO.Stream.ReadAtLeastAsyncCore(Memory`1 buffer, Int32 minimumBytes, Boolean throwOnEndOfStream, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Net.WebSockets.ManagedWebSocket.EnsureBufferContainsAsync(Int32 minimumRequiredBytes, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.WebSockets.ManagedWebSocket.ReceiveAsyncPrivate[TResult](Memory`1 payloadBuffer, CancellationToken cancellationToken)
   at System.Net.WebSockets.ManagedWebSocket.ReceiveAsyncPrivate[TResult](Memory`1 payloadBuffer, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at server.Services.WebSocketService.webSocket.Receiver(Client client) in C:\Users\Thao\source\Flutter\Message_app\server\Services\WebSocketService\websocket.cs:line 124
   at server.Services.WebSocketService.webSocket.HandleWebSocket(HttpContext context) in C:\Users\Thao\source\Flutter\Message_app\server\Services\WebSocketService\websocket.cs:line 107
   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() in C:\Users\Thao\source\Flutter\Message_app\server\Program.cs:line 89
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-05-01 09:11:11.215 +07:00 [WRN] The response has already started, the error page middleware will not be executed.
2025-05-01 09:11:11.218 +07:00 [ERR] Connection id "0HNC8A6E5OEN2", Request id "0HNC8A6E5OEN2:00000001": An unhandled exception was thrown by the application.
System.Net.WebSockets.WebSocketException (0x80004005): The remote party closed the WebSocket connection without completing the close handshake.
 ---> Microsoft.AspNetCore.Connections.ConnectionResetException: An existing connection was forcibly closed by the remote host.
 ---> System.Net.Sockets.SocketException (10054): An existing connection was forcibly closed by the remote host.
   --- End of inner exception stack trace ---
   at System.IO.Pipelines.Pipe.GetReadAsyncResult()
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1UpgradeMessageBody.ReadAsyncInternalAwaited(ValueTask`1 readTask, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpRequestStream.ReadAsyncInternal(Memory`1 destination, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.IO.Stream.ReadAtLeastAsyncCore(Memory`1 buffer, Int32 minimumBytes, Boolean throwOnEndOfStream, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Net.WebSockets.ManagedWebSocket.EnsureBufferContainsAsync(Int32 minimumRequiredBytes, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.WebSockets.ManagedWebSocket.ReceiveAsyncPrivate[TResult](Memory`1 payloadBuffer, CancellationToken cancellationToken)
   at System.Net.WebSockets.ManagedWebSocket.ReceiveAsyncPrivate[TResult](Memory`1 payloadBuffer, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at server.Services.WebSocketService.webSocket.Receiver(Client client) in C:\Users\Thao\source\Flutter\Message_app\server\Services\WebSocketService\websocket.cs:line 124
   at server.Services.WebSocketService.webSocket.HandleWebSocket(HttpContext context) in C:\Users\Thao\source\Flutter\Message_app\server\Services\WebSocketService\websocket.cs:line 107
   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() in C:\Users\Thao\source\Flutter\Message_app\server\Program.cs:line 89
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-05-01 09:11:11.222 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - 101 null null 1645578.9104ms
2025-05-01 10:42:57.283 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - null null
2025-05-01 10:42:57.284 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - null null
2025-05-01 10:42:57.290 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 10:42:57.291 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 10:42:57.291 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 10:42:57.293 +07:00 [ERR] An unhandled exception has occurred while executing the request.
System.Net.WebSockets.WebSocketException (0x80004005): The remote party closed the WebSocket connection without completing the close handshake.
   at System.Net.WebSockets.ManagedWebSocket.ThrowEOFUnexpected()
   at System.Net.WebSockets.ManagedWebSocket.EnsureBufferContainsAsync(Int32 minimumRequiredBytes, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.WebSockets.ManagedWebSocket.ReceiveAsyncPrivate[TResult](Memory`1 payloadBuffer, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at server.Services.WebSocketService.webSocket.Receiver(Client client) in C:\Users\Thao\source\Flutter\Message_app\server\Services\WebSocketService\websocket.cs:line 124
   at server.Services.WebSocketService.webSocket.HandleWebSocket(HttpContext context) in C:\Users\Thao\source\Flutter\Message_app\server\Services\WebSocketService\websocket.cs:line 107
   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() in C:\Users\Thao\source\Flutter\Message_app\server\Program.cs:line 89
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-05-01 10:42:57.306 +07:00 [WRN] The response has already started, the error page middleware will not be executed.
2025-05-01 10:42:57.307 +07:00 [ERR] Connection id "0HNC8A6E5OEN1", Request id "0HNC8A6E5OEN1:00000001": An unhandled exception was thrown by the application.
System.Net.WebSockets.WebSocketException (0x80004005): The remote party closed the WebSocket connection without completing the close handshake.
   at System.Net.WebSockets.ManagedWebSocket.ThrowEOFUnexpected()
   at System.Net.WebSockets.ManagedWebSocket.EnsureBufferContainsAsync(Int32 minimumRequiredBytes, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.WebSockets.ManagedWebSocket.ReceiveAsyncPrivate[TResult](Memory`1 payloadBuffer, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at server.Services.WebSocketService.webSocket.Receiver(Client client) in C:\Users\Thao\source\Flutter\Message_app\server\Services\WebSocketService\websocket.cs:line 124
   at server.Services.WebSocketService.webSocket.HandleWebSocket(HttpContext context) in C:\Users\Thao\source\Flutter\Message_app\server\Services\WebSocketService\websocket.cs:line 107
   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() in C:\Users\Thao\source\Flutter\Message_app\server\Program.cs:line 89
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-05-01 10:42:57.310 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 101 null null 7151930.0522ms
2025-05-01 10:42:57.817 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 10:42:57.818 +07:00 [ERR] An unhandled exception has occurred while executing the request.
System.Net.WebSockets.WebSocketException (0x80004005): The remote party closed the WebSocket connection without completing the close handshake.
 ---> Microsoft.AspNetCore.Connections.ConnectionResetException: An existing connection was forcibly closed by the remote host.
 ---> System.Net.Sockets.SocketException (10054): An existing connection was forcibly closed by the remote host.
   --- End of inner exception stack trace ---
   at System.IO.Pipelines.Pipe.GetReadAsyncResult()
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1UpgradeMessageBody.ReadAsyncInternalAwaited(ValueTask`1 readTask, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpRequestStream.ReadAsyncInternal(Memory`1 destination, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.IO.Stream.ReadAtLeastAsyncCore(Memory`1 buffer, Int32 minimumBytes, Boolean throwOnEndOfStream, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Net.WebSockets.ManagedWebSocket.EnsureBufferContainsAsync(Int32 minimumRequiredBytes, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.WebSockets.ManagedWebSocket.ReceiveAsyncPrivate[TResult](Memory`1 payloadBuffer, CancellationToken cancellationToken)
   at System.Net.WebSockets.ManagedWebSocket.ReceiveAsyncPrivate[TResult](Memory`1 payloadBuffer, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at server.Services.WebSocketService.webSocket.Receiver(Client client) in C:\Users\Thao\source\Flutter\Message_app\server\Services\WebSocketService\websocket.cs:line 124
   at server.Services.WebSocketService.webSocket.HandleWebSocket(HttpContext context) in C:\Users\Thao\source\Flutter\Message_app\server\Services\WebSocketService\websocket.cs:line 107
   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() in C:\Users\Thao\source\Flutter\Message_app\server\Program.cs:line 89
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-05-01 10:42:57.820 +07:00 [WRN] The response has already started, the error page middleware will not be executed.
2025-05-01 10:42:57.821 +07:00 [ERR] Connection id "0HNC8A6E5OEN7", Request id "0HNC8A6E5OEN7:00000001": An unhandled exception was thrown by the application.
System.Net.WebSockets.WebSocketException (0x80004005): The remote party closed the WebSocket connection without completing the close handshake.
 ---> Microsoft.AspNetCore.Connections.ConnectionResetException: An existing connection was forcibly closed by the remote host.
 ---> System.Net.Sockets.SocketException (10054): An existing connection was forcibly closed by the remote host.
   --- End of inner exception stack trace ---
   at System.IO.Pipelines.Pipe.GetReadAsyncResult()
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1UpgradeMessageBody.ReadAsyncInternalAwaited(ValueTask`1 readTask, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpRequestStream.ReadAsyncInternal(Memory`1 destination, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.IO.Stream.ReadAtLeastAsyncCore(Memory`1 buffer, Int32 minimumBytes, Boolean throwOnEndOfStream, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Net.WebSockets.ManagedWebSocket.EnsureBufferContainsAsync(Int32 minimumRequiredBytes, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.WebSockets.ManagedWebSocket.ReceiveAsyncPrivate[TResult](Memory`1 payloadBuffer, CancellationToken cancellationToken)
   at System.Net.WebSockets.ManagedWebSocket.ReceiveAsyncPrivate[TResult](Memory`1 payloadBuffer, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at server.Services.WebSocketService.webSocket.Receiver(Client client) in C:\Users\Thao\source\Flutter\Message_app\server\Services\WebSocketService\websocket.cs:line 124
   at server.Services.WebSocketService.webSocket.HandleWebSocket(HttpContext context) in C:\Users\Thao\source\Flutter\Message_app\server\Services\WebSocketService\websocket.cs:line 107
   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() in C:\Users\Thao\source\Flutter\Message_app\server\Program.cs:line 89
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-05-01 10:42:57.826 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - 101 null null 542.7016ms
2025-05-01 10:42:58.319 +07:00 [INF] Executed DbCommand (283ms) [Parameters=[@__client_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[conversation_id]
FROM [Participants] AS [p]
WHERE [p].[user_id] = @__client_UserId_0 AND [p].[is_deleted] = CAST(0 AS bit)
2025-05-01 10:42:58.458 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 10:42:58.460 +07:00 [ERR] An unhandled exception has occurred while executing the request.
System.Net.WebSockets.WebSocketException (0x80004005): The remote party closed the WebSocket connection without completing the close handshake.
 ---> Microsoft.AspNetCore.Connections.ConnectionResetException: An existing connection was forcibly closed by the remote host.
 ---> System.Net.Sockets.SocketException (10054): An existing connection was forcibly closed by the remote host.
   --- End of inner exception stack trace ---
   at System.IO.Pipelines.Pipe.GetReadResult(ReadResult& result)
   at System.IO.Pipelines.Pipe.ReadAsync(CancellationToken token)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1UpgradeMessageBody.ReadAsyncInternal(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpRequestPipeReader.ReadAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpRequestStream.ReadAsyncInternal(Memory`1 destination, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.IO.Stream.ReadAtLeastAsyncCore(Memory`1 buffer, Int32 minimumBytes, Boolean throwOnEndOfStream, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Net.WebSockets.ManagedWebSocket.EnsureBufferContainsAsync(Int32 minimumRequiredBytes, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.WebSockets.ManagedWebSocket.ReceiveAsyncPrivate[TResult](Memory`1 payloadBuffer, CancellationToken cancellationToken)
   at System.Net.WebSockets.ManagedWebSocket.ReceiveAsyncPrivate[TResult](Memory`1 payloadBuffer, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.GetTaskForValueTaskSource(IValueTaskSource`1 t)
--- End of stack trace from previous location ---
   at server.Services.WebSocketService.webSocket.Receiver(Client client) in C:\Users\Thao\source\Flutter\Message_app\server\Services\WebSocketService\websocket.cs:line 124
   at server.Services.WebSocketService.webSocket.HandleWebSocket(HttpContext context) in C:\Users\Thao\source\Flutter\Message_app\server\Services\WebSocketService\websocket.cs:line 107
   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() in C:\Users\Thao\source\Flutter\Message_app\server\Program.cs:line 89
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-05-01 10:42:58.466 +07:00 [WRN] The response has already started, the error page middleware will not be executed.
2025-05-01 10:42:58.468 +07:00 [ERR] Connection id "0HNC8A6E5OEN8", Request id "0HNC8A6E5OEN8:00000001": An unhandled exception was thrown by the application.
System.Net.WebSockets.WebSocketException (0x80004005): The remote party closed the WebSocket connection without completing the close handshake.
 ---> Microsoft.AspNetCore.Connections.ConnectionResetException: An existing connection was forcibly closed by the remote host.
 ---> System.Net.Sockets.SocketException (10054): An existing connection was forcibly closed by the remote host.
   --- End of inner exception stack trace ---
   at System.IO.Pipelines.Pipe.GetReadResult(ReadResult& result)
   at System.IO.Pipelines.Pipe.ReadAsync(CancellationToken token)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1UpgradeMessageBody.ReadAsyncInternal(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpRequestPipeReader.ReadAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpRequestStream.ReadAsyncInternal(Memory`1 destination, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.IO.Stream.ReadAtLeastAsyncCore(Memory`1 buffer, Int32 minimumBytes, Boolean throwOnEndOfStream, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Net.WebSockets.ManagedWebSocket.EnsureBufferContainsAsync(Int32 minimumRequiredBytes, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.WebSockets.ManagedWebSocket.ReceiveAsyncPrivate[TResult](Memory`1 payloadBuffer, CancellationToken cancellationToken)
   at System.Net.WebSockets.ManagedWebSocket.ReceiveAsyncPrivate[TResult](Memory`1 payloadBuffer, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.GetTaskForValueTaskSource(IValueTaskSource`1 t)
--- End of stack trace from previous location ---
   at server.Services.WebSocketService.webSocket.Receiver(Client client) in C:\Users\Thao\source\Flutter\Message_app\server\Services\WebSocketService\websocket.cs:line 124
   at server.Services.WebSocketService.webSocket.HandleWebSocket(HttpContext context) in C:\Users\Thao\source\Flutter\Message_app\server\Services\WebSocketService\websocket.cs:line 107
   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() in C:\Users\Thao\source\Flutter\Message_app\server\Program.cs:line 89
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-05-01 10:42:58.476 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - 101 null null 1192.6615ms
2025-05-01 10:54:49.065 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - null null
2025-05-01 10:54:49.066 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 10:54:49.214 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__client_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[conversation_id]
FROM [Participants] AS [p]
WHERE [p].[user_id] = @__client_UserId_0 AND [p].[is_deleted] = CAST(0 AS bit)
2025-05-01 11:22:16.793 +07:00 [INF] Executed DbCommand (85ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[id], [u].[username], [u].[avatar_url]
FROM [Users] AS [u]
2025-05-01 11:22:17.070 +07:00 [INF] User profile is available. Using 'C:\Users\Thao\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-01 11:22:17.233 +07:00 [WRN] Overriding address(es) 'http://localhost:5053'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-05-01 11:22:17.248 +07:00 [INF] Now listening on: http://[::]:5053
2025-05-01 11:22:17.249 +07:00 [INF] Now listening on: http://0.0.0.0:5053
2025-05-01 11:22:17.249 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-01 11:22:17.249 +07:00 [INF] Hosting environment: Development
2025-05-01 11:22:17.249 +07:00 [INF] Content root path: C:\Users\Thao\source\Flutter\Message_app\server
2025-05-01 11:22:17.815 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - null null
2025-05-01 11:22:17.860 +07:00 [WRN] Failed to determine the https port for redirect.
2025-05-01 11:22:17.890 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 11:22:18.118 +07:00 [INF] Executed DbCommand (30ms) [Parameters=[@__client_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[conversation_id]
FROM [Participants] AS [p]
WHERE [p].[user_id] = @__client_UserId_0 AND [p].[is_deleted] = CAST(0 AS bit)
2025-05-01 11:23:04.149 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 11:23:04.177 +07:00 [ERR] An unhandled exception has occurred while executing the request.
System.Net.WebSockets.WebSocketException (0x80004005): The remote party closed the WebSocket connection without completing the close handshake.
   at System.Net.WebSockets.ManagedWebSocket.ThrowEOFUnexpected()
   at System.Net.WebSockets.ManagedWebSocket.EnsureBufferContainsAsync(Int32 minimumRequiredBytes, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.WebSockets.ManagedWebSocket.ReceiveAsyncPrivate[TResult](Memory`1 payloadBuffer, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at server.Services.WebSocketService.webSocket.Receiver(Client client) in C:\Users\Thao\source\Flutter\Message_app\server\Services\WebSocketService\websocket.cs:line 124
   at server.Services.WebSocketService.webSocket.HandleWebSocket(HttpContext context) in C:\Users\Thao\source\Flutter\Message_app\server\Services\WebSocketService\websocket.cs:line 107
   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() in C:\Users\Thao\source\Flutter\Message_app\server\Program.cs:line 89
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-05-01 11:23:04.272 +07:00 [WRN] The response has already started, the error page middleware will not be executed.
2025-05-01 11:23:04.294 +07:00 [ERR] Connection id "0HNC8CV13C1TI", Request id "0HNC8CV13C1TI:00000001": An unhandled exception was thrown by the application.
System.Net.WebSockets.WebSocketException (0x80004005): The remote party closed the WebSocket connection without completing the close handshake.
   at System.Net.WebSockets.ManagedWebSocket.ThrowEOFUnexpected()
   at System.Net.WebSockets.ManagedWebSocket.EnsureBufferContainsAsync(Int32 minimumRequiredBytes, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.WebSockets.ManagedWebSocket.ReceiveAsyncPrivate[TResult](Memory`1 payloadBuffer, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at server.Services.WebSocketService.webSocket.Receiver(Client client) in C:\Users\Thao\source\Flutter\Message_app\server\Services\WebSocketService\websocket.cs:line 124
   at server.Services.WebSocketService.webSocket.HandleWebSocket(HttpContext context) in C:\Users\Thao\source\Flutter\Message_app\server\Services\WebSocketService\websocket.cs:line 107
   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() in C:\Users\Thao\source\Flutter\Message_app\server\Program.cs:line 89
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-05-01 11:23:04.323 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - 101 null null 46503.697ms
2025-05-01 11:25:29.966 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5053/api/Auth/login - null null
2025-05-01 11:25:29.990 +07:00 [INF] CORS policy execution successful.
2025-05-01 11:25:30.012 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5053/api/Auth/login - 204 null null 46.0623ms
2025-05-01 11:25:30.022 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5053/api/Auth/login - application/json 53
2025-05-01 11:25:30.027 +07:00 [INF] CORS policy execution successful.
2025-05-01 11:25:30.038 +07:00 [INF] CORS policy execution successful.
2025-05-01 11:25:30.054 +07:00 [INF] Executing endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-01 11:25:30.186 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(server.DTO.AuthDTO.LoginDTO) on controller Message_app.Controllers.AuthController (Message_app).
2025-05-01 11:25:30.661 +07:00 [INF] Executed DbCommand (90ms) [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[avatar_url], [u].[bio], [u].[birthday], [u].[created_at], [u].[email], [u].[gender], [u].[interests], [u].[location], [u].[password], [u].[passwordSalt], [u].[username]
FROM [Users] AS [u]
WHERE [u].[email] = @__email_0
2025-05-01 11:25:30.908 +07:00 [INF] Executing OkObjectResult, writing value of type 'server.DTO.AuthDTO.LoginRespose'.
2025-05-01 11:25:31.027 +07:00 [INF] Executed action Message_app.Controllers.AuthController.Login (Message_app) in 834.4221ms
2025-05-01 11:25:31.027 +07:00 [INF] Executed endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-01 11:25:31.036 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5053/api/Auth/login - 200 null application/json; charset=utf-8 1014.6354ms
2025-05-01 11:25:31.252 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5053/api/Conversation/get_conversations/5 - null null
2025-05-01 11:25:31.253 +07:00 [INF] CORS policy execution successful.
2025-05-01 11:25:31.254 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5053/api/Conversation/get_conversations/5 - 204 null null 1.1498ms
2025-05-01 11:25:31.254 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5053/api/Conversation/get_conversations/5 - null null
2025-05-01 11:25:31.254 +07:00 [INF] CORS policy execution successful.
2025-05-01 11:25:31.254 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/api/Conversation/get_conversations/5 - null null
2025-05-01 11:25:31.254 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5053/api/Conversation/get_conversations/5 - 204 null null 0.4348ms
2025-05-01 11:25:31.260 +07:00 [INF] CORS policy execution successful.
2025-05-01 11:25:31.263 +07:00 [INF] CORS policy execution successful.
2025-05-01 11:25:31.268 +07:00 [INF] Executing endpoint 'server.Controllers.ConversationController.GetConversations (Message_app)'
2025-05-01 11:25:31.283 +07:00 [INF] Route matched with {action = "GetConversations", controller = "Conversation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetConversations(Int32) on controller server.Controllers.ConversationController (Message_app).
2025-05-01 11:25:31.331 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[server.DTO.ConversationDto, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-01 11:25:31.342 +07:00 [INF] Executed action server.Controllers.ConversationController.GetConversations (Message_app) in 58.4224ms
2025-05-01 11:25:31.342 +07:00 [INF] Executed endpoint 'server.Controllers.ConversationController.GetConversations (Message_app)'
2025-05-01 11:25:31.342 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/api/Conversation/get_conversations/5 - 200 null application/json; charset=utf-8 87.5789ms
2025-05-01 11:25:31.342 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/api/Conversation/get_conversations/5 - null null
2025-05-01 11:25:31.343 +07:00 [INF] CORS policy execution successful.
2025-05-01 11:25:31.347 +07:00 [INF] CORS policy execution successful.
2025-05-01 11:25:31.349 +07:00 [INF] Executing endpoint 'server.Controllers.ConversationController.GetConversations (Message_app)'
2025-05-01 11:25:31.350 +07:00 [INF] Route matched with {action = "GetConversations", controller = "Conversation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetConversations(Int32) on controller server.Controllers.ConversationController (Message_app).
2025-05-01 11:25:31.356 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[server.DTO.ConversationDto, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-01 11:25:31.357 +07:00 [INF] Executed action server.Controllers.ConversationController.GetConversations (Message_app) in 6.0424ms
2025-05-01 11:25:31.357 +07:00 [INF] Executed endpoint 'server.Controllers.ConversationController.GetConversations (Message_app)'
2025-05-01 11:25:31.357 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/api/Conversation/get_conversations/5 - 200 null application/json; charset=utf-8 14.6945ms
2025-05-01 11:25:31.457 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 11:25:31.459 +07:00 [INF] CORS policy execution successful.
2025-05-01 11:25:31.460 +07:00 [INF] CORS policy execution successful.
2025-05-01 11:25:31.460 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 11:25:31.525 +07:00 [INF] Executed DbCommand (16ms) [Parameters=[@__client_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[conversation_id]
FROM [Participants] AS [p]
WHERE [p].[user_id] = @__client_UserId_0 AND [p].[is_deleted] = CAST(0 AS bit)
2025-05-01 11:25:46.905 +07:00 [INF] Request starting HTTP/1.1 POST http://192.168.1.9:5053/api/Auth/login - application/json 50
2025-05-01 11:25:46.912 +07:00 [INF] Executing endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-01 11:25:46.912 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(server.DTO.AuthDTO.LoginDTO) on controller Message_app.Controllers.AuthController (Message_app).
2025-05-01 11:25:46.929 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[avatar_url], [u].[bio], [u].[birthday], [u].[created_at], [u].[email], [u].[gender], [u].[interests], [u].[location], [u].[password], [u].[passwordSalt], [u].[username]
FROM [Users] AS [u]
WHERE [u].[email] = @__email_0
2025-05-01 11:25:46.930 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-05-01 11:25:46.931 +07:00 [INF] Executed action Message_app.Controllers.AuthController.Login (Message_app) in 18.2058ms
2025-05-01 11:25:46.931 +07:00 [INF] Executed endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-01 11:25:46.932 +07:00 [INF] Request finished HTTP/1.1 POST http://192.168.1.9:5053/api/Auth/login - 400 null application/json; charset=utf-8 26.792ms
2025-05-01 11:25:56.221 +07:00 [INF] Request starting HTTP/1.1 POST http://192.168.1.9:5053/api/Auth/login - application/json 57
2025-05-01 11:25:56.223 +07:00 [INF] Executing endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-01 11:25:56.223 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(server.DTO.AuthDTO.LoginDTO) on controller Message_app.Controllers.AuthController (Message_app).
2025-05-01 11:25:56.244 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[avatar_url], [u].[bio], [u].[birthday], [u].[created_at], [u].[email], [u].[gender], [u].[interests], [u].[location], [u].[password], [u].[passwordSalt], [u].[username]
FROM [Users] AS [u]
WHERE [u].[email] = @__email_0
2025-05-01 11:25:56.251 +07:00 [INF] Executing OkObjectResult, writing value of type 'server.DTO.AuthDTO.LoginRespose'.
2025-05-01 11:25:56.253 +07:00 [INF] Executed action Message_app.Controllers.AuthController.Login (Message_app) in 29.4516ms
2025-05-01 11:25:56.253 +07:00 [INF] Executed endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-01 11:25:56.254 +07:00 [INF] Request finished HTTP/1.1 POST http://192.168.1.9:5053/api/Auth/login - 200 null application/json; charset=utf-8 32.6456ms
2025-05-01 11:25:57.259 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/api/Conversation/get_conversations/2 - null null
2025-05-01 11:25:57.260 +07:00 [INF] Executing endpoint 'server.Controllers.ConversationController.GetConversations (Message_app)'
2025-05-01 11:25:57.260 +07:00 [INF] Route matched with {action = "GetConversations", controller = "Conversation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetConversations(Int32) on controller server.Controllers.ConversationController (Message_app).
2025-05-01 11:25:57.269 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/api/Conversation/get_conversations/2 - null null
2025-05-01 11:25:57.269 +07:00 [INF] Executing endpoint 'server.Controllers.ConversationController.GetConversations (Message_app)'
2025-05-01 11:25:57.269 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[server.DTO.ConversationDto, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-01 11:25:57.270 +07:00 [INF] Route matched with {action = "GetConversations", controller = "Conversation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetConversations(Int32) on controller server.Controllers.ConversationController (Message_app).
2025-05-01 11:25:57.270 +07:00 [INF] Executed action server.Controllers.ConversationController.GetConversations (Message_app) in 10.3364ms
2025-05-01 11:25:57.271 +07:00 [INF] Executed endpoint 'server.Controllers.ConversationController.GetConversations (Message_app)'
2025-05-01 11:25:57.272 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/api/Conversation/get_conversations/2 - 200 null application/json; charset=utf-8 11.8685ms
2025-05-01 11:25:57.274 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[server.DTO.ConversationDto, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-01 11:25:57.275 +07:00 [INF] Executed action server.Controllers.ConversationController.GetConversations (Message_app) in 5.1229ms
2025-05-01 11:25:57.276 +07:00 [INF] Executed endpoint 'server.Controllers.ConversationController.GetConversations (Message_app)'
2025-05-01 11:25:57.276 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/api/Conversation/get_conversations/2 - 200 null application/json; charset=utf-8 7.4904ms
2025-05-01 11:25:57.740 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - null null
2025-05-01 11:25:57.740 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 11:25:57.821 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__client_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[conversation_id]
FROM [Participants] AS [p]
WHERE [p].[user_id] = @__client_UserId_0 AND [p].[is_deleted] = CAST(0 AS bit)
2025-05-01 11:26:02.497 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/api/Message/getMessages/1/2 - null null
2025-05-01 11:26:02.498 +07:00 [INF] Executing endpoint 'server.Controllers.MessageController.GetMessages (Message_app)'
2025-05-01 11:26:02.506 +07:00 [INF] Route matched with {action = "GetMessages", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32, Int32) on controller server.Controllers.MessageController (Message_app).
2025-05-01 11:26:02.572 +07:00 [WRN] Message 81 not found in Redis
2025-05-01 11:26:02.573 +07:00 [WRN] Message 80 not found in Redis
2025-05-01 11:26:02.573 +07:00 [WRN] Message 79 not found in Redis
2025-05-01 11:26:02.573 +07:00 [WRN] Message 78 not found in Redis
2025-05-01 11:26:02.573 +07:00 [WRN] Message 77 not found in Redis
2025-05-01 11:26:02.574 +07:00 [WRN] Message 76 not found in Redis
2025-05-01 11:26:02.574 +07:00 [WRN] Message 75 not found in Redis
2025-05-01 11:26:02.574 +07:00 [WRN] Message 74 not found in Redis
2025-05-01 11:26:02.575 +07:00 [WRN] Message 73 not found in Redis
2025-05-01 11:26:02.575 +07:00 [WRN] Message 72 not found in Redis
2025-05-01 11:26:02.575 +07:00 [WRN] Message 71 not found in Redis
2025-05-01 11:26:02.576 +07:00 [WRN] Message 68 not found in Redis
2025-05-01 11:26:02.576 +07:00 [WRN] Message 64 not found in Redis
2025-05-01 11:26:02.576 +07:00 [WRN] Message 62 not found in Redis
2025-05-01 11:26:02.577 +07:00 [WRN] Message 61 not found in Redis
2025-05-01 11:26:02.577 +07:00 [WRN] Message 60 not found in Redis
2025-05-01 11:26:02.577 +07:00 [WRN] Message 59 not found in Redis
2025-05-01 11:26:02.578 +07:00 [WRN] Message 57 not found in Redis
2025-05-01 11:26:02.578 +07:00 [WRN] Message 55 not found in Redis
2025-05-01 11:26:02.579 +07:00 [WRN] Message 54 not found in Redis
2025-05-01 11:26:02.580 +07:00 [WRN] Message 51 not found in Redis
2025-05-01 11:26:02.581 +07:00 [WRN] Message 49 not found in Redis
2025-05-01 11:26:02.582 +07:00 [WRN] Message 11 not found in Redis
2025-05-01 11:26:02.583 +07:00 [WRN] Message 8 not found in Redis
2025-05-01 11:26:02.584 +07:00 [WRN] Message 3 not found in Redis
2025-05-01 11:26:02.584 +07:00 [WRN] Message 2 not found in Redis
2025-05-01 11:26:02.585 +07:00 [WRN] Message 1 not found in Redis
2025-05-01 11:26:02.585 +07:00 [INF] Retrieved 12 messages from Redis for conversation 1
2025-05-01 11:26:02.589 +07:00 [INF] Retrieved 12 messages from Redis for conversation 1 and user 2
2025-05-01 11:26:02.589 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[server.DTO.MessageWithAttachment, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-01 11:26:02.595 +07:00 [INF] Executed action server.Controllers.MessageController.GetMessages (Message_app) in 87.8536ms
2025-05-01 11:26:02.595 +07:00 [INF] Executed endpoint 'server.Controllers.MessageController.GetMessages (Message_app)'
2025-05-01 11:26:02.595 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/api/Message/getMessages/1/2 - 200 null application/json; charset=utf-8 98.1846ms
2025-05-01 11:26:02.681 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/api/Conversation/get_first_conversation/1 - null null
2025-05-01 11:26:02.682 +07:00 [INF] Executing endpoint 'server.Controllers.ConversationController.GetFirstConversation (Message_app)'
2025-05-01 11:26:02.689 +07:00 [INF] Route matched with {action = "GetFirstConversation", controller = "Conversation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFirstConversation(Int32) on controller server.Controllers.ConversationController (Message_app).
2025-05-01 11:26:02.778 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[id], [c].[created_at], [c].[is_group], [c].[lastMessage], [c].[lastMessageSender], [c].[lastMessageTime], [c].[name]
FROM [Conversations] AS [c]
WHERE [c].[id] = @__p_0
2025-05-01 11:26:02.829 +07:00 [INF] Executing OkObjectResult, writing value of type 'server.Models.Conversation'.
2025-05-01 11:26:02.833 +07:00 [INF] Executed action server.Controllers.ConversationController.GetFirstConversation (Message_app) in 143.5689ms
2025-05-01 11:26:02.833 +07:00 [INF] Executed endpoint 'server.Controllers.ConversationController.GetFirstConversation (Message_app)'
2025-05-01 11:26:02.833 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/api/Conversation/get_first_conversation/1 - 200 null application/json; charset=utf-8 151.8291ms
2025-05-01 11:26:02.895 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/api/Participant/get_participants/1 - null null
2025-05-01 11:26:02.896 +07:00 [INF] Executing endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 11:26:02.911 +07:00 [INF] Route matched with {action = "GetParticipants", controller = "Participant"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetParticipants(Int32) on controller server.Controllers.ParticipantController (Message_app).
2025-05-01 11:26:02.957 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__conversation_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[id], [p].[adder], [p].[conversation_id], [p].[is_deleted], [p].[joined_at], [p].[name], [p].[role], [p].[user_id]
FROM [Participants] AS [p]
WHERE [p].[conversation_id] = @__conversation_id_0
2025-05-01 11:26:02.979 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType17`1[[System.Collections.Generic.List`1[[server.Models.Participants, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-01 11:26:03.003 +07:00 [INF] Executed action server.Controllers.ParticipantController.GetParticipants (Message_app) in 92.0581ms
2025-05-01 11:26:03.003 +07:00 [INF] Executed endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 11:26:03.004 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/api/Participant/get_participants/1 - 200 null application/json; charset=utf-8 108.3024ms
2025-05-01 11:26:03.291 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5053/api/Message/getMessages/1/5 - null null
2025-05-01 11:26:03.291 +07:00 [INF] CORS policy execution successful.
2025-05-01 11:26:03.291 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5053/api/Message/getMessages/1/5 - 204 null null 0.7889ms
2025-05-01 11:26:03.292 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/api/Message/getMessages/1/5 - null null
2025-05-01 11:26:03.293 +07:00 [INF] CORS policy execution successful.
2025-05-01 11:26:03.294 +07:00 [INF] CORS policy execution successful.
2025-05-01 11:26:03.294 +07:00 [INF] Executing endpoint 'server.Controllers.MessageController.GetMessages (Message_app)'
2025-05-01 11:26:03.294 +07:00 [INF] Route matched with {action = "GetMessages", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32, Int32) on controller server.Controllers.MessageController (Message_app).
2025-05-01 11:26:03.303 +07:00 [WRN] Message 81 not found in Redis
2025-05-01 11:26:03.304 +07:00 [WRN] Message 80 not found in Redis
2025-05-01 11:26:03.304 +07:00 [WRN] Message 79 not found in Redis
2025-05-01 11:26:03.304 +07:00 [WRN] Message 78 not found in Redis
2025-05-01 11:26:03.305 +07:00 [WRN] Message 77 not found in Redis
2025-05-01 11:26:03.305 +07:00 [WRN] Message 76 not found in Redis
2025-05-01 11:26:03.305 +07:00 [WRN] Message 75 not found in Redis
2025-05-01 11:26:03.306 +07:00 [WRN] Message 74 not found in Redis
2025-05-01 11:26:03.306 +07:00 [WRN] Message 73 not found in Redis
2025-05-01 11:26:03.306 +07:00 [WRN] Message 72 not found in Redis
2025-05-01 11:26:03.306 +07:00 [WRN] Message 71 not found in Redis
2025-05-01 11:26:03.307 +07:00 [WRN] Message 68 not found in Redis
2025-05-01 11:26:03.307 +07:00 [WRN] Message 64 not found in Redis
2025-05-01 11:26:03.307 +07:00 [WRN] Message 62 not found in Redis
2025-05-01 11:26:03.307 +07:00 [WRN] Message 61 not found in Redis
2025-05-01 11:26:03.308 +07:00 [WRN] Message 60 not found in Redis
2025-05-01 11:26:03.308 +07:00 [WRN] Message 59 not found in Redis
2025-05-01 11:26:03.309 +07:00 [WRN] Message 57 not found in Redis
2025-05-01 11:26:03.310 +07:00 [WRN] Message 55 not found in Redis
2025-05-01 11:26:03.310 +07:00 [WRN] Message 54 not found in Redis
2025-05-01 11:26:03.311 +07:00 [WRN] Message 51 not found in Redis
2025-05-01 11:26:03.311 +07:00 [WRN] Message 49 not found in Redis
2025-05-01 11:26:03.311 +07:00 [WRN] Message 11 not found in Redis
2025-05-01 11:26:03.312 +07:00 [WRN] Message 8 not found in Redis
2025-05-01 11:26:03.312 +07:00 [WRN] Message 3 not found in Redis
2025-05-01 11:26:03.312 +07:00 [WRN] Message 2 not found in Redis
2025-05-01 11:26:03.313 +07:00 [WRN] Message 1 not found in Redis
2025-05-01 11:26:03.313 +07:00 [INF] Retrieved 12 messages from Redis for conversation 1
2025-05-01 11:26:03.313 +07:00 [INF] Retrieved 12 messages from Redis for conversation 1 and user 5
2025-05-01 11:26:03.314 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[server.DTO.MessageWithAttachment, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-01 11:26:03.314 +07:00 [INF] Executed action server.Controllers.MessageController.GetMessages (Message_app) in 20.0575ms
2025-05-01 11:26:03.314 +07:00 [INF] Executed endpoint 'server.Controllers.MessageController.GetMessages (Message_app)'
2025-05-01 11:26:03.314 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/api/Message/getMessages/1/5 - 200 null application/json; charset=utf-8 22.0575ms
2025-05-01 11:26:03.335 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5053/api/Conversation/get_first_conversation/1 - null null
2025-05-01 11:26:03.335 +07:00 [INF] CORS policy execution successful.
2025-05-01 11:26:03.336 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5053/api/Conversation/get_first_conversation/1 - 204 null null 0.8327ms
2025-05-01 11:26:03.337 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/api/Conversation/get_first_conversation/1 - null null
2025-05-01 11:26:03.338 +07:00 [INF] CORS policy execution successful.
2025-05-01 11:26:03.338 +07:00 [INF] CORS policy execution successful.
2025-05-01 11:26:03.338 +07:00 [INF] Executing endpoint 'server.Controllers.ConversationController.GetFirstConversation (Message_app)'
2025-05-01 11:26:03.338 +07:00 [INF] Route matched with {action = "GetFirstConversation", controller = "Conversation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFirstConversation(Int32) on controller server.Controllers.ConversationController (Message_app).
2025-05-01 11:26:03.342 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[id], [c].[created_at], [c].[is_group], [c].[lastMessage], [c].[lastMessageSender], [c].[lastMessageTime], [c].[name]
FROM [Conversations] AS [c]
WHERE [c].[id] = @__p_0
2025-05-01 11:26:03.342 +07:00 [INF] Executing OkObjectResult, writing value of type 'server.Models.Conversation'.
2025-05-01 11:26:03.342 +07:00 [INF] Executed action server.Controllers.ConversationController.GetFirstConversation (Message_app) in 4.1877ms
2025-05-01 11:26:03.342 +07:00 [INF] Executed endpoint 'server.Controllers.ConversationController.GetFirstConversation (Message_app)'
2025-05-01 11:26:03.343 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/api/Conversation/get_first_conversation/1 - 200 null application/json; charset=utf-8 5.3099ms
2025-05-01 11:26:03.359 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5053/api/Participant/get_participants/1 - null null
2025-05-01 11:26:03.359 +07:00 [INF] CORS policy execution successful.
2025-05-01 11:26:03.359 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5053/api/Participant/get_participants/1 - 204 null null 0.3287ms
2025-05-01 11:26:03.360 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/api/Participant/get_participants/1 - null null
2025-05-01 11:26:03.360 +07:00 [INF] CORS policy execution successful.
2025-05-01 11:26:03.361 +07:00 [INF] CORS policy execution successful.
2025-05-01 11:26:03.361 +07:00 [INF] Executing endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 11:26:03.362 +07:00 [INF] Route matched with {action = "GetParticipants", controller = "Participant"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetParticipants(Int32) on controller server.Controllers.ParticipantController (Message_app).
2025-05-01 11:26:03.365 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__conversation_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[id], [p].[adder], [p].[conversation_id], [p].[is_deleted], [p].[joined_at], [p].[name], [p].[role], [p].[user_id]
FROM [Participants] AS [p]
WHERE [p].[conversation_id] = @__conversation_id_0
2025-05-01 11:26:03.367 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType17`1[[System.Collections.Generic.List`1[[server.Models.Participants, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-01 11:26:03.368 +07:00 [INF] Executed action server.Controllers.ParticipantController.GetParticipants (Message_app) in 5.928ms
2025-05-01 11:26:03.368 +07:00 [INF] Executed endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 11:26:03.368 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/api/Participant/get_participants/1 - 200 null application/json; charset=utf-8 8.2733ms
2025-05-01 11:26:11.096 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5053/api/Participant/get_participants/1 - null null
2025-05-01 11:26:11.096 +07:00 [INF] CORS policy execution successful.
2025-05-01 11:26:11.097 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5053/api/Participant/get_participants/1 - 204 null null 0.8867ms
2025-05-01 11:26:11.099 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/api/Participant/get_participants/1 - null null
2025-05-01 11:26:11.101 +07:00 [INF] CORS policy execution successful.
2025-05-01 11:26:11.101 +07:00 [INF] CORS policy execution successful.
2025-05-01 11:26:11.101 +07:00 [INF] Executing endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 11:26:11.101 +07:00 [INF] Route matched with {action = "GetParticipants", controller = "Participant"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetParticipants(Int32) on controller server.Controllers.ParticipantController (Message_app).
2025-05-01 11:26:11.109 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__conversation_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[id], [p].[adder], [p].[conversation_id], [p].[is_deleted], [p].[joined_at], [p].[name], [p].[role], [p].[user_id]
FROM [Participants] AS [p]
WHERE [p].[conversation_id] = @__conversation_id_0
2025-05-01 11:26:11.110 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType17`1[[System.Collections.Generic.List`1[[server.Models.Participants, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-01 11:26:11.110 +07:00 [INF] Executed action server.Controllers.ParticipantController.GetParticipants (Message_app) in 9.0109ms
2025-05-01 11:26:11.111 +07:00 [INF] Executed endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 11:26:11.111 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/api/Participant/get_participants/1 - 200 null application/json; charset=utf-8 11.456ms
2025-05-01 11:26:13.778 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/api/Participant/get_participants/1 - null null
2025-05-01 11:26:13.779 +07:00 [INF] Executing endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 11:26:13.779 +07:00 [INF] Route matched with {action = "GetParticipants", controller = "Participant"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetParticipants(Int32) on controller server.Controllers.ParticipantController (Message_app).
2025-05-01 11:26:13.793 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__conversation_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[id], [p].[adder], [p].[conversation_id], [p].[is_deleted], [p].[joined_at], [p].[name], [p].[role], [p].[user_id]
FROM [Participants] AS [p]
WHERE [p].[conversation_id] = @__conversation_id_0
2025-05-01 11:26:13.795 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType17`1[[System.Collections.Generic.List`1[[server.Models.Participants, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-01 11:26:13.795 +07:00 [INF] Executed action server.Controllers.ParticipantController.GetParticipants (Message_app) in 16.2671ms
2025-05-01 11:26:13.796 +07:00 [INF] Executed endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 11:26:13.796 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/api/Participant/get_participants/1 - 200 null application/json; charset=utf-8 17.6796ms
2025-05-01 11:32:28.307 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 11:32:28.309 +07:00 [ERR] An unhandled exception has occurred while executing the request.
System.Net.WebSockets.WebSocketException (0x80004005): The remote party closed the WebSocket connection without completing the close handshake.
 ---> Microsoft.AspNetCore.Connections.ConnectionResetException: An existing connection was forcibly closed by the remote host.
 ---> System.Net.Sockets.SocketException (10054): An existing connection was forcibly closed by the remote host.
   --- End of inner exception stack trace ---
   at System.IO.Pipelines.Pipe.GetReadAsyncResult()
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1UpgradeMessageBody.ReadAsyncInternalAwaited(ValueTask`1 readTask, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpRequestStream.ReadAsyncInternal(Memory`1 destination, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.IO.Stream.ReadAtLeastAsyncCore(Memory`1 buffer, Int32 minimumBytes, Boolean throwOnEndOfStream, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Net.WebSockets.ManagedWebSocket.EnsureBufferContainsAsync(Int32 minimumRequiredBytes, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.WebSockets.ManagedWebSocket.ReceiveAsyncPrivate[TResult](Memory`1 payloadBuffer, CancellationToken cancellationToken)
   at System.Net.WebSockets.ManagedWebSocket.ReceiveAsyncPrivate[TResult](Memory`1 payloadBuffer, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at server.Services.WebSocketService.webSocket.Receiver(Client client) in C:\Users\Thao\source\Flutter\Message_app\server\Services\WebSocketService\websocket.cs:line 124
   at server.Services.WebSocketService.webSocket.HandleWebSocket(HttpContext context) in C:\Users\Thao\source\Flutter\Message_app\server\Services\WebSocketService\websocket.cs:line 107
   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() in C:\Users\Thao\source\Flutter\Message_app\server\Program.cs:line 89
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-05-01 11:32:28.321 +07:00 [WRN] The response has already started, the error page middleware will not be executed.
2025-05-01 11:32:28.321 +07:00 [ERR] Connection id "0HNC8CV13C1TQ", Request id "0HNC8CV13C1TQ:00000001": An unhandled exception was thrown by the application.
System.Net.WebSockets.WebSocketException (0x80004005): The remote party closed the WebSocket connection without completing the close handshake.
 ---> Microsoft.AspNetCore.Connections.ConnectionResetException: An existing connection was forcibly closed by the remote host.
 ---> System.Net.Sockets.SocketException (10054): An existing connection was forcibly closed by the remote host.
   --- End of inner exception stack trace ---
   at System.IO.Pipelines.Pipe.GetReadAsyncResult()
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1UpgradeMessageBody.ReadAsyncInternalAwaited(ValueTask`1 readTask, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpRequestStream.ReadAsyncInternal(Memory`1 destination, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.IO.Stream.ReadAtLeastAsyncCore(Memory`1 buffer, Int32 minimumBytes, Boolean throwOnEndOfStream, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Net.WebSockets.ManagedWebSocket.EnsureBufferContainsAsync(Int32 minimumRequiredBytes, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.WebSockets.ManagedWebSocket.ReceiveAsyncPrivate[TResult](Memory`1 payloadBuffer, CancellationToken cancellationToken)
   at System.Net.WebSockets.ManagedWebSocket.ReceiveAsyncPrivate[TResult](Memory`1 payloadBuffer, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at server.Services.WebSocketService.webSocket.Receiver(Client client) in C:\Users\Thao\source\Flutter\Message_app\server\Services\WebSocketService\websocket.cs:line 124
   at server.Services.WebSocketService.webSocket.HandleWebSocket(HttpContext context) in C:\Users\Thao\source\Flutter\Message_app\server\Services\WebSocketService\websocket.cs:line 107
   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() in C:\Users\Thao\source\Flutter\Message_app\server\Program.cs:line 89
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-05-01 11:32:28.337 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - 101 null null 390596.7642ms
2025-05-01 11:33:31.378 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - null null
2025-05-01 11:33:31.379 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 11:33:31.447 +07:00 [INF] Executed DbCommand (14ms) [Parameters=[@__client_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[conversation_id]
FROM [Participants] AS [p]
WHERE [p].[user_id] = @__client_UserId_0 AND [p].[is_deleted] = CAST(0 AS bit)
2025-05-01 11:40:04.162 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 11:40:04.162 +07:00 [ERR] An unhandled exception has occurred while executing the request.
System.Net.WebSockets.WebSocketException (0x80004005): The remote party closed the WebSocket connection without completing the close handshake.
 ---> Microsoft.AspNetCore.Connections.ConnectionResetException: An existing connection was forcibly closed by the remote host.
 ---> System.Net.Sockets.SocketException (10054): An existing connection was forcibly closed by the remote host.
   --- End of inner exception stack trace ---
   at System.IO.Pipelines.Pipe.GetReadAsyncResult()
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1UpgradeMessageBody.ReadAsyncInternalAwaited(ValueTask`1 readTask, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpRequestStream.ReadAsyncInternal(Memory`1 destination, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.IO.Stream.ReadAtLeastAsyncCore(Memory`1 buffer, Int32 minimumBytes, Boolean throwOnEndOfStream, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Net.WebSockets.ManagedWebSocket.EnsureBufferContainsAsync(Int32 minimumRequiredBytes, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.WebSockets.ManagedWebSocket.ReceiveAsyncPrivate[TResult](Memory`1 payloadBuffer, CancellationToken cancellationToken)
   at System.Net.WebSockets.ManagedWebSocket.ReceiveAsyncPrivate[TResult](Memory`1 payloadBuffer, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at server.Services.WebSocketService.webSocket.Receiver(Client client) in C:\Users\Thao\source\Flutter\Message_app\server\Services\WebSocketService\websocket.cs:line 124
   at server.Services.WebSocketService.webSocket.HandleWebSocket(HttpContext context) in C:\Users\Thao\source\Flutter\Message_app\server\Services\WebSocketService\websocket.cs:line 107
   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() in C:\Users\Thao\source\Flutter\Message_app\server\Program.cs:line 89
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-05-01 11:40:04.187 +07:00 [WRN] The response has already started, the error page middleware will not be executed.
2025-05-01 11:40:04.187 +07:00 [ERR] Connection id "0HNC8CV13C1TV", Request id "0HNC8CV13C1TV:00000001": An unhandled exception was thrown by the application.
System.Net.WebSockets.WebSocketException (0x80004005): The remote party closed the WebSocket connection without completing the close handshake.
 ---> Microsoft.AspNetCore.Connections.ConnectionResetException: An existing connection was forcibly closed by the remote host.
 ---> System.Net.Sockets.SocketException (10054): An existing connection was forcibly closed by the remote host.
   --- End of inner exception stack trace ---
   at System.IO.Pipelines.Pipe.GetReadAsyncResult()
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1UpgradeMessageBody.ReadAsyncInternalAwaited(ValueTask`1 readTask, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpRequestStream.ReadAsyncInternal(Memory`1 destination, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.IO.Stream.ReadAtLeastAsyncCore(Memory`1 buffer, Int32 minimumBytes, Boolean throwOnEndOfStream, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Net.WebSockets.ManagedWebSocket.EnsureBufferContainsAsync(Int32 minimumRequiredBytes, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.WebSockets.ManagedWebSocket.ReceiveAsyncPrivate[TResult](Memory`1 payloadBuffer, CancellationToken cancellationToken)
   at System.Net.WebSockets.ManagedWebSocket.ReceiveAsyncPrivate[TResult](Memory`1 payloadBuffer, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at server.Services.WebSocketService.webSocket.Receiver(Client client) in C:\Users\Thao\source\Flutter\Message_app\server\Services\WebSocketService\websocket.cs:line 124
   at server.Services.WebSocketService.webSocket.HandleWebSocket(HttpContext context) in C:\Users\Thao\source\Flutter\Message_app\server\Services\WebSocketService\websocket.cs:line 107
   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() in C:\Users\Thao\source\Flutter\Message_app\server\Program.cs:line 89
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-05-01 11:40:04.341 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - 101 null null 392963.1186ms
2025-05-01 11:49:48.569 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - null null
2025-05-01 11:49:48.569 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 11:49:48.638 +07:00 [INF] Executed DbCommand (18ms) [Parameters=[@__client_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[conversation_id]
FROM [Participants] AS [p]
WHERE [p].[user_id] = @__client_UserId_0 AND [p].[is_deleted] = CAST(0 AS bit)
2025-05-01 12:43:49.785 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 12:43:49.788 +07:00 [ERR] An unhandled exception has occurred while executing the request.
System.Net.WebSockets.WebSocketException (0x80004005): The remote party closed the WebSocket connection without completing the close handshake.
   at System.Net.WebSockets.ManagedWebSocket.ThrowEOFUnexpected()
   at System.Net.WebSockets.ManagedWebSocket.EnsureBufferContainsAsync(Int32 minimumRequiredBytes, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.WebSockets.ManagedWebSocket.ReceiveAsyncPrivate[TResult](Memory`1 payloadBuffer, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at server.Services.WebSocketService.webSocket.Receiver(Client client) in C:\Users\Thao\source\Flutter\Message_app\server\Services\WebSocketService\websocket.cs:line 124
   at server.Services.WebSocketService.webSocket.HandleWebSocket(HttpContext context) in C:\Users\Thao\source\Flutter\Message_app\server\Services\WebSocketService\websocket.cs:line 107
   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() in C:\Users\Thao\source\Flutter\Message_app\server\Program.cs:line 89
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-05-01 12:43:49.800 +07:00 [WRN] The response has already started, the error page middleware will not be executed.
2025-05-01 12:43:49.801 +07:00 [ERR] Connection id "0HNC8CV13C1U0", Request id "0HNC8CV13C1U0:00000001": An unhandled exception was thrown by the application.
System.Net.WebSockets.WebSocketException (0x80004005): The remote party closed the WebSocket connection without completing the close handshake.
   at System.Net.WebSockets.ManagedWebSocket.ThrowEOFUnexpected()
   at System.Net.WebSockets.ManagedWebSocket.EnsureBufferContainsAsync(Int32 minimumRequiredBytes, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.WebSockets.ManagedWebSocket.ReceiveAsyncPrivate[TResult](Memory`1 payloadBuffer, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at server.Services.WebSocketService.webSocket.Receiver(Client client) in C:\Users\Thao\source\Flutter\Message_app\server\Services\WebSocketService\websocket.cs:line 124
   at server.Services.WebSocketService.webSocket.HandleWebSocket(HttpContext context) in C:\Users\Thao\source\Flutter\Message_app\server\Services\WebSocketService\websocket.cs:line 107
   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() in C:\Users\Thao\source\Flutter\Message_app\server\Program.cs:line 89
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-05-01 12:43:49.809 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - 101 null null 3241238.7786ms
2025-05-01 13:39:06.343 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 13:39:06.346 +07:00 [ERR] An unhandled exception has occurred while executing the request.
System.Net.WebSockets.WebSocketException (0x80004005): The remote party closed the WebSocket connection without completing the close handshake.
   at System.Net.WebSockets.ManagedWebSocket.ThrowEOFUnexpected()
   at System.Net.WebSockets.ManagedWebSocket.EnsureBufferContainsAsync(Int32 minimumRequiredBytes, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.WebSockets.ManagedWebSocket.ReceiveAsyncPrivate[TResult](Memory`1 payloadBuffer, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at server.Services.WebSocketService.webSocket.Receiver(Client client) in C:\Users\Thao\source\Flutter\Message_app\server\Services\WebSocketService\websocket.cs:line 124
   at server.Services.WebSocketService.webSocket.HandleWebSocket(HttpContext context) in C:\Users\Thao\source\Flutter\Message_app\server\Services\WebSocketService\websocket.cs:line 107
   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() in C:\Users\Thao\source\Flutter\Message_app\server\Program.cs:line 89
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-05-01 13:39:06.361 +07:00 [WRN] The response has already started, the error page middleware will not be executed.
2025-05-01 13:39:06.367 +07:00 [ERR] Connection id "0HNC8CV13C1TL", Request id "0HNC8CV13C1TL:00000001": An unhandled exception was thrown by the application.
System.Net.WebSockets.WebSocketException (0x80004005): The remote party closed the WebSocket connection without completing the close handshake.
   at System.Net.WebSockets.ManagedWebSocket.ThrowEOFUnexpected()
   at System.Net.WebSockets.ManagedWebSocket.EnsureBufferContainsAsync(Int32 minimumRequiredBytes, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.WebSockets.ManagedWebSocket.ReceiveAsyncPrivate[TResult](Memory`1 payloadBuffer, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at server.Services.WebSocketService.webSocket.Receiver(Client client) in C:\Users\Thao\source\Flutter\Message_app\server\Services\WebSocketService\websocket.cs:line 124
   at server.Services.WebSocketService.webSocket.HandleWebSocket(HttpContext context) in C:\Users\Thao\source\Flutter\Message_app\server\Services\WebSocketService\websocket.cs:line 107
   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() in C:\Users\Thao\source\Flutter\Message_app\server\Program.cs:line 89
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-05-01 13:39:06.380 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 101 null null 8014922.9876ms
2025-05-01 14:03:05.776 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 14:03:05.783 +07:00 [INF] CORS policy execution successful.
2025-05-01 14:03:05.784 +07:00 [INF] CORS policy execution successful.
2025-05-01 14:03:05.790 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 14:03:06.114 +07:00 [INF] Executed DbCommand (27ms) [Parameters=[@__client_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[conversation_id]
FROM [Participants] AS [p]
WHERE [p].[user_id] = @__client_UserId_0 AND [p].[is_deleted] = CAST(0 AS bit)
2025-05-01 14:03:06.414 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 14:03:06.418 +07:00 [ERR] An unhandled exception has occurred while executing the request.
StackExchange.Redis.RedisServerException: WRONGTYPE Operation against a key holding the wrong kind of value
   at server.Services.WebSocketService.webSocket.CleanupClient(Client client) in C:\Users\Thao\source\Flutter\Message_app\server\Services\WebSocketService\websocket.cs:line 471
   at server.Services.WebSocketService.webSocket.HandleWebSocket(HttpContext context) in C:\Users\Thao\source\Flutter\Message_app\server\Services\WebSocketService\websocket.cs:line 109
   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() in C:\Users\Thao\source\Flutter\Message_app\server\Program.cs:line 89
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-05-01 14:03:06.425 +07:00 [WRN] The response has already started, the error page middleware will not be executed.
2025-05-01 14:03:06.425 +07:00 [ERR] Connection id "0HNC8CV13C1U1", Request id "0HNC8CV13C1U1:00000001": An unhandled exception was thrown by the application.
StackExchange.Redis.RedisServerException: WRONGTYPE Operation against a key holding the wrong kind of value
   at server.Services.WebSocketService.webSocket.CleanupClient(Client client) in C:\Users\Thao\source\Flutter\Message_app\server\Services\WebSocketService\websocket.cs:line 471
   at server.Services.WebSocketService.webSocket.HandleWebSocket(HttpContext context) in C:\Users\Thao\source\Flutter\Message_app\server\Services\WebSocketService\websocket.cs:line 109
   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() in C:\Users\Thao\source\Flutter\Message_app\server\Program.cs:line 89
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-05-01 14:03:06.427 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 101 null null 651.3402ms
2025-05-01 23:10:48.535 +07:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[id], [u].[username], [u].[avatar_url]
FROM [Users] AS [u]
2025-05-01 23:10:48.669 +07:00 [INF] User profile is available. Using 'C:\Users\Thao\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-01 23:10:48.762 +07:00 [WRN] Overriding address(es) 'http://localhost:5053'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-05-01 23:10:48.770 +07:00 [INF] Now listening on: http://[::]:5053
2025-05-01 23:10:48.770 +07:00 [INF] Now listening on: http://0.0.0.0:5053
2025-05-01 23:10:48.770 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-01 23:10:48.770 +07:00 [INF] Hosting environment: Development
2025-05-01 23:10:48.770 +07:00 [INF] Content root path: C:\Users\Thao\source\Flutter\Message_app\server
2025-05-01 23:16:31.105 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5053/api/Auth/login - null null
2025-05-01 23:16:31.224 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:16:31.242 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5053/api/Auth/login - 204 null null 145.3989ms
2025-05-01 23:16:31.248 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5053/api/Auth/login - application/json 53
2025-05-01 23:16:31.252 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:16:31.295 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:16:31.298 +07:00 [WRN] Failed to determine the https port for redirect.
2025-05-01 23:16:31.369 +07:00 [INF] Executing endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-01 23:16:31.441 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(server.DTO.AuthDTO.LoginDTO) on controller Message_app.Controllers.AuthController (Message_app).
2025-05-01 23:16:32.025 +07:00 [INF] Executed DbCommand (113ms) [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[avatar_url], [u].[bio], [u].[birthday], [u].[created_at], [u].[email], [u].[gender], [u].[interests], [u].[location], [u].[password], [u].[passwordSalt], [u].[username]
FROM [Users] AS [u]
WHERE [u].[email] = @__email_0
2025-05-01 23:16:32.271 +07:00 [INF] Executing OkObjectResult, writing value of type 'server.DTO.AuthDTO.LoginRespose'.
2025-05-01 23:16:32.409 +07:00 [INF] Executed action Message_app.Controllers.AuthController.Login (Message_app) in 960.6206ms
2025-05-01 23:16:32.410 +07:00 [INF] Executed endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-01 23:16:32.424 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5053/api/Auth/login - 200 null application/json; charset=utf-8 1176.3879ms
2025-05-01 23:16:32.684 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5053/api/Conversation/get_conversations/5 - null null
2025-05-01 23:16:32.685 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5053/api/Conversation/get_conversations/5 - null null
2025-05-01 23:16:32.687 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:16:32.689 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:16:32.690 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5053/api/Conversation/get_conversations/5 - 204 null null 4.6179ms
2025-05-01 23:16:32.689 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5053/api/Conversation/get_conversations/5 - 204 null null 4.1386ms
2025-05-01 23:16:32.694 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/api/Conversation/get_conversations/5 - null null
2025-05-01 23:16:32.716 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:16:32.719 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:16:32.725 +07:00 [INF] Executing endpoint 'server.Controllers.ConversationController.GetConversations (Message_app)'
2025-05-01 23:16:32.732 +07:00 [INF] Route matched with {action = "GetConversations", controller = "Conversation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetConversations(Int32) on controller server.Controllers.ConversationController (Message_app).
2025-05-01 23:16:33.055 +07:00 [INF] Executed DbCommand (47ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[name], [c].[is_group], [c].[created_at], [c].[lastMessage], [c].[lastMessageTime], [t].[Id], [t].[UserId], [t].[ConversationId], [t].[Name], [t].[IsDeleted]
FROM [Conversations] AS [c]
LEFT JOIN (
    SELECT [p0].[id] AS [Id], [p0].[user_id] AS [UserId], [p0].[conversation_id] AS [ConversationId], [p0].[name] AS [Name], [p0].[is_deleted] AS [IsDeleted]
    FROM [Participants] AS [p0]
    WHERE [p0].[is_deleted] = CAST(0 AS bit)
) AS [t] ON [c].[id] = [t].[ConversationId]
WHERE EXISTS (
    SELECT 1
    FROM [Participants] AS [p]
    WHERE [c].[id] = [p].[conversation_id] AND [p].[user_id] = @__userId_0 AND [p].[is_deleted] = CAST(0 AS bit))
ORDER BY [c].[id]
2025-05-01 23:16:33.108 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[server.DTO.ConversationDto, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-01 23:16:33.111 +07:00 [INF] Executed action server.Controllers.ConversationController.GetConversations (Message_app) in 379.2983ms
2025-05-01 23:16:33.111 +07:00 [INF] Executed endpoint 'server.Controllers.ConversationController.GetConversations (Message_app)'
2025-05-01 23:16:33.112 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/api/Conversation/get_conversations/5 - 200 null application/json; charset=utf-8 417.8176ms
2025-05-01 23:16:33.113 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/api/Conversation/get_conversations/5 - null null
2025-05-01 23:16:33.115 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:16:33.117 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:16:33.124 +07:00 [INF] Executing endpoint 'server.Controllers.ConversationController.GetConversations (Message_app)'
2025-05-01 23:16:33.124 +07:00 [INF] Route matched with {action = "GetConversations", controller = "Conversation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetConversations(Int32) on controller server.Controllers.ConversationController (Message_app).
2025-05-01 23:16:33.148 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[server.DTO.ConversationDto, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-01 23:16:33.148 +07:00 [INF] Executed action server.Controllers.ConversationController.GetConversations (Message_app) in 23.7703ms
2025-05-01 23:16:33.149 +07:00 [INF] Executed endpoint 'server.Controllers.ConversationController.GetConversations (Message_app)'
2025-05-01 23:16:33.149 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/api/Conversation/get_conversations/5 - 200 null application/json; charset=utf-8 35.2865ms
2025-05-01 23:16:51.806 +07:00 [INF] Request starting HTTP/1.1 POST http://192.168.1.9:5053/api/Auth/login - application/json 57
2025-05-01 23:16:51.816 +07:00 [INF] Executing endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-01 23:16:51.816 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(server.DTO.AuthDTO.LoginDTO) on controller Message_app.Controllers.AuthController (Message_app).
2025-05-01 23:16:51.844 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[avatar_url], [u].[bio], [u].[birthday], [u].[created_at], [u].[email], [u].[gender], [u].[interests], [u].[location], [u].[password], [u].[passwordSalt], [u].[username]
FROM [Users] AS [u]
WHERE [u].[email] = @__email_0
2025-05-01 23:16:51.847 +07:00 [INF] Executing OkObjectResult, writing value of type 'server.DTO.AuthDTO.LoginRespose'.
2025-05-01 23:16:51.848 +07:00 [INF] Executed action Message_app.Controllers.AuthController.Login (Message_app) in 31.377ms
2025-05-01 23:16:51.848 +07:00 [INF] Executed endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-01 23:16:51.848 +07:00 [INF] Request finished HTTP/1.1 POST http://192.168.1.9:5053/api/Auth/login - 200 null application/json; charset=utf-8 42.4626ms
2025-05-01 23:16:53.011 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/api/Conversation/get_conversations/2 - null null
2025-05-01 23:16:53.012 +07:00 [INF] Executing endpoint 'server.Controllers.ConversationController.GetConversations (Message_app)'
2025-05-01 23:16:53.012 +07:00 [INF] Route matched with {action = "GetConversations", controller = "Conversation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetConversations(Int32) on controller server.Controllers.ConversationController (Message_app).
2025-05-01 23:16:53.055 +07:00 [INF] Executed DbCommand (28ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[name], [c].[is_group], [c].[created_at], [c].[lastMessage], [c].[lastMessageTime], [t].[Id], [t].[UserId], [t].[ConversationId], [t].[Name], [t].[IsDeleted]
FROM [Conversations] AS [c]
LEFT JOIN (
    SELECT [p0].[id] AS [Id], [p0].[user_id] AS [UserId], [p0].[conversation_id] AS [ConversationId], [p0].[name] AS [Name], [p0].[is_deleted] AS [IsDeleted]
    FROM [Participants] AS [p0]
    WHERE [p0].[is_deleted] = CAST(0 AS bit)
) AS [t] ON [c].[id] = [t].[ConversationId]
WHERE EXISTS (
    SELECT 1
    FROM [Participants] AS [p]
    WHERE [c].[id] = [p].[conversation_id] AND [p].[user_id] = @__userId_0 AND [p].[is_deleted] = CAST(0 AS bit))
ORDER BY [c].[id]
2025-05-01 23:16:53.063 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[server.DTO.ConversationDto, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-01 23:16:53.064 +07:00 [INF] Executed action server.Controllers.ConversationController.GetConversations (Message_app) in 51.9987ms
2025-05-01 23:16:53.065 +07:00 [INF] Executed endpoint 'server.Controllers.ConversationController.GetConversations (Message_app)'
2025-05-01 23:16:53.066 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/api/Conversation/get_conversations/2 - 200 null application/json; charset=utf-8 54.9924ms
2025-05-01 23:16:53.984 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/api/Conversation/get_conversations/2 - null null
2025-05-01 23:16:53.987 +07:00 [INF] Executing endpoint 'server.Controllers.ConversationController.GetConversations (Message_app)'
2025-05-01 23:16:53.987 +07:00 [INF] Route matched with {action = "GetConversations", controller = "Conversation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetConversations(Int32) on controller server.Controllers.ConversationController (Message_app).
2025-05-01 23:16:53.991 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[server.DTO.ConversationDto, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-01 23:16:53.994 +07:00 [INF] Executed action server.Controllers.ConversationController.GetConversations (Message_app) in 6.9467ms
2025-05-01 23:16:53.996 +07:00 [INF] Executed endpoint 'server.Controllers.ConversationController.GetConversations (Message_app)'
2025-05-01 23:16:53.997 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/api/Conversation/get_conversations/2 - 200 null application/json; charset=utf-8 12.5813ms
2025-05-01 23:16:55.970 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5053/api/Participant/get_participants/4 - null null
2025-05-01 23:16:55.970 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:16:55.971 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5053/api/Participant/get_participants/4 - 204 null null 0.7719ms
2025-05-01 23:16:55.973 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/api/Participant/get_participants/4 - null null
2025-05-01 23:16:55.974 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:16:55.974 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:16:55.974 +07:00 [INF] Executing endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 23:16:55.980 +07:00 [INF] Route matched with {action = "GetParticipants", controller = "Participant"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetParticipants(Int32) on controller server.Controllers.ParticipantController (Message_app).
2025-05-01 23:16:56.012 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__conversation_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[id], [p].[adder], [p].[conversation_id], [p].[is_deleted], [p].[joined_at], [p].[name], [p].[role], [p].[user_id]
FROM [Participants] AS [p]
WHERE [p].[conversation_id] = @__conversation_id_0
2025-05-01 23:16:56.046 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType17`1[[System.Collections.Generic.List`1[[server.Models.Participants, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-01 23:16:56.063 +07:00 [INF] Executed action server.Controllers.ParticipantController.GetParticipants (Message_app) in 82.8256ms
2025-05-01 23:16:56.063 +07:00 [INF] Executed endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 23:16:56.064 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/api/Participant/get_participants/4 - 200 null application/json; charset=utf-8 90.4321ms
2025-05-01 23:16:56.198 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5053/api/Message/getMessages/4/5 - null null
2025-05-01 23:16:56.198 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:16:56.198 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5053/api/Message/getMessages/4/5 - 204 null null 0.4822ms
2025-05-01 23:16:56.202 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/api/Message/getMessages/4/5 - null null
2025-05-01 23:16:56.202 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:16:56.202 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:16:56.202 +07:00 [INF] Executing endpoint 'server.Controllers.MessageController.GetMessages (Message_app)'
2025-05-01 23:16:56.213 +07:00 [INF] Route matched with {action = "GetMessages", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32, Int32) on controller server.Controllers.MessageController (Message_app).
2025-05-01 23:16:56.356 +07:00 [INF] Retrieved 52 messages from Redis for conversation 4
2025-05-01 23:16:56.361 +07:00 [INF] Retrieved 50 messages from Redis for conversation 4 and user 5
2025-05-01 23:16:56.362 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[server.DTO.MessageWithAttachment, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-01 23:16:56.383 +07:00 [INF] Executed action server.Controllers.MessageController.GetMessages (Message_app) in 169.4998ms
2025-05-01 23:16:56.383 +07:00 [INF] Executed endpoint 'server.Controllers.MessageController.GetMessages (Message_app)'
2025-05-01 23:16:56.383 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/api/Message/getMessages/4/5 - 200 null application/json; charset=utf-8 181.4516ms
2025-05-01 23:16:56.415 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5053/api/Conversation/get_first_conversation/4 - null null
2025-05-01 23:16:56.415 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:16:56.415 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5053/api/Conversation/get_first_conversation/4 - 204 null null 0.3636ms
2025-05-01 23:16:56.417 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/api/Conversation/get_first_conversation/4 - null null
2025-05-01 23:16:56.417 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:16:56.417 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:16:56.417 +07:00 [INF] Executing endpoint 'server.Controllers.ConversationController.GetFirstConversation (Message_app)'
2025-05-01 23:16:56.426 +07:00 [INF] Route matched with {action = "GetFirstConversation", controller = "Conversation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFirstConversation(Int32) on controller server.Controllers.ConversationController (Message_app).
2025-05-01 23:16:56.494 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[id], [c].[created_at], [c].[is_group], [c].[lastMessage], [c].[lastMessageSender], [c].[lastMessageTime], [c].[name]
FROM [Conversations] AS [c]
WHERE [c].[id] = @__p_0
2025-05-01 23:16:56.524 +07:00 [INF] Executing OkObjectResult, writing value of type 'server.Models.Conversation'.
2025-05-01 23:16:56.527 +07:00 [INF] Executed action server.Controllers.ConversationController.GetFirstConversation (Message_app) in 100.8118ms
2025-05-01 23:16:56.527 +07:00 [INF] Executed endpoint 'server.Controllers.ConversationController.GetFirstConversation (Message_app)'
2025-05-01 23:16:56.527 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/api/Conversation/get_first_conversation/4 - 200 null application/json; charset=utf-8 110.3775ms
2025-05-01 23:16:56.542 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/api/Participant/get_participants/4 - null null
2025-05-01 23:16:56.542 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:16:56.543 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:16:56.544 +07:00 [INF] Executing endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 23:16:56.544 +07:00 [INF] Route matched with {action = "GetParticipants", controller = "Participant"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetParticipants(Int32) on controller server.Controllers.ParticipantController (Message_app).
2025-05-01 23:16:56.551 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__conversation_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[id], [p].[adder], [p].[conversation_id], [p].[is_deleted], [p].[joined_at], [p].[name], [p].[role], [p].[user_id]
FROM [Participants] AS [p]
WHERE [p].[conversation_id] = @__conversation_id_0
2025-05-01 23:16:56.552 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType17`1[[System.Collections.Generic.List`1[[server.Models.Participants, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-01 23:16:56.552 +07:00 [INF] Executed action server.Controllers.ParticipantController.GetParticipants (Message_app) in 7.9762ms
2025-05-01 23:16:56.552 +07:00 [INF] Executed endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 23:16:56.552 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/api/Participant/get_participants/4 - 200 null application/json; charset=utf-8 10.4608ms
2025-05-01 23:17:10.424 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/api/Participant/get_participants/4 - null null
2025-05-01 23:17:10.425 +07:00 [INF] Executing endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 23:17:10.425 +07:00 [INF] Route matched with {action = "GetParticipants", controller = "Participant"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetParticipants(Int32) on controller server.Controllers.ParticipantController (Message_app).
2025-05-01 23:17:10.432 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__conversation_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[id], [p].[adder], [p].[conversation_id], [p].[is_deleted], [p].[joined_at], [p].[name], [p].[role], [p].[user_id]
FROM [Participants] AS [p]
WHERE [p].[conversation_id] = @__conversation_id_0
2025-05-01 23:17:10.433 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType17`1[[System.Collections.Generic.List`1[[server.Models.Participants, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-01 23:17:10.433 +07:00 [INF] Executed action server.Controllers.ParticipantController.GetParticipants (Message_app) in 7.9619ms
2025-05-01 23:17:10.433 +07:00 [INF] Executed endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 23:17:10.433 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/api/Participant/get_participants/4 - 200 null application/json; charset=utf-8 8.8691ms
2025-05-01 23:17:10.747 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/api/Message/getMessages/4/2 - null null
2025-05-01 23:17:10.749 +07:00 [INF] Executing endpoint 'server.Controllers.MessageController.GetMessages (Message_app)'
2025-05-01 23:17:10.749 +07:00 [INF] Route matched with {action = "GetMessages", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32, Int32) on controller server.Controllers.MessageController (Message_app).
2025-05-01 23:17:10.794 +07:00 [INF] Retrieved 52 messages from Redis for conversation 4
2025-05-01 23:17:10.795 +07:00 [INF] Retrieved 50 messages from Redis for conversation 4 and user 2
2025-05-01 23:17:10.795 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[server.DTO.MessageWithAttachment, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-01 23:17:10.796 +07:00 [INF] Executed action server.Controllers.MessageController.GetMessages (Message_app) in 46.7743ms
2025-05-01 23:17:10.796 +07:00 [INF] Executed endpoint 'server.Controllers.MessageController.GetMessages (Message_app)'
2025-05-01 23:17:10.796 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/api/Message/getMessages/4/2 - 200 null application/json; charset=utf-8 48.5774ms
2025-05-01 23:17:11.089 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/api/Conversation/get_first_conversation/4 - null null
2025-05-01 23:17:11.090 +07:00 [INF] Executing endpoint 'server.Controllers.ConversationController.GetFirstConversation (Message_app)'
2025-05-01 23:17:11.090 +07:00 [INF] Route matched with {action = "GetFirstConversation", controller = "Conversation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFirstConversation(Int32) on controller server.Controllers.ConversationController (Message_app).
2025-05-01 23:17:11.096 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[id], [c].[created_at], [c].[is_group], [c].[lastMessage], [c].[lastMessageSender], [c].[lastMessageTime], [c].[name]
FROM [Conversations] AS [c]
WHERE [c].[id] = @__p_0
2025-05-01 23:17:11.097 +07:00 [INF] Executing OkObjectResult, writing value of type 'server.Models.Conversation'.
2025-05-01 23:17:11.097 +07:00 [INF] Executed action server.Controllers.ConversationController.GetFirstConversation (Message_app) in 7.3549ms
2025-05-01 23:17:11.097 +07:00 [INF] Executed endpoint 'server.Controllers.ConversationController.GetFirstConversation (Message_app)'
2025-05-01 23:17:11.098 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/api/Conversation/get_first_conversation/4 - 200 null application/json; charset=utf-8 8.3544ms
2025-05-01 23:17:11.142 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/api/Participant/get_participants/4 - null null
2025-05-01 23:17:11.143 +07:00 [INF] Executing endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 23:17:11.144 +07:00 [INF] Route matched with {action = "GetParticipants", controller = "Participant"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetParticipants(Int32) on controller server.Controllers.ParticipantController (Message_app).
2025-05-01 23:17:11.158 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__conversation_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[id], [p].[adder], [p].[conversation_id], [p].[is_deleted], [p].[joined_at], [p].[name], [p].[role], [p].[user_id]
FROM [Participants] AS [p]
WHERE [p].[conversation_id] = @__conversation_id_0
2025-05-01 23:17:11.160 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType17`1[[System.Collections.Generic.List`1[[server.Models.Participants, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-01 23:17:11.163 +07:00 [INF] Executed action server.Controllers.ParticipantController.GetParticipants (Message_app) in 19.399ms
2025-05-01 23:17:11.163 +07:00 [INF] Executed endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 23:17:11.165 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/api/Participant/get_participants/4 - 200 null application/json; charset=utf-8 23.1936ms
2025-05-01 23:17:20.960 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/api/Message/getMessages/1/2 - null null
2025-05-01 23:17:20.961 +07:00 [INF] Executing endpoint 'server.Controllers.MessageController.GetMessages (Message_app)'
2025-05-01 23:17:20.961 +07:00 [INF] Route matched with {action = "GetMessages", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32, Int32) on controller server.Controllers.MessageController (Message_app).
2025-05-01 23:17:20.985 +07:00 [WRN] Message 84 not found in Redis
2025-05-01 23:17:20.987 +07:00 [WRN] Message 83 not found in Redis
2025-05-01 23:17:20.988 +07:00 [WRN] Message 82 not found in Redis
2025-05-01 23:17:20.989 +07:00 [WRN] Message 81 not found in Redis
2025-05-01 23:17:20.989 +07:00 [WRN] Message 80 not found in Redis
2025-05-01 23:17:20.989 +07:00 [WRN] Message 79 not found in Redis
2025-05-01 23:17:20.990 +07:00 [WRN] Message 78 not found in Redis
2025-05-01 23:17:20.990 +07:00 [WRN] Message 77 not found in Redis
2025-05-01 23:17:20.990 +07:00 [WRN] Message 76 not found in Redis
2025-05-01 23:17:20.991 +07:00 [WRN] Message 75 not found in Redis
2025-05-01 23:17:20.991 +07:00 [WRN] Message 74 not found in Redis
2025-05-01 23:17:20.992 +07:00 [WRN] Message 73 not found in Redis
2025-05-01 23:17:20.992 +07:00 [WRN] Message 72 not found in Redis
2025-05-01 23:17:20.993 +07:00 [WRN] Message 71 not found in Redis
2025-05-01 23:17:20.993 +07:00 [WRN] Message 68 not found in Redis
2025-05-01 23:17:20.993 +07:00 [WRN] Message 64 not found in Redis
2025-05-01 23:17:20.994 +07:00 [WRN] Message 62 not found in Redis
2025-05-01 23:17:20.994 +07:00 [WRN] Message 61 not found in Redis
2025-05-01 23:17:20.995 +07:00 [WRN] Message 60 not found in Redis
2025-05-01 23:17:20.996 +07:00 [WRN] Message 59 not found in Redis
2025-05-01 23:17:20.996 +07:00 [WRN] Message 57 not found in Redis
2025-05-01 23:17:20.996 +07:00 [WRN] Message 55 not found in Redis
2025-05-01 23:17:20.997 +07:00 [WRN] Message 54 not found in Redis
2025-05-01 23:17:20.997 +07:00 [WRN] Message 51 not found in Redis
2025-05-01 23:17:20.997 +07:00 [WRN] Message 49 not found in Redis
2025-05-01 23:17:20.998 +07:00 [WRN] Message 11 not found in Redis
2025-05-01 23:17:20.998 +07:00 [WRN] Message 8 not found in Redis
2025-05-01 23:17:20.998 +07:00 [WRN] Message 3 not found in Redis
2025-05-01 23:17:20.998 +07:00 [WRN] Message 2 not found in Redis
2025-05-01 23:17:20.999 +07:00 [WRN] Message 1 not found in Redis
2025-05-01 23:17:20.999 +07:00 [INF] Retrieved 9 messages from Redis for conversation 1
2025-05-01 23:17:20.999 +07:00 [INF] Retrieved 9 messages from Redis for conversation 1 and user 2
2025-05-01 23:17:21.000 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[server.DTO.MessageWithAttachment, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-01 23:17:21.000 +07:00 [INF] Executed action server.Controllers.MessageController.GetMessages (Message_app) in 37.7819ms
2025-05-01 23:17:21.000 +07:00 [INF] Executed endpoint 'server.Controllers.MessageController.GetMessages (Message_app)'
2025-05-01 23:17:21.000 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/api/Message/getMessages/1/2 - 200 null application/json; charset=utf-8 40.5811ms
2025-05-01 23:17:21.029 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/api/Conversation/get_first_conversation/1 - null null
2025-05-01 23:17:21.029 +07:00 [INF] Executing endpoint 'server.Controllers.ConversationController.GetFirstConversation (Message_app)'
2025-05-01 23:17:21.029 +07:00 [INF] Route matched with {action = "GetFirstConversation", controller = "Conversation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFirstConversation(Int32) on controller server.Controllers.ConversationController (Message_app).
2025-05-01 23:17:21.035 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[id], [c].[created_at], [c].[is_group], [c].[lastMessage], [c].[lastMessageSender], [c].[lastMessageTime], [c].[name]
FROM [Conversations] AS [c]
WHERE [c].[id] = @__p_0
2025-05-01 23:17:21.035 +07:00 [INF] Executing OkObjectResult, writing value of type 'server.Models.Conversation'.
2025-05-01 23:17:21.036 +07:00 [INF] Executed action server.Controllers.ConversationController.GetFirstConversation (Message_app) in 6.3451ms
2025-05-01 23:17:21.036 +07:00 [INF] Executed endpoint 'server.Controllers.ConversationController.GetFirstConversation (Message_app)'
2025-05-01 23:17:21.036 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/api/Conversation/get_first_conversation/1 - 200 null application/json; charset=utf-8 7.2497ms
2025-05-01 23:17:21.104 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/api/Participant/get_participants/1 - null null
2025-05-01 23:17:21.104 +07:00 [INF] Executing endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 23:17:21.105 +07:00 [INF] Route matched with {action = "GetParticipants", controller = "Participant"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetParticipants(Int32) on controller server.Controllers.ParticipantController (Message_app).
2025-05-01 23:17:21.115 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__conversation_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[id], [p].[adder], [p].[conversation_id], [p].[is_deleted], [p].[joined_at], [p].[name], [p].[role], [p].[user_id]
FROM [Participants] AS [p]
WHERE [p].[conversation_id] = @__conversation_id_0
2025-05-01 23:17:21.116 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType17`1[[System.Collections.Generic.List`1[[server.Models.Participants, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-01 23:17:21.117 +07:00 [INF] Executed action server.Controllers.ParticipantController.GetParticipants (Message_app) in 10.6061ms
2025-05-01 23:17:21.117 +07:00 [INF] Executed endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 23:17:21.117 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/api/Participant/get_participants/1 - 200 null application/json; charset=utf-8 13.3644ms
2025-05-01 23:17:48.647 +07:00 [INF] Application is shutting down...
2025-05-01 23:17:59.103 +07:00 [INF] Executed DbCommand (42ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[id], [u].[username], [u].[avatar_url]
FROM [Users] AS [u]
2025-05-01 23:17:59.265 +07:00 [INF] User profile is available. Using 'C:\Users\Thao\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-01 23:17:59.345 +07:00 [WRN] Overriding address(es) 'http://localhost:5053'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-05-01 23:17:59.356 +07:00 [INF] Now listening on: http://[::]:5053
2025-05-01 23:17:59.356 +07:00 [INF] Now listening on: http://0.0.0.0:5053
2025-05-01 23:17:59.356 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-01 23:17:59.357 +07:00 [INF] Hosting environment: Development
2025-05-01 23:17:59.357 +07:00 [INF] Content root path: C:\Users\Thao\source\Flutter\Message_app\server
2025-05-01 23:19:21.722 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5053/api/Auth/login - null null
2025-05-01 23:19:21.799 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:19:21.815 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5053/api/Auth/login - 204 null null 95.1189ms
2025-05-01 23:19:21.836 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5053/api/Auth/login - application/json 53
2025-05-01 23:19:21.838 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:19:21.874 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:19:21.876 +07:00 [WRN] Failed to determine the https port for redirect.
2025-05-01 23:19:21.917 +07:00 [INF] Executing endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-01 23:19:21.953 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(server.DTO.AuthDTO.LoginDTO) on controller Message_app.Controllers.AuthController (Message_app).
2025-05-01 23:19:22.272 +07:00 [INF] Executed DbCommand (102ms) [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[avatar_url], [u].[bio], [u].[birthday], [u].[created_at], [u].[email], [u].[gender], [u].[interests], [u].[location], [u].[password], [u].[passwordSalt], [u].[username]
FROM [Users] AS [u]
WHERE [u].[email] = @__email_0
2025-05-01 23:19:22.412 +07:00 [INF] Executing OkObjectResult, writing value of type 'server.DTO.AuthDTO.LoginRespose'.
2025-05-01 23:19:22.517 +07:00 [INF] Executed action Message_app.Controllers.AuthController.Login (Message_app) in 559.1974ms
2025-05-01 23:19:22.518 +07:00 [INF] Executed endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-01 23:19:22.524 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5053/api/Auth/login - 200 null application/json; charset=utf-8 688.1501ms
2025-05-01 23:19:22.939 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5053/api/Conversation/get_conversations/5 - null null
2025-05-01 23:19:22.941 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:19:22.941 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5053/api/Conversation/get_conversations/5 - 204 null null 2.4106ms
2025-05-01 23:19:22.942 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5053/api/Conversation/get_conversations/5 - null null
2025-05-01 23:19:22.943 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:19:22.943 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5053/api/Conversation/get_conversations/5 - 204 null null 0.9169ms
2025-05-01 23:19:22.943 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/api/Conversation/get_conversations/5 - null null
2025-05-01 23:19:22.948 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:19:22.951 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:19:22.953 +07:00 [INF] Executing endpoint 'server.Controllers.ConversationController.GetConversations (Message_app)'
2025-05-01 23:19:22.961 +07:00 [INF] Route matched with {action = "GetConversations", controller = "Conversation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetConversations(Int32) on controller server.Controllers.ConversationController (Message_app).
2025-05-01 23:19:22.988 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[server.DTO.ConversationDto, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-01 23:19:22.994 +07:00 [INF] Executed action server.Controllers.ConversationController.GetConversations (Message_app) in 33.6886ms
2025-05-01 23:19:22.995 +07:00 [INF] Executed endpoint 'server.Controllers.ConversationController.GetConversations (Message_app)'
2025-05-01 23:19:22.995 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/api/Conversation/get_conversations/5 - 200 null application/json; charset=utf-8 51.8305ms
2025-05-01 23:19:22.996 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/api/Conversation/get_conversations/5 - null null
2025-05-01 23:19:22.997 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:19:22.999 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:19:23.002 +07:00 [INF] Executing endpoint 'server.Controllers.ConversationController.GetConversations (Message_app)'
2025-05-01 23:19:23.002 +07:00 [INF] Route matched with {action = "GetConversations", controller = "Conversation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetConversations(Int32) on controller server.Controllers.ConversationController (Message_app).
2025-05-01 23:19:23.005 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[server.DTO.ConversationDto, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-01 23:19:23.006 +07:00 [INF] Executed action server.Controllers.ConversationController.GetConversations (Message_app) in 3.5379ms
2025-05-01 23:19:23.006 +07:00 [INF] Executed endpoint 'server.Controllers.ConversationController.GetConversations (Message_app)'
2025-05-01 23:19:23.006 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/api/Conversation/get_conversations/5 - 200 null application/json; charset=utf-8 9.6525ms
2025-05-01 23:19:36.873 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5053/api/Participant/get_participants/4 - null null
2025-05-01 23:19:36.876 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:19:36.877 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5053/api/Participant/get_participants/4 - 204 null null 4.0247ms
2025-05-01 23:19:36.879 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/api/Participant/get_participants/4 - null null
2025-05-01 23:19:36.880 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:19:36.880 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:19:36.880 +07:00 [INF] Executing endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 23:19:36.885 +07:00 [INF] Route matched with {action = "GetParticipants", controller = "Participant"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetParticipants(Int32) on controller server.Controllers.ParticipantController (Message_app).
2025-05-01 23:19:36.976 +07:00 [INF] Executed DbCommand (27ms) [Parameters=[@__conversation_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[id], [p].[adder], [p].[conversation_id], [p].[is_deleted], [p].[joined_at], [p].[name], [p].[role], [p].[user_id]
FROM [Participants] AS [p]
WHERE [p].[conversation_id] = @__conversation_id_0
2025-05-01 23:19:36.989 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType17`1[[System.Collections.Generic.List`1[[server.Models.Participants, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-01 23:19:36.998 +07:00 [INF] Executed action server.Controllers.ParticipantController.GetParticipants (Message_app) in 112.7141ms
2025-05-01 23:19:36.998 +07:00 [INF] Executed endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 23:19:36.999 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/api/Participant/get_participants/4 - 200 null application/json; charset=utf-8 119.1336ms
2025-05-01 23:19:37.136 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5053/api/Message/getMessages/4/5 - null null
2025-05-01 23:19:37.137 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:19:37.137 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5053/api/Message/getMessages/4/5 - 204 null null 0.5382ms
2025-05-01 23:19:37.138 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/api/Message/getMessages/4/5 - null null
2025-05-01 23:19:37.138 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:19:37.138 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:19:37.138 +07:00 [INF] Executing endpoint 'server.Controllers.MessageController.GetMessages (Message_app)'
2025-05-01 23:19:37.142 +07:00 [INF] Route matched with {action = "GetMessages", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32, Int32) on controller server.Controllers.MessageController (Message_app).
2025-05-01 23:19:37.186 +07:00 [INF] Retrieved 52 messages from Redis for conversation 4
2025-05-01 23:19:37.187 +07:00 [INF] Retrieved 50 messages from Redis for conversation 4 and user 5
2025-05-01 23:19:37.187 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[server.DTO.MessageWithAttachment, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-01 23:19:37.194 +07:00 [INF] Executed action server.Controllers.MessageController.GetMessages (Message_app) in 51.6141ms
2025-05-01 23:19:37.194 +07:00 [INF] Executed endpoint 'server.Controllers.MessageController.GetMessages (Message_app)'
2025-05-01 23:19:37.194 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/api/Message/getMessages/4/5 - 200 null application/json; charset=utf-8 56.5829ms
2025-05-01 23:19:37.218 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5053/api/Conversation/get_first_conversation/4 - null null
2025-05-01 23:19:37.218 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:19:37.218 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5053/api/Conversation/get_first_conversation/4 - 204 null null 0.3154ms
2025-05-01 23:19:37.219 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/api/Conversation/get_first_conversation/4 - null null
2025-05-01 23:19:37.219 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:19:37.219 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:19:37.219 +07:00 [INF] Executing endpoint 'server.Controllers.ConversationController.GetFirstConversation (Message_app)'
2025-05-01 23:19:37.222 +07:00 [INF] Route matched with {action = "GetFirstConversation", controller = "Conversation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFirstConversation(Int32) on controller server.Controllers.ConversationController (Message_app).
2025-05-01 23:19:37.265 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[id], [c].[created_at], [c].[is_group], [c].[lastMessage], [c].[lastMessageSender], [c].[lastMessageTime], [c].[name]
FROM [Conversations] AS [c]
WHERE [c].[id] = @__p_0
2025-05-01 23:19:37.280 +07:00 [INF] Executing OkObjectResult, writing value of type 'server.Models.Conversation'.
2025-05-01 23:19:37.281 +07:00 [INF] Executed action server.Controllers.ConversationController.GetFirstConversation (Message_app) in 58.6682ms
2025-05-01 23:19:37.281 +07:00 [INF] Executed endpoint 'server.Controllers.ConversationController.GetFirstConversation (Message_app)'
2025-05-01 23:19:37.281 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/api/Conversation/get_first_conversation/4 - 200 null application/json; charset=utf-8 61.8519ms
2025-05-01 23:19:37.298 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/api/Participant/get_participants/4 - null null
2025-05-01 23:19:37.298 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:19:37.299 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:19:37.299 +07:00 [INF] Executing endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 23:19:37.299 +07:00 [INF] Route matched with {action = "GetParticipants", controller = "Participant"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetParticipants(Int32) on controller server.Controllers.ParticipantController (Message_app).
2025-05-01 23:19:37.304 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__conversation_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[id], [p].[adder], [p].[conversation_id], [p].[is_deleted], [p].[joined_at], [p].[name], [p].[role], [p].[user_id]
FROM [Participants] AS [p]
WHERE [p].[conversation_id] = @__conversation_id_0
2025-05-01 23:19:37.305 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType17`1[[System.Collections.Generic.List`1[[server.Models.Participants, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-01 23:19:37.305 +07:00 [INF] Executed action server.Controllers.ParticipantController.GetParticipants (Message_app) in 5.2749ms
2025-05-01 23:19:37.305 +07:00 [INF] Executed endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 23:19:37.305 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/api/Participant/get_participants/4 - 200 null application/json; charset=utf-8 7.1391ms
2025-05-01 23:19:56.870 +07:00 [INF] Request starting HTTP/1.1 POST http://192.168.1.9:5053/api/Auth/login - application/json 57
2025-05-01 23:19:56.874 +07:00 [INF] Executing endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-01 23:19:56.874 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(server.DTO.AuthDTO.LoginDTO) on controller Message_app.Controllers.AuthController (Message_app).
2025-05-01 23:19:56.885 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[avatar_url], [u].[bio], [u].[birthday], [u].[created_at], [u].[email], [u].[gender], [u].[interests], [u].[location], [u].[password], [u].[passwordSalt], [u].[username]
FROM [Users] AS [u]
WHERE [u].[email] = @__email_0
2025-05-01 23:19:56.886 +07:00 [INF] Executing OkObjectResult, writing value of type 'server.DTO.AuthDTO.LoginRespose'.
2025-05-01 23:19:56.886 +07:00 [INF] Executed action Message_app.Controllers.AuthController.Login (Message_app) in 12.1419ms
2025-05-01 23:19:56.886 +07:00 [INF] Executed endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-01 23:19:56.886 +07:00 [INF] Request finished HTTP/1.1 POST http://192.168.1.9:5053/api/Auth/login - 200 null application/json; charset=utf-8 16.1803ms
2025-05-01 23:19:58.131 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/api/Conversation/get_conversations/2 - null null
2025-05-01 23:19:58.132 +07:00 [INF] Executing endpoint 'server.Controllers.ConversationController.GetConversations (Message_app)'
2025-05-01 23:19:58.132 +07:00 [INF] Route matched with {action = "GetConversations", controller = "Conversation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetConversations(Int32) on controller server.Controllers.ConversationController (Message_app).
2025-05-01 23:19:58.133 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/api/Conversation/get_conversations/2 - null null
2025-05-01 23:19:58.133 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[server.DTO.ConversationDto, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-01 23:19:58.133 +07:00 [INF] Executing endpoint 'server.Controllers.ConversationController.GetConversations (Message_app)'
2025-05-01 23:19:58.133 +07:00 [INF] Route matched with {action = "GetConversations", controller = "Conversation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetConversations(Int32) on controller server.Controllers.ConversationController (Message_app).
2025-05-01 23:19:58.133 +07:00 [INF] Executed action server.Controllers.ConversationController.GetConversations (Message_app) in 1.466ms
2025-05-01 23:19:58.133 +07:00 [INF] Executed endpoint 'server.Controllers.ConversationController.GetConversations (Message_app)'
2025-05-01 23:19:58.134 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/api/Conversation/get_conversations/2 - 200 null application/json; charset=utf-8 2.064ms
2025-05-01 23:19:58.134 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[server.DTO.ConversationDto, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-01 23:19:58.135 +07:00 [INF] Executed action server.Controllers.ConversationController.GetConversations (Message_app) in 1.1312ms
2025-05-01 23:19:58.135 +07:00 [INF] Executed endpoint 'server.Controllers.ConversationController.GetConversations (Message_app)'
2025-05-01 23:19:58.135 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/api/Conversation/get_conversations/2 - 200 null application/json; charset=utf-8 1.7677ms
2025-05-01 23:20:01.416 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/api/Participant/get_participants/4 - null null
2025-05-01 23:20:01.417 +07:00 [INF] Executing endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 23:20:01.418 +07:00 [INF] Route matched with {action = "GetParticipants", controller = "Participant"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetParticipants(Int32) on controller server.Controllers.ParticipantController (Message_app).
2025-05-01 23:20:01.424 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__conversation_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[id], [p].[adder], [p].[conversation_id], [p].[is_deleted], [p].[joined_at], [p].[name], [p].[role], [p].[user_id]
FROM [Participants] AS [p]
WHERE [p].[conversation_id] = @__conversation_id_0
2025-05-01 23:20:01.429 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType17`1[[System.Collections.Generic.List`1[[server.Models.Participants, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-01 23:20:01.430 +07:00 [INF] Executed action server.Controllers.ParticipantController.GetParticipants (Message_app) in 10.9972ms
2025-05-01 23:20:01.430 +07:00 [INF] Executed endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 23:20:01.430 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/api/Participant/get_participants/4 - 200 null application/json; charset=utf-8 13.7126ms
2025-05-01 23:20:01.711 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/api/Message/getMessages/4/2 - null null
2025-05-01 23:20:01.713 +07:00 [INF] Executing endpoint 'server.Controllers.MessageController.GetMessages (Message_app)'
2025-05-01 23:20:01.713 +07:00 [INF] Route matched with {action = "GetMessages", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32, Int32) on controller server.Controllers.MessageController (Message_app).
2025-05-01 23:20:01.737 +07:00 [INF] Retrieved 52 messages from Redis for conversation 4
2025-05-01 23:20:01.738 +07:00 [INF] Retrieved 50 messages from Redis for conversation 4 and user 2
2025-05-01 23:20:01.738 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[server.DTO.MessageWithAttachment, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-01 23:20:01.739 +07:00 [INF] Executed action server.Controllers.MessageController.GetMessages (Message_app) in 25.2471ms
2025-05-01 23:20:01.739 +07:00 [INF] Executed endpoint 'server.Controllers.MessageController.GetMessages (Message_app)'
2025-05-01 23:20:01.739 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/api/Message/getMessages/4/2 - 200 null application/json; charset=utf-8 27.7046ms
2025-05-01 23:20:01.817 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/api/Conversation/get_first_conversation/4 - null null
2025-05-01 23:20:01.818 +07:00 [INF] Executing endpoint 'server.Controllers.ConversationController.GetFirstConversation (Message_app)'
2025-05-01 23:20:01.818 +07:00 [INF] Route matched with {action = "GetFirstConversation", controller = "Conversation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFirstConversation(Int32) on controller server.Controllers.ConversationController (Message_app).
2025-05-01 23:20:01.831 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[id], [c].[created_at], [c].[is_group], [c].[lastMessage], [c].[lastMessageSender], [c].[lastMessageTime], [c].[name]
FROM [Conversations] AS [c]
WHERE [c].[id] = @__p_0
2025-05-01 23:20:01.832 +07:00 [INF] Executing OkObjectResult, writing value of type 'server.Models.Conversation'.
2025-05-01 23:20:01.833 +07:00 [INF] Executed action server.Controllers.ConversationController.GetFirstConversation (Message_app) in 14.0313ms
2025-05-01 23:20:01.833 +07:00 [INF] Executed endpoint 'server.Controllers.ConversationController.GetFirstConversation (Message_app)'
2025-05-01 23:20:01.833 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/api/Conversation/get_first_conversation/4 - 200 null application/json; charset=utf-8 15.9307ms
2025-05-01 23:20:01.867 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/api/Participant/get_participants/4 - null null
2025-05-01 23:20:01.867 +07:00 [INF] Executing endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 23:20:01.867 +07:00 [INF] Route matched with {action = "GetParticipants", controller = "Participant"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetParticipants(Int32) on controller server.Controllers.ParticipantController (Message_app).
2025-05-01 23:20:01.870 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__conversation_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[id], [p].[adder], [p].[conversation_id], [p].[is_deleted], [p].[joined_at], [p].[name], [p].[role], [p].[user_id]
FROM [Participants] AS [p]
WHERE [p].[conversation_id] = @__conversation_id_0
2025-05-01 23:20:01.870 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType17`1[[System.Collections.Generic.List`1[[server.Models.Participants, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-01 23:20:01.871 +07:00 [INF] Executed action server.Controllers.ParticipantController.GetParticipants (Message_app) in 3.2701ms
2025-05-01 23:20:01.871 +07:00 [INF] Executed endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 23:20:01.871 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/api/Participant/get_participants/4 - 200 null application/json; charset=utf-8 4.0425ms
2025-05-01 23:29:19.721 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5053/api/Auth/login - null null
2025-05-01 23:29:19.726 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:29:19.729 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5053/api/Auth/login - 204 null null 8.8903ms
2025-05-01 23:29:19.731 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5053/api/Auth/login - application/json 53
2025-05-01 23:29:19.732 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:29:19.734 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:29:19.741 +07:00 [INF] Executing endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-01 23:29:19.745 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(server.DTO.AuthDTO.LoginDTO) on controller Message_app.Controllers.AuthController (Message_app).
2025-05-01 23:29:20.042 +07:00 [INF] Executed DbCommand (41ms) [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[avatar_url], [u].[bio], [u].[birthday], [u].[created_at], [u].[email], [u].[gender], [u].[interests], [u].[location], [u].[password], [u].[passwordSalt], [u].[username]
FROM [Users] AS [u]
WHERE [u].[email] = @__email_0
2025-05-01 23:29:20.053 +07:00 [INF] Executing OkObjectResult, writing value of type 'server.DTO.AuthDTO.LoginRespose'.
2025-05-01 23:29:20.055 +07:00 [INF] Executed action Message_app.Controllers.AuthController.Login (Message_app) in 309.4343ms
2025-05-01 23:29:20.055 +07:00 [INF] Executed endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-01 23:29:20.055 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5053/api/Auth/login - 200 null application/json; charset=utf-8 324.1246ms
2025-05-01 23:29:20.272 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5053/api/Conversation/get_conversations/5 - null null
2025-05-01 23:29:20.272 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:29:20.272 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5053/api/Conversation/get_conversations/5 - 204 null null 0.6478ms
2025-05-01 23:29:20.274 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5053/api/Conversation/get_conversations/5 - null null
2025-05-01 23:29:20.274 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:29:20.274 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5053/api/Conversation/get_conversations/5 - 204 null null 0.351ms
2025-05-01 23:29:20.276 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/api/Conversation/get_conversations/5 - null null
2025-05-01 23:29:20.277 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:29:20.277 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:29:20.278 +07:00 [INF] Executing endpoint 'server.Controllers.ConversationController.GetConversations (Message_app)'
2025-05-01 23:29:20.278 +07:00 [INF] Route matched with {action = "GetConversations", controller = "Conversation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetConversations(Int32) on controller server.Controllers.ConversationController (Message_app).
2025-05-01 23:29:20.282 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[server.DTO.ConversationDto, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-01 23:29:20.282 +07:00 [INF] Executed action server.Controllers.ConversationController.GetConversations (Message_app) in 4.634ms
2025-05-01 23:29:20.282 +07:00 [INF] Executed endpoint 'server.Controllers.ConversationController.GetConversations (Message_app)'
2025-05-01 23:29:20.283 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/api/Conversation/get_conversations/5 - 200 null application/json; charset=utf-8 7.482ms
2025-05-01 23:29:20.284 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/api/Conversation/get_conversations/5 - null null
2025-05-01 23:29:20.284 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:29:20.284 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:29:20.284 +07:00 [INF] Executing endpoint 'server.Controllers.ConversationController.GetConversations (Message_app)'
2025-05-01 23:29:20.284 +07:00 [INF] Route matched with {action = "GetConversations", controller = "Conversation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetConversations(Int32) on controller server.Controllers.ConversationController (Message_app).
2025-05-01 23:29:20.286 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[server.DTO.ConversationDto, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-01 23:29:20.286 +07:00 [INF] Executed action server.Controllers.ConversationController.GetConversations (Message_app) in 1.7309ms
2025-05-01 23:29:20.286 +07:00 [INF] Executed endpoint 'server.Controllers.ConversationController.GetConversations (Message_app)'
2025-05-01 23:29:20.286 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/api/Conversation/get_conversations/5 - 200 null application/json; charset=utf-8 2.6943ms
2025-05-01 23:29:20.304 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 23:29:20.305 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:29:20.305 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:29:20.306 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:29:20.505 +07:00 [INF] Executed DbCommand (17ms) [Parameters=[@__client_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[conversation_id]
FROM [Participants] AS [p]
WHERE [p].[user_id] = @__client_UserId_0 AND [p].[is_deleted] = CAST(0 AS bit)
2025-05-01 23:29:37.264 +07:00 [INF] Request starting HTTP/1.1 POST http://192.168.1.9:5053/api/Auth/login - application/json 57
2025-05-01 23:29:37.268 +07:00 [INF] Executing endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-01 23:29:37.269 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(server.DTO.AuthDTO.LoginDTO) on controller Message_app.Controllers.AuthController (Message_app).
2025-05-01 23:29:37.282 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[avatar_url], [u].[bio], [u].[birthday], [u].[created_at], [u].[email], [u].[gender], [u].[interests], [u].[location], [u].[password], [u].[passwordSalt], [u].[username]
FROM [Users] AS [u]
WHERE [u].[email] = @__email_0
2025-05-01 23:29:37.283 +07:00 [INF] Executing OkObjectResult, writing value of type 'server.DTO.AuthDTO.LoginRespose'.
2025-05-01 23:29:37.284 +07:00 [INF] Executed action Message_app.Controllers.AuthController.Login (Message_app) in 14.7651ms
2025-05-01 23:29:37.284 +07:00 [INF] Executed endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-01 23:29:37.284 +07:00 [INF] Request finished HTTP/1.1 POST http://192.168.1.9:5053/api/Auth/login - 200 null application/json; charset=utf-8 19.9536ms
2025-05-01 23:29:38.440 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/api/Conversation/get_conversations/2 - null null
2025-05-01 23:29:38.440 +07:00 [INF] Executing endpoint 'server.Controllers.ConversationController.GetConversations (Message_app)'
2025-05-01 23:29:38.441 +07:00 [INF] Route matched with {action = "GetConversations", controller = "Conversation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetConversations(Int32) on controller server.Controllers.ConversationController (Message_app).
2025-05-01 23:29:38.443 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[server.DTO.ConversationDto, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-01 23:29:38.443 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/api/Conversation/get_conversations/2 - null null
2025-05-01 23:29:38.443 +07:00 [INF] Executed action server.Controllers.ConversationController.GetConversations (Message_app) in 2.3043ms
2025-05-01 23:29:38.443 +07:00 [INF] Executed endpoint 'server.Controllers.ConversationController.GetConversations (Message_app)'
2025-05-01 23:29:38.443 +07:00 [INF] Executing endpoint 'server.Controllers.ConversationController.GetConversations (Message_app)'
2025-05-01 23:29:38.443 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/api/Conversation/get_conversations/2 - 200 null application/json; charset=utf-8 2.9464ms
2025-05-01 23:29:38.443 +07:00 [INF] Route matched with {action = "GetConversations", controller = "Conversation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetConversations(Int32) on controller server.Controllers.ConversationController (Message_app).
2025-05-01 23:29:38.444 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[server.DTO.ConversationDto, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-01 23:29:38.444 +07:00 [INF] Executed action server.Controllers.ConversationController.GetConversations (Message_app) in 1.144ms
2025-05-01 23:29:38.444 +07:00 [INF] Executed endpoint 'server.Controllers.ConversationController.GetConversations (Message_app)'
2025-05-01 23:29:38.444 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/api/Conversation/get_conversations/2 - 200 null application/json; charset=utf-8 1.6187ms
2025-05-01 23:29:38.909 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - null null
2025-05-01 23:29:38.912 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:29:39.121 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__client_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[conversation_id]
FROM [Participants] AS [p]
WHERE [p].[user_id] = @__client_UserId_0 AND [p].[is_deleted] = CAST(0 AS bit)
2025-05-01 23:29:40.804 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5053/api/Participant/get_participants/4 - null null
2025-05-01 23:29:40.804 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:29:40.804 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5053/api/Participant/get_participants/4 - 204 null null 0.4416ms
2025-05-01 23:29:40.807 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/api/Participant/get_participants/4 - null null
2025-05-01 23:29:40.808 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:29:40.809 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:29:40.809 +07:00 [INF] Executing endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 23:29:40.809 +07:00 [INF] Route matched with {action = "GetParticipants", controller = "Participant"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetParticipants(Int32) on controller server.Controllers.ParticipantController (Message_app).
2025-05-01 23:29:40.815 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__conversation_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[id], [p].[adder], [p].[conversation_id], [p].[is_deleted], [p].[joined_at], [p].[name], [p].[role], [p].[user_id]
FROM [Participants] AS [p]
WHERE [p].[conversation_id] = @__conversation_id_0
2025-05-01 23:29:40.816 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType17`1[[System.Collections.Generic.List`1[[server.Models.Participants, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-01 23:29:40.816 +07:00 [INF] Executed action server.Controllers.ParticipantController.GetParticipants (Message_app) in 6.9851ms
2025-05-01 23:29:40.817 +07:00 [INF] Executed endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 23:29:40.817 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/api/Participant/get_participants/4 - 200 null application/json; charset=utf-8 9.9828ms
2025-05-01 23:29:40.841 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 23:29:40.841 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:29:40.841 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:29:40.841 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:29:40.843 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:29:40.843 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 2.4994ms
2025-05-01 23:29:40.947 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5053/api/Message/getMessages/4/5 - null null
2025-05-01 23:29:40.947 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:29:40.947 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5053/api/Message/getMessages/4/5 - 204 null null 0.2422ms
2025-05-01 23:29:40.948 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/api/Message/getMessages/4/5 - null null
2025-05-01 23:29:40.948 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:29:40.948 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:29:40.948 +07:00 [INF] Executing endpoint 'server.Controllers.MessageController.GetMessages (Message_app)'
2025-05-01 23:29:40.948 +07:00 [INF] Route matched with {action = "GetMessages", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32, Int32) on controller server.Controllers.MessageController (Message_app).
2025-05-01 23:29:40.971 +07:00 [INF] Retrieved 52 messages from Redis for conversation 4
2025-05-01 23:29:40.971 +07:00 [INF] Retrieved 50 messages from Redis for conversation 4 and user 5
2025-05-01 23:29:40.971 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[server.DTO.MessageWithAttachment, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-01 23:29:40.973 +07:00 [INF] Executed action server.Controllers.MessageController.GetMessages (Message_app) in 24.7383ms
2025-05-01 23:29:40.973 +07:00 [INF] Executed endpoint 'server.Controllers.MessageController.GetMessages (Message_app)'
2025-05-01 23:29:40.973 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/api/Message/getMessages/4/5 - 200 null application/json; charset=utf-8 25.3428ms
2025-05-01 23:29:41.113 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5053/api/Conversation/get_first_conversation/4 - null null
2025-05-01 23:29:41.113 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:29:41.113 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5053/api/Conversation/get_first_conversation/4 - 204 null null 0.5928ms
2025-05-01 23:29:41.114 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/api/Conversation/get_first_conversation/4 - null null
2025-05-01 23:29:41.115 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:29:41.115 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:29:41.115 +07:00 [INF] Executing endpoint 'server.Controllers.ConversationController.GetFirstConversation (Message_app)'
2025-05-01 23:29:41.115 +07:00 [INF] Route matched with {action = "GetFirstConversation", controller = "Conversation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFirstConversation(Int32) on controller server.Controllers.ConversationController (Message_app).
2025-05-01 23:29:41.126 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[id], [c].[created_at], [c].[is_group], [c].[lastMessage], [c].[lastMessageSender], [c].[lastMessageTime], [c].[name]
FROM [Conversations] AS [c]
WHERE [c].[id] = @__p_0
2025-05-01 23:29:41.127 +07:00 [INF] Executing OkObjectResult, writing value of type 'server.Models.Conversation'.
2025-05-01 23:29:41.127 +07:00 [INF] Executed action server.Controllers.ConversationController.GetFirstConversation (Message_app) in 11.7499ms
2025-05-01 23:29:41.127 +07:00 [INF] Executed endpoint 'server.Controllers.ConversationController.GetFirstConversation (Message_app)'
2025-05-01 23:29:41.127 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/api/Conversation/get_first_conversation/4 - 200 null application/json; charset=utf-8 12.6454ms
2025-05-01 23:29:41.143 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/api/Participant/get_participants/4 - null null
2025-05-01 23:29:41.143 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:29:41.143 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:29:41.143 +07:00 [INF] Executing endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 23:29:41.143 +07:00 [INF] Route matched with {action = "GetParticipants", controller = "Participant"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetParticipants(Int32) on controller server.Controllers.ParticipantController (Message_app).
2025-05-01 23:29:41.148 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__conversation_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[id], [p].[adder], [p].[conversation_id], [p].[is_deleted], [p].[joined_at], [p].[name], [p].[role], [p].[user_id]
FROM [Participants] AS [p]
WHERE [p].[conversation_id] = @__conversation_id_0
2025-05-01 23:29:41.149 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType17`1[[System.Collections.Generic.List`1[[server.Models.Participants, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-01 23:29:41.149 +07:00 [INF] Executed action server.Controllers.ParticipantController.GetParticipants (Message_app) in 5.5896ms
2025-05-01 23:29:41.149 +07:00 [INF] Executed endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 23:29:41.149 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/api/Participant/get_participants/4 - 200 null application/json; charset=utf-8 6.3391ms
2025-05-01 23:29:43.789 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 23:29:43.790 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:29:43.790 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:29:43.790 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:29:43.791 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:29:43.791 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 2.0611ms
2025-05-01 23:29:43.874 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5053/api/Message/getMessages/1/5 - null null
2025-05-01 23:29:43.874 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:29:43.874 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5053/api/Message/getMessages/1/5 - 204 null null 0.3977ms
2025-05-01 23:29:43.876 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/api/Message/getMessages/1/5 - null null
2025-05-01 23:29:43.876 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:29:43.876 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:29:43.877 +07:00 [INF] Executing endpoint 'server.Controllers.MessageController.GetMessages (Message_app)'
2025-05-01 23:29:43.877 +07:00 [INF] Route matched with {action = "GetMessages", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32, Int32) on controller server.Controllers.MessageController (Message_app).
2025-05-01 23:29:43.881 +07:00 [WRN] Message 84 not found in Redis
2025-05-01 23:29:43.881 +07:00 [WRN] Message 83 not found in Redis
2025-05-01 23:29:43.881 +07:00 [WRN] Message 82 not found in Redis
2025-05-01 23:29:43.881 +07:00 [WRN] Message 81 not found in Redis
2025-05-01 23:29:43.882 +07:00 [WRN] Message 80 not found in Redis
2025-05-01 23:29:43.882 +07:00 [WRN] Message 79 not found in Redis
2025-05-01 23:29:43.882 +07:00 [WRN] Message 78 not found in Redis
2025-05-01 23:29:43.882 +07:00 [WRN] Message 77 not found in Redis
2025-05-01 23:29:43.883 +07:00 [WRN] Message 76 not found in Redis
2025-05-01 23:29:43.883 +07:00 [WRN] Message 75 not found in Redis
2025-05-01 23:29:43.883 +07:00 [WRN] Message 74 not found in Redis
2025-05-01 23:29:43.883 +07:00 [WRN] Message 73 not found in Redis
2025-05-01 23:29:43.883 +07:00 [WRN] Message 72 not found in Redis
2025-05-01 23:29:43.884 +07:00 [WRN] Message 71 not found in Redis
2025-05-01 23:29:43.884 +07:00 [WRN] Message 68 not found in Redis
2025-05-01 23:29:43.884 +07:00 [WRN] Message 64 not found in Redis
2025-05-01 23:29:43.884 +07:00 [WRN] Message 62 not found in Redis
2025-05-01 23:29:43.884 +07:00 [WRN] Message 61 not found in Redis
2025-05-01 23:29:43.885 +07:00 [WRN] Message 60 not found in Redis
2025-05-01 23:29:43.885 +07:00 [WRN] Message 59 not found in Redis
2025-05-01 23:29:43.885 +07:00 [WRN] Message 57 not found in Redis
2025-05-01 23:29:43.885 +07:00 [WRN] Message 55 not found in Redis
2025-05-01 23:29:43.886 +07:00 [WRN] Message 54 not found in Redis
2025-05-01 23:29:43.886 +07:00 [WRN] Message 51 not found in Redis
2025-05-01 23:29:43.886 +07:00 [WRN] Message 49 not found in Redis
2025-05-01 23:29:43.886 +07:00 [WRN] Message 11 not found in Redis
2025-05-01 23:29:43.886 +07:00 [WRN] Message 8 not found in Redis
2025-05-01 23:29:43.887 +07:00 [WRN] Message 3 not found in Redis
2025-05-01 23:29:43.887 +07:00 [WRN] Message 2 not found in Redis
2025-05-01 23:29:43.887 +07:00 [WRN] Message 1 not found in Redis
2025-05-01 23:29:43.887 +07:00 [INF] Retrieved 9 messages from Redis for conversation 1
2025-05-01 23:29:43.887 +07:00 [INF] Retrieved 9 messages from Redis for conversation 1 and user 5
2025-05-01 23:29:43.888 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[server.DTO.MessageWithAttachment, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-01 23:29:43.888 +07:00 [INF] Executed action server.Controllers.MessageController.GetMessages (Message_app) in 10.9836ms
2025-05-01 23:29:43.888 +07:00 [INF] Executed endpoint 'server.Controllers.MessageController.GetMessages (Message_app)'
2025-05-01 23:29:43.888 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/api/Message/getMessages/1/5 - 200 null application/json; charset=utf-8 11.7646ms
2025-05-01 23:29:43.906 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5053/api/Conversation/get_first_conversation/1 - null null
2025-05-01 23:29:43.906 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:29:43.906 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5053/api/Conversation/get_first_conversation/1 - 204 null null 0.2802ms
2025-05-01 23:29:43.907 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/api/Conversation/get_first_conversation/1 - null null
2025-05-01 23:29:43.908 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:29:43.909 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:29:43.909 +07:00 [INF] Executing endpoint 'server.Controllers.ConversationController.GetFirstConversation (Message_app)'
2025-05-01 23:29:43.909 +07:00 [INF] Route matched with {action = "GetFirstConversation", controller = "Conversation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFirstConversation(Int32) on controller server.Controllers.ConversationController (Message_app).
2025-05-01 23:29:43.916 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[id], [c].[created_at], [c].[is_group], [c].[lastMessage], [c].[lastMessageSender], [c].[lastMessageTime], [c].[name]
FROM [Conversations] AS [c]
WHERE [c].[id] = @__p_0
2025-05-01 23:29:43.917 +07:00 [INF] Executing OkObjectResult, writing value of type 'server.Models.Conversation'.
2025-05-01 23:29:43.918 +07:00 [INF] Executed action server.Controllers.ConversationController.GetFirstConversation (Message_app) in 8.3489ms
2025-05-01 23:29:43.918 +07:00 [INF] Executed endpoint 'server.Controllers.ConversationController.GetFirstConversation (Message_app)'
2025-05-01 23:29:43.918 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/api/Conversation/get_first_conversation/1 - 200 null application/json; charset=utf-8 10.2167ms
2025-05-01 23:29:43.933 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5053/api/Participant/get_participants/1 - null null
2025-05-01 23:29:43.933 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:29:43.934 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5053/api/Participant/get_participants/1 - 204 null null 0.2556ms
2025-05-01 23:29:43.935 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/api/Participant/get_participants/1 - null null
2025-05-01 23:29:43.935 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:29:43.936 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:29:43.936 +07:00 [INF] Executing endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 23:29:43.936 +07:00 [INF] Route matched with {action = "GetParticipants", controller = "Participant"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetParticipants(Int32) on controller server.Controllers.ParticipantController (Message_app).
2025-05-01 23:29:43.943 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__conversation_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[id], [p].[adder], [p].[conversation_id], [p].[is_deleted], [p].[joined_at], [p].[name], [p].[role], [p].[user_id]
FROM [Participants] AS [p]
WHERE [p].[conversation_id] = @__conversation_id_0
2025-05-01 23:29:43.944 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType17`1[[System.Collections.Generic.List`1[[server.Models.Participants, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-01 23:29:43.944 +07:00 [INF] Executed action server.Controllers.ParticipantController.GetParticipants (Message_app) in 7.8641ms
2025-05-01 23:29:43.944 +07:00 [INF] Executed endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 23:29:43.944 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/api/Participant/get_participants/1 - 200 null application/json; charset=utf-8 8.5598ms
2025-05-01 23:29:45.256 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/api/Message/getMessages/1/2 - null null
2025-05-01 23:29:45.256 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - null null
2025-05-01 23:29:45.260 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:29:45.260 +07:00 [INF] Executing endpoint 'server.Controllers.MessageController.GetMessages (Message_app)'
2025-05-01 23:29:45.261 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:29:45.261 +07:00 [INF] Route matched with {action = "GetMessages", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32, Int32) on controller server.Controllers.MessageController (Message_app).
2025-05-01 23:29:45.261 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - 409 null null 4.9516ms
2025-05-01 23:29:45.282 +07:00 [WRN] Message 84 not found in Redis
2025-05-01 23:29:45.282 +07:00 [WRN] Message 83 not found in Redis
2025-05-01 23:29:45.283 +07:00 [WRN] Message 82 not found in Redis
2025-05-01 23:29:45.284 +07:00 [WRN] Message 81 not found in Redis
2025-05-01 23:29:45.284 +07:00 [WRN] Message 80 not found in Redis
2025-05-01 23:29:45.285 +07:00 [WRN] Message 79 not found in Redis
2025-05-01 23:29:45.286 +07:00 [WRN] Message 78 not found in Redis
2025-05-01 23:29:45.286 +07:00 [WRN] Message 77 not found in Redis
2025-05-01 23:29:45.287 +07:00 [WRN] Message 76 not found in Redis
2025-05-01 23:29:45.288 +07:00 [WRN] Message 75 not found in Redis
2025-05-01 23:29:45.288 +07:00 [WRN] Message 74 not found in Redis
2025-05-01 23:29:45.289 +07:00 [WRN] Message 73 not found in Redis
2025-05-01 23:29:45.289 +07:00 [WRN] Message 72 not found in Redis
2025-05-01 23:29:45.291 +07:00 [WRN] Message 71 not found in Redis
2025-05-01 23:29:45.292 +07:00 [WRN] Message 68 not found in Redis
2025-05-01 23:29:45.293 +07:00 [WRN] Message 64 not found in Redis
2025-05-01 23:29:45.293 +07:00 [WRN] Message 62 not found in Redis
2025-05-01 23:29:45.294 +07:00 [WRN] Message 61 not found in Redis
2025-05-01 23:29:45.295 +07:00 [WRN] Message 60 not found in Redis
2025-05-01 23:29:45.295 +07:00 [WRN] Message 59 not found in Redis
2025-05-01 23:29:45.296 +07:00 [WRN] Message 57 not found in Redis
2025-05-01 23:29:45.296 +07:00 [WRN] Message 55 not found in Redis
2025-05-01 23:29:45.297 +07:00 [WRN] Message 54 not found in Redis
2025-05-01 23:29:45.298 +07:00 [WRN] Message 51 not found in Redis
2025-05-01 23:29:45.298 +07:00 [WRN] Message 49 not found in Redis
2025-05-01 23:29:45.299 +07:00 [WRN] Message 11 not found in Redis
2025-05-01 23:29:45.300 +07:00 [WRN] Message 8 not found in Redis
2025-05-01 23:29:45.300 +07:00 [WRN] Message 3 not found in Redis
2025-05-01 23:29:45.301 +07:00 [WRN] Message 2 not found in Redis
2025-05-01 23:29:45.301 +07:00 [WRN] Message 1 not found in Redis
2025-05-01 23:29:45.301 +07:00 [INF] Retrieved 9 messages from Redis for conversation 1
2025-05-01 23:29:45.301 +07:00 [INF] Retrieved 9 messages from Redis for conversation 1 and user 2
2025-05-01 23:29:45.302 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[server.DTO.MessageWithAttachment, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-01 23:29:45.302 +07:00 [INF] Executed action server.Controllers.MessageController.GetMessages (Message_app) in 40.8261ms
2025-05-01 23:29:45.302 +07:00 [INF] Executed endpoint 'server.Controllers.MessageController.GetMessages (Message_app)'
2025-05-01 23:29:45.302 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/api/Message/getMessages/1/2 - 200 null application/json; charset=utf-8 46.0385ms
2025-05-01 23:29:45.349 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/api/Conversation/get_first_conversation/1 - null null
2025-05-01 23:29:45.349 +07:00 [INF] Executing endpoint 'server.Controllers.ConversationController.GetFirstConversation (Message_app)'
2025-05-01 23:29:45.349 +07:00 [INF] Route matched with {action = "GetFirstConversation", controller = "Conversation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFirstConversation(Int32) on controller server.Controllers.ConversationController (Message_app).
2025-05-01 23:29:45.354 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[id], [c].[created_at], [c].[is_group], [c].[lastMessage], [c].[lastMessageSender], [c].[lastMessageTime], [c].[name]
FROM [Conversations] AS [c]
WHERE [c].[id] = @__p_0
2025-05-01 23:29:45.354 +07:00 [INF] Executing OkObjectResult, writing value of type 'server.Models.Conversation'.
2025-05-01 23:29:45.354 +07:00 [INF] Executed action server.Controllers.ConversationController.GetFirstConversation (Message_app) in 5.0095ms
2025-05-01 23:29:45.354 +07:00 [INF] Executed endpoint 'server.Controllers.ConversationController.GetFirstConversation (Message_app)'
2025-05-01 23:29:45.354 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/api/Conversation/get_first_conversation/1 - 200 null application/json; charset=utf-8 5.4532ms
2025-05-01 23:29:45.471 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/api/Participant/get_participants/1 - null null
2025-05-01 23:29:45.471 +07:00 [INF] Executing endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 23:29:45.471 +07:00 [INF] Route matched with {action = "GetParticipants", controller = "Participant"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetParticipants(Int32) on controller server.Controllers.ParticipantController (Message_app).
2025-05-01 23:29:45.476 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__conversation_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[id], [p].[adder], [p].[conversation_id], [p].[is_deleted], [p].[joined_at], [p].[name], [p].[role], [p].[user_id]
FROM [Participants] AS [p]
WHERE [p].[conversation_id] = @__conversation_id_0
2025-05-01 23:29:45.476 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType17`1[[System.Collections.Generic.List`1[[server.Models.Participants, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-01 23:29:45.477 +07:00 [INF] Executed action server.Controllers.ParticipantController.GetParticipants (Message_app) in 5.501ms
2025-05-01 23:29:45.477 +07:00 [INF] Executed endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 23:29:45.477 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/api/Participant/get_participants/1 - 200 null application/json; charset=utf-8 6.1375ms
2025-05-01 23:29:45.947 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 23:29:45.947 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:29:45.947 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:29:45.948 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:29:45.948 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:29:45.948 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 1.0074ms
2025-05-01 23:29:48.877 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 23:29:48.877 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:29:48.877 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:29:48.877 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:29:48.878 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:29:48.878 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 0.8431ms
2025-05-01 23:29:50.414 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - null null
2025-05-01 23:29:50.414 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:29:50.415 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:29:50.415 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - 409 null null 0.6937ms
2025-05-01 23:29:50.426 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/api/Participant/get_participants/4 - null null
2025-05-01 23:29:50.427 +07:00 [INF] Executing endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 23:29:50.427 +07:00 [INF] Route matched with {action = "GetParticipants", controller = "Participant"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetParticipants(Int32) on controller server.Controllers.ParticipantController (Message_app).
2025-05-01 23:29:50.437 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__conversation_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[id], [p].[adder], [p].[conversation_id], [p].[is_deleted], [p].[joined_at], [p].[name], [p].[role], [p].[user_id]
FROM [Participants] AS [p]
WHERE [p].[conversation_id] = @__conversation_id_0
2025-05-01 23:29:50.438 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType17`1[[System.Collections.Generic.List`1[[server.Models.Participants, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-01 23:29:50.438 +07:00 [INF] Executed action server.Controllers.ParticipantController.GetParticipants (Message_app) in 11.3297ms
2025-05-01 23:29:50.438 +07:00 [INF] Executed endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 23:29:50.438 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/api/Participant/get_participants/4 - 200 null application/json; charset=utf-8 11.9328ms
2025-05-01 23:29:50.598 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - null null
2025-05-01 23:29:50.598 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:29:50.598 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:29:50.598 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - 409 null null 0.7048ms
2025-05-01 23:29:50.640 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 23:29:50.641 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:29:50.641 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:29:50.641 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:29:50.641 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:29:50.641 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 0.7ms
2025-05-01 23:29:50.664 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/api/Message/getMessages/4/2 - null null
2025-05-01 23:29:50.665 +07:00 [INF] Executing endpoint 'server.Controllers.MessageController.GetMessages (Message_app)'
2025-05-01 23:29:50.665 +07:00 [INF] Route matched with {action = "GetMessages", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32, Int32) on controller server.Controllers.MessageController (Message_app).
2025-05-01 23:29:50.685 +07:00 [INF] Retrieved 52 messages from Redis for conversation 4
2025-05-01 23:29:50.685 +07:00 [INF] Retrieved 50 messages from Redis for conversation 4 and user 2
2025-05-01 23:29:50.686 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[server.DTO.MessageWithAttachment, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-01 23:29:50.686 +07:00 [INF] Executed action server.Controllers.MessageController.GetMessages (Message_app) in 20.9671ms
2025-05-01 23:29:50.686 +07:00 [INF] Executed endpoint 'server.Controllers.MessageController.GetMessages (Message_app)'
2025-05-01 23:29:50.686 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/api/Message/getMessages/4/2 - 200 null application/json; charset=utf-8 21.6374ms
2025-05-01 23:29:50.748 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5053/api/Message/getMessages/4/5 - null null
2025-05-01 23:29:50.748 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:29:50.748 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5053/api/Message/getMessages/4/5 - 204 null null 0.225ms
2025-05-01 23:29:50.750 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/api/Message/getMessages/4/5 - null null
2025-05-01 23:29:50.750 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:29:50.750 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:29:50.750 +07:00 [INF] Executing endpoint 'server.Controllers.MessageController.GetMessages (Message_app)'
2025-05-01 23:29:50.750 +07:00 [INF] Route matched with {action = "GetMessages", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32, Int32) on controller server.Controllers.MessageController (Message_app).
2025-05-01 23:29:50.764 +07:00 [INF] Retrieved 52 messages from Redis for conversation 4
2025-05-01 23:29:50.764 +07:00 [INF] Retrieved 50 messages from Redis for conversation 4 and user 5
2025-05-01 23:29:50.764 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[server.DTO.MessageWithAttachment, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-01 23:29:50.765 +07:00 [INF] Executed action server.Controllers.MessageController.GetMessages (Message_app) in 14.5045ms
2025-05-01 23:29:50.765 +07:00 [INF] Executed endpoint 'server.Controllers.MessageController.GetMessages (Message_app)'
2025-05-01 23:29:50.765 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/api/Message/getMessages/4/5 - 200 null application/json; charset=utf-8 15.2181ms
2025-05-01 23:29:50.789 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5053/api/Conversation/get_first_conversation/4 - null null
2025-05-01 23:29:50.789 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:29:50.790 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5053/api/Conversation/get_first_conversation/4 - 204 null null 0.1923ms
2025-05-01 23:29:50.791 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/api/Conversation/get_first_conversation/4 - null null
2025-05-01 23:29:50.791 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:29:50.791 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:29:50.791 +07:00 [INF] Executing endpoint 'server.Controllers.ConversationController.GetFirstConversation (Message_app)'
2025-05-01 23:29:50.791 +07:00 [INF] Route matched with {action = "GetFirstConversation", controller = "Conversation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFirstConversation(Int32) on controller server.Controllers.ConversationController (Message_app).
2025-05-01 23:29:50.796 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[id], [c].[created_at], [c].[is_group], [c].[lastMessage], [c].[lastMessageSender], [c].[lastMessageTime], [c].[name]
FROM [Conversations] AS [c]
WHERE [c].[id] = @__p_0
2025-05-01 23:29:50.797 +07:00 [INF] Executing OkObjectResult, writing value of type 'server.Models.Conversation'.
2025-05-01 23:29:50.797 +07:00 [INF] Executed action server.Controllers.ConversationController.GetFirstConversation (Message_app) in 5.4112ms
2025-05-01 23:29:50.797 +07:00 [INF] Executed endpoint 'server.Controllers.ConversationController.GetFirstConversation (Message_app)'
2025-05-01 23:29:50.797 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/api/Conversation/get_first_conversation/4 - 200 null application/json; charset=utf-8 6.3744ms
2025-05-01 23:29:50.811 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5053/api/Participant/get_participants/4 - null null
2025-05-01 23:29:50.812 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:29:50.812 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5053/api/Participant/get_participants/4 - 204 null null 0.2904ms
2025-05-01 23:29:50.813 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/api/Participant/get_participants/4 - null null
2025-05-01 23:29:50.813 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:29:50.813 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:29:50.814 +07:00 [INF] Executing endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 23:29:50.814 +07:00 [INF] Route matched with {action = "GetParticipants", controller = "Participant"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetParticipants(Int32) on controller server.Controllers.ParticipantController (Message_app).
2025-05-01 23:29:50.819 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__conversation_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[id], [p].[adder], [p].[conversation_id], [p].[is_deleted], [p].[joined_at], [p].[name], [p].[role], [p].[user_id]
FROM [Participants] AS [p]
WHERE [p].[conversation_id] = @__conversation_id_0
2025-05-01 23:29:50.820 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType17`1[[System.Collections.Generic.List`1[[server.Models.Participants, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-01 23:29:50.820 +07:00 [INF] Executed action server.Controllers.ParticipantController.GetParticipants (Message_app) in 6.3543ms
2025-05-01 23:29:50.820 +07:00 [INF] Executed endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 23:29:50.820 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/api/Participant/get_participants/4 - 200 null application/json; charset=utf-8 7.1359ms
2025-05-01 23:29:50.874 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/api/Conversation/get_first_conversation/4 - null null
2025-05-01 23:29:50.875 +07:00 [INF] Executing endpoint 'server.Controllers.ConversationController.GetFirstConversation (Message_app)'
2025-05-01 23:29:50.875 +07:00 [INF] Route matched with {action = "GetFirstConversation", controller = "Conversation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFirstConversation(Int32) on controller server.Controllers.ConversationController (Message_app).
2025-05-01 23:29:50.880 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[id], [c].[created_at], [c].[is_group], [c].[lastMessage], [c].[lastMessageSender], [c].[lastMessageTime], [c].[name]
FROM [Conversations] AS [c]
WHERE [c].[id] = @__p_0
2025-05-01 23:29:50.880 +07:00 [INF] Executing OkObjectResult, writing value of type 'server.Models.Conversation'.
2025-05-01 23:29:50.881 +07:00 [INF] Executed action server.Controllers.ConversationController.GetFirstConversation (Message_app) in 5.8347ms
2025-05-01 23:29:50.881 +07:00 [INF] Executed endpoint 'server.Controllers.ConversationController.GetFirstConversation (Message_app)'
2025-05-01 23:29:50.881 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/api/Conversation/get_first_conversation/4 - 200 null application/json; charset=utf-8 6.3621ms
2025-05-01 23:29:50.904 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/api/Participant/get_participants/4 - null null
2025-05-01 23:29:50.905 +07:00 [INF] Executing endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 23:29:50.905 +07:00 [INF] Route matched with {action = "GetParticipants", controller = "Participant"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetParticipants(Int32) on controller server.Controllers.ParticipantController (Message_app).
2025-05-01 23:29:50.910 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__conversation_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[id], [p].[adder], [p].[conversation_id], [p].[is_deleted], [p].[joined_at], [p].[name], [p].[role], [p].[user_id]
FROM [Participants] AS [p]
WHERE [p].[conversation_id] = @__conversation_id_0
2025-05-01 23:29:50.911 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType17`1[[System.Collections.Generic.List`1[[server.Models.Participants, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-01 23:29:50.911 +07:00 [INF] Executed action server.Controllers.ParticipantController.GetParticipants (Message_app) in 6.4658ms
2025-05-01 23:29:50.911 +07:00 [INF] Executed endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 23:29:50.911 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/api/Participant/get_participants/4 - 200 null application/json; charset=utf-8 6.979ms
2025-05-01 23:29:51.143 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 23:29:51.143 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:29:51.143 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:29:51.143 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:29:51.143 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:29:51.143 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 0.6832ms
2025-05-01 23:29:53.888 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 23:29:53.889 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:29:53.889 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:29:53.889 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:29:53.889 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:29:53.889 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 0.4688ms
2025-05-01 23:29:55.474 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - null null
2025-05-01 23:29:55.474 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:29:55.474 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:29:55.474 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - 409 null null 0.663ms
2025-05-01 23:29:55.730 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - null null
2025-05-01 23:29:55.730 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:29:55.730 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:29:55.730 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - 409 null null 0.2933ms
2025-05-01 23:29:55.749 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 23:29:55.750 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:29:55.750 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:29:55.750 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:29:55.750 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:29:55.750 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 0.475ms
2025-05-01 23:29:56.487 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 23:29:56.487 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:29:56.487 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:29:56.487 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:29:56.488 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:29:56.488 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 0.7473ms
2025-05-01 23:29:58.897 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 23:29:58.897 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:29:58.897 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:29:58.897 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:29:58.897 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:29:58.897 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 0.2795ms
2025-05-01 23:30:00.509 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - null null
2025-05-01 23:30:00.510 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:30:00.510 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:30:00.510 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - 409 null null 0.7553ms
2025-05-01 23:30:00.756 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - null null
2025-05-01 23:30:00.756 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:30:00.756 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:30:00.756 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - 409 null null 0.255ms
2025-05-01 23:30:00.764 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 23:30:00.765 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:30:00.765 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:30:00.765 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:30:00.765 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:30:00.765 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 0.6935ms
2025-05-01 23:30:01.495 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 23:30:01.496 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:30:01.496 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:30:01.496 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:30:01.496 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:30:01.496 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 0.6624ms
2025-05-01 23:30:02.473 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 23:30:02.474 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:30:02.474 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:30:02.474 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:30:02.477 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:30:02.477 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 3.8672ms
2025-05-01 23:30:03.903 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 23:30:03.903 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:30:03.903 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:30:03.903 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:30:03.904 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:30:03.904 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 0.9412ms
2025-05-01 23:30:05.616 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - null null
2025-05-01 23:30:05.616 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:30:05.617 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:30:05.617 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - 409 null null 0.6367ms
2025-05-01 23:30:05.779 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - null null
2025-05-01 23:30:05.780 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:30:05.781 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:30:05.781 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - 409 null null 1.7136ms
2025-05-01 23:30:05.783 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 23:30:05.783 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:30:05.784 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:30:05.784 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:30:05.784 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:30:05.785 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 1.8433ms
2025-05-01 23:30:06.522 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 23:30:06.522 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:30:06.522 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:30:06.522 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:30:06.522 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:30:06.522 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 0.5483ms
2025-05-01 23:30:07.500 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 23:30:07.501 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:30:07.501 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:30:07.501 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:30:07.501 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:30:07.501 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 0.7305ms
2025-05-01 23:30:08.940 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 23:30:08.940 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:30:08.940 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:30:08.940 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:30:08.940 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:30:08.940 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 0.6659ms
2025-05-01 23:30:10.646 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - null null
2025-05-01 23:30:10.646 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:30:10.647 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:30:10.647 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - 409 null null 0.9156ms
2025-05-01 23:30:10.805 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - null null
2025-05-01 23:30:10.805 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:30:10.805 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:30:10.805 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - 409 null null 0.649ms
2025-05-01 23:30:10.814 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 23:30:10.814 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:30:10.814 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:30:10.814 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:30:10.815 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:30:10.815 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 0.9739ms
2025-05-01 23:30:11.545 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 23:30:11.546 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:30:11.546 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:30:11.546 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:30:11.546 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:30:11.546 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 0.9101ms
2025-05-01 23:30:12.528 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 23:30:12.528 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:30:12.528 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:30:12.528 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:30:12.529 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:30:12.529 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 0.9642ms
2025-05-01 23:30:13.969 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 23:30:13.969 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:30:13.969 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:30:13.969 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:30:13.969 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:30:13.969 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 0.2901ms
2025-05-01 23:30:15.671 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - null null
2025-05-01 23:30:15.671 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:30:15.671 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:30:15.671 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - 409 null null 0.3467ms
2025-05-01 23:30:15.843 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 23:30:15.844 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:30:15.844 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:30:15.844 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:30:15.844 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:30:15.844 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 0.4672ms
2025-05-01 23:30:15.894 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - null null
2025-05-01 23:30:15.894 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:30:15.894 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:30:15.894 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - 409 null null 0.2719ms
2025-05-01 23:30:16.582 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 23:30:16.582 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:30:16.582 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:30:16.582 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:30:16.582 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:30:16.582 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 0.3146ms
2025-05-01 23:30:17.554 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 23:30:17.554 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:30:17.554 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:30:17.554 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:30:17.554 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:30:17.554 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 0.5389ms
2025-05-01 23:30:19.006 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 23:30:19.006 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:30:19.006 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:30:19.006 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:30:19.006 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:30:19.006 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 0.3251ms
2025-05-01 23:30:20.056 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - null null
2025-05-01 23:30:20.056 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/api/Message/getMessages/1/2 - null null
2025-05-01 23:30:20.056 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:30:20.056 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:30:20.056 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - 409 null null 0.2901ms
2025-05-01 23:30:20.056 +07:00 [INF] Executing endpoint 'server.Controllers.MessageController.GetMessages (Message_app)'
2025-05-01 23:30:20.057 +07:00 [INF] Route matched with {action = "GetMessages", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32, Int32) on controller server.Controllers.MessageController (Message_app).
2025-05-01 23:30:20.062 +07:00 [WRN] Message 84 not found in Redis
2025-05-01 23:30:20.062 +07:00 [WRN] Message 83 not found in Redis
2025-05-01 23:30:20.062 +07:00 [WRN] Message 82 not found in Redis
2025-05-01 23:30:20.062 +07:00 [WRN] Message 81 not found in Redis
2025-05-01 23:30:20.063 +07:00 [WRN] Message 80 not found in Redis
2025-05-01 23:30:20.063 +07:00 [WRN] Message 79 not found in Redis
2025-05-01 23:30:20.064 +07:00 [WRN] Message 78 not found in Redis
2025-05-01 23:30:20.064 +07:00 [WRN] Message 77 not found in Redis
2025-05-01 23:30:20.064 +07:00 [WRN] Message 76 not found in Redis
2025-05-01 23:30:20.065 +07:00 [WRN] Message 75 not found in Redis
2025-05-01 23:30:20.065 +07:00 [WRN] Message 74 not found in Redis
2025-05-01 23:30:20.066 +07:00 [WRN] Message 73 not found in Redis
2025-05-01 23:30:20.067 +07:00 [WRN] Message 72 not found in Redis
2025-05-01 23:30:20.067 +07:00 [WRN] Message 71 not found in Redis
2025-05-01 23:30:20.068 +07:00 [WRN] Message 68 not found in Redis
2025-05-01 23:30:20.068 +07:00 [WRN] Message 64 not found in Redis
2025-05-01 23:30:20.068 +07:00 [WRN] Message 62 not found in Redis
2025-05-01 23:30:20.069 +07:00 [WRN] Message 61 not found in Redis
2025-05-01 23:30:20.069 +07:00 [WRN] Message 60 not found in Redis
2025-05-01 23:30:20.069 +07:00 [WRN] Message 59 not found in Redis
2025-05-01 23:30:20.070 +07:00 [WRN] Message 57 not found in Redis
2025-05-01 23:30:20.070 +07:00 [WRN] Message 55 not found in Redis
2025-05-01 23:30:20.070 +07:00 [WRN] Message 54 not found in Redis
2025-05-01 23:30:20.070 +07:00 [WRN] Message 51 not found in Redis
2025-05-01 23:30:20.071 +07:00 [WRN] Message 49 not found in Redis
2025-05-01 23:30:20.071 +07:00 [WRN] Message 11 not found in Redis
2025-05-01 23:30:20.071 +07:00 [WRN] Message 8 not found in Redis
2025-05-01 23:30:20.071 +07:00 [WRN] Message 3 not found in Redis
2025-05-01 23:30:20.071 +07:00 [WRN] Message 2 not found in Redis
2025-05-01 23:30:20.072 +07:00 [WRN] Message 1 not found in Redis
2025-05-01 23:30:20.072 +07:00 [INF] Retrieved 9 messages from Redis for conversation 1
2025-05-01 23:30:20.072 +07:00 [INF] Retrieved 9 messages from Redis for conversation 1 and user 2
2025-05-01 23:30:20.072 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[server.DTO.MessageWithAttachment, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-01 23:30:20.072 +07:00 [INF] Executed action server.Controllers.MessageController.GetMessages (Message_app) in 15.8246ms
2025-05-01 23:30:20.073 +07:00 [INF] Executed endpoint 'server.Controllers.MessageController.GetMessages (Message_app)'
2025-05-01 23:30:20.073 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/api/Message/getMessages/1/2 - 200 null application/json; charset=utf-8 16.5532ms
2025-05-01 23:30:20.094 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/api/Conversation/get_first_conversation/1 - null null
2025-05-01 23:30:20.094 +07:00 [INF] Executing endpoint 'server.Controllers.ConversationController.GetFirstConversation (Message_app)'
2025-05-01 23:30:20.094 +07:00 [INF] Route matched with {action = "GetFirstConversation", controller = "Conversation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFirstConversation(Int32) on controller server.Controllers.ConversationController (Message_app).
2025-05-01 23:30:20.101 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[id], [c].[created_at], [c].[is_group], [c].[lastMessage], [c].[lastMessageSender], [c].[lastMessageTime], [c].[name]
FROM [Conversations] AS [c]
WHERE [c].[id] = @__p_0
2025-05-01 23:30:20.101 +07:00 [INF] Executing OkObjectResult, writing value of type 'server.Models.Conversation'.
2025-05-01 23:30:20.101 +07:00 [INF] Executed action server.Controllers.ConversationController.GetFirstConversation (Message_app) in 7.2494ms
2025-05-01 23:30:20.102 +07:00 [INF] Executed endpoint 'server.Controllers.ConversationController.GetFirstConversation (Message_app)'
2025-05-01 23:30:20.102 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/api/Conversation/get_first_conversation/1 - 200 null application/json; charset=utf-8 7.8826ms
2025-05-01 23:30:20.117 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/api/Participant/get_participants/1 - null null
2025-05-01 23:30:20.117 +07:00 [INF] Executing endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 23:30:20.118 +07:00 [INF] Route matched with {action = "GetParticipants", controller = "Participant"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetParticipants(Int32) on controller server.Controllers.ParticipantController (Message_app).
2025-05-01 23:30:20.123 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__conversation_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[id], [p].[adder], [p].[conversation_id], [p].[is_deleted], [p].[joined_at], [p].[name], [p].[role], [p].[user_id]
FROM [Participants] AS [p]
WHERE [p].[conversation_id] = @__conversation_id_0
2025-05-01 23:30:20.123 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType17`1[[System.Collections.Generic.List`1[[server.Models.Participants, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-01 23:30:20.124 +07:00 [INF] Executed action server.Controllers.ParticipantController.GetParticipants (Message_app) in 5.9071ms
2025-05-01 23:30:20.124 +07:00 [INF] Executed endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 23:30:20.124 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/api/Participant/get_participants/1 - 200 null application/json; charset=utf-8 6.4067ms
2025-05-01 23:30:20.816 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - null null
2025-05-01 23:30:20.818 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:30:20.818 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:30:20.818 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - 409 null null 1.77ms
2025-05-01 23:30:20.879 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 23:30:20.879 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:30:20.879 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:30:20.879 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:30:20.879 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:30:20.879 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 0.3357ms
2025-05-01 23:30:20.930 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - null null
2025-05-01 23:30:20.930 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:30:20.930 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:30:20.930 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - 409 null null 0.3559ms
2025-05-01 23:30:21.624 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 23:30:21.625 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:30:21.625 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:30:21.625 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:30:21.625 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:30:21.625 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 0.6264ms
2025-05-01 23:30:22.620 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 23:30:22.621 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:30:22.621 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:30:22.621 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:30:22.621 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:30:22.621 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 0.6988ms
2025-05-01 23:30:24.052 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 23:30:24.053 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:30:24.053 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:30:24.053 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:30:24.053 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:30:24.053 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 0.3948ms
2025-05-01 23:30:25.088 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - null null
2025-05-01 23:30:25.088 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:30:25.088 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:30:25.088 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - 409 null null 0.4019ms
2025-05-01 23:30:25.694 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 23:30:25.694 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:30:25.694 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:30:25.694 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:30:25.694 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:30:25.694 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 0.2897ms
2025-05-01 23:30:25.735 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5053/api/Message/getMessages/1/5 - null null
2025-05-01 23:30:25.735 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:30:25.736 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5053/api/Message/getMessages/1/5 - 204 null null 0.5841ms
2025-05-01 23:30:25.737 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/api/Message/getMessages/1/5 - null null
2025-05-01 23:30:25.737 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:30:25.737 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:30:25.737 +07:00 [INF] Executing endpoint 'server.Controllers.MessageController.GetMessages (Message_app)'
2025-05-01 23:30:25.737 +07:00 [INF] Route matched with {action = "GetMessages", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32, Int32) on controller server.Controllers.MessageController (Message_app).
2025-05-01 23:30:25.741 +07:00 [WRN] Message 84 not found in Redis
2025-05-01 23:30:25.742 +07:00 [WRN] Message 83 not found in Redis
2025-05-01 23:30:25.742 +07:00 [WRN] Message 82 not found in Redis
2025-05-01 23:30:25.742 +07:00 [WRN] Message 81 not found in Redis
2025-05-01 23:30:25.743 +07:00 [WRN] Message 80 not found in Redis
2025-05-01 23:30:25.743 +07:00 [WRN] Message 79 not found in Redis
2025-05-01 23:30:25.744 +07:00 [WRN] Message 78 not found in Redis
2025-05-01 23:30:25.744 +07:00 [WRN] Message 77 not found in Redis
2025-05-01 23:30:25.744 +07:00 [WRN] Message 76 not found in Redis
2025-05-01 23:30:25.745 +07:00 [WRN] Message 75 not found in Redis
2025-05-01 23:30:25.745 +07:00 [WRN] Message 74 not found in Redis
2025-05-01 23:30:25.745 +07:00 [WRN] Message 73 not found in Redis
2025-05-01 23:30:25.746 +07:00 [WRN] Message 72 not found in Redis
2025-05-01 23:30:25.746 +07:00 [WRN] Message 71 not found in Redis
2025-05-01 23:30:25.747 +07:00 [WRN] Message 68 not found in Redis
2025-05-01 23:30:25.747 +07:00 [WRN] Message 64 not found in Redis
2025-05-01 23:30:25.748 +07:00 [WRN] Message 62 not found in Redis
2025-05-01 23:30:25.748 +07:00 [WRN] Message 61 not found in Redis
2025-05-01 23:30:25.749 +07:00 [WRN] Message 60 not found in Redis
2025-05-01 23:30:25.749 +07:00 [WRN] Message 59 not found in Redis
2025-05-01 23:30:25.749 +07:00 [WRN] Message 57 not found in Redis
2025-05-01 23:30:25.749 +07:00 [WRN] Message 55 not found in Redis
2025-05-01 23:30:25.749 +07:00 [WRN] Message 54 not found in Redis
2025-05-01 23:30:25.750 +07:00 [WRN] Message 51 not found in Redis
2025-05-01 23:30:25.750 +07:00 [WRN] Message 49 not found in Redis
2025-05-01 23:30:25.750 +07:00 [WRN] Message 11 not found in Redis
2025-05-01 23:30:25.750 +07:00 [WRN] Message 8 not found in Redis
2025-05-01 23:30:25.755 +07:00 [WRN] Message 3 not found in Redis
2025-05-01 23:30:25.756 +07:00 [WRN] Message 2 not found in Redis
2025-05-01 23:30:25.756 +07:00 [WRN] Message 1 not found in Redis
2025-05-01 23:30:25.756 +07:00 [INF] Retrieved 9 messages from Redis for conversation 1
2025-05-01 23:30:25.756 +07:00 [INF] Retrieved 9 messages from Redis for conversation 1 and user 5
2025-05-01 23:30:25.756 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[server.DTO.MessageWithAttachment, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-01 23:30:25.756 +07:00 [INF] Executed action server.Controllers.MessageController.GetMessages (Message_app) in 19.2119ms
2025-05-01 23:30:25.757 +07:00 [INF] Executed endpoint 'server.Controllers.MessageController.GetMessages (Message_app)'
2025-05-01 23:30:25.757 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/api/Message/getMessages/1/5 - 200 null application/json; charset=utf-8 19.6122ms
2025-05-01 23:30:25.773 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5053/api/Conversation/get_first_conversation/1 - null null
2025-05-01 23:30:25.773 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:30:25.773 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5053/api/Conversation/get_first_conversation/1 - 204 null null 0.2142ms
2025-05-01 23:30:25.774 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/api/Conversation/get_first_conversation/1 - null null
2025-05-01 23:30:25.774 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:30:25.774 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:30:25.774 +07:00 [INF] Executing endpoint 'server.Controllers.ConversationController.GetFirstConversation (Message_app)'
2025-05-01 23:30:25.775 +07:00 [INF] Route matched with {action = "GetFirstConversation", controller = "Conversation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFirstConversation(Int32) on controller server.Controllers.ConversationController (Message_app).
2025-05-01 23:30:25.781 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[id], [c].[created_at], [c].[is_group], [c].[lastMessage], [c].[lastMessageSender], [c].[lastMessageTime], [c].[name]
FROM [Conversations] AS [c]
WHERE [c].[id] = @__p_0
2025-05-01 23:30:25.781 +07:00 [INF] Executing OkObjectResult, writing value of type 'server.Models.Conversation'.
2025-05-01 23:30:25.781 +07:00 [INF] Executed action server.Controllers.ConversationController.GetFirstConversation (Message_app) in 6.9274ms
2025-05-01 23:30:25.782 +07:00 [INF] Executed endpoint 'server.Controllers.ConversationController.GetFirstConversation (Message_app)'
2025-05-01 23:30:25.782 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/api/Conversation/get_first_conversation/1 - 200 null application/json; charset=utf-8 7.481ms
2025-05-01 23:30:25.799 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5053/api/Participant/get_participants/1 - null null
2025-05-01 23:30:25.799 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:30:25.799 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5053/api/Participant/get_participants/1 - 204 null null 0.2034ms
2025-05-01 23:30:25.801 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/api/Participant/get_participants/1 - null null
2025-05-01 23:30:25.801 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:30:25.801 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:30:25.801 +07:00 [INF] Executing endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 23:30:25.801 +07:00 [INF] Route matched with {action = "GetParticipants", controller = "Participant"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetParticipants(Int32) on controller server.Controllers.ParticipantController (Message_app).
2025-05-01 23:30:25.805 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__conversation_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[id], [p].[adder], [p].[conversation_id], [p].[is_deleted], [p].[joined_at], [p].[name], [p].[role], [p].[user_id]
FROM [Participants] AS [p]
WHERE [p].[conversation_id] = @__conversation_id_0
2025-05-01 23:30:25.805 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType17`1[[System.Collections.Generic.List`1[[server.Models.Participants, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-01 23:30:25.805 +07:00 [INF] Executed action server.Controllers.ParticipantController.GetParticipants (Message_app) in 4.1452ms
2025-05-01 23:30:25.805 +07:00 [INF] Executed endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-01 23:30:25.805 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/api/Participant/get_participants/1 - 200 null application/json; charset=utf-8 4.5514ms
2025-05-01 23:30:25.841 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - null null
2025-05-01 23:30:25.841 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:30:25.841 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:30:25.841 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - 409 null null 0.6815ms
2025-05-01 23:30:25.956 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - null null
2025-05-01 23:30:25.957 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:30:25.957 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:30:25.957 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - 409 null null 0.4643ms
2025-05-01 23:30:25.975 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 23:30:25.976 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:30:25.976 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:30:25.976 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:30:25.976 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:30:25.977 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 1.1079ms
2025-05-01 23:30:26.721 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 23:30:26.721 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:30:26.721 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:30:26.722 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:30:26.722 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:30:26.722 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 0.748ms
2025-05-01 23:30:26.923 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 23:30:26.923 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:30:26.923 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:30:26.923 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:30:26.923 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:30:26.923 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 0.4406ms
2025-05-01 23:30:27.675 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 23:30:27.675 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:30:27.676 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:30:27.676 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:30:27.677 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:30:27.677 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 1.765ms
2025-05-01 23:30:29.173 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 23:30:29.173 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:30:29.173 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:30:29.174 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:30:29.174 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:30:29.174 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 1.46ms
2025-05-01 23:30:30.122 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - null null
2025-05-01 23:30:30.122 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:30:30.123 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:30:30.123 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - 409 null null 0.5661ms
2025-05-01 23:30:30.891 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - null null
2025-05-01 23:30:30.892 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:30:30.892 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:30:30.892 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - 409 null null 0.8389ms
2025-05-01 23:30:31.028 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 23:30:31.029 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:30:31.029 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:30:31.029 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:30:31.029 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:30:31.029 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 0.6626ms
2025-05-01 23:30:31.079 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - null null
2025-05-01 23:30:31.079 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:30:31.079 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:30:31.079 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - 409 null null 0.7579ms
2025-05-01 23:30:31.273 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 23:30:31.273 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:30:31.273 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:30:31.273 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:30:31.273 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:30:31.273 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 0.3948ms
2025-05-01 23:30:31.851 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 23:30:31.851 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:30:31.852 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:30:31.852 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:30:31.852 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:30:31.852 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 0.4033ms
2025-05-01 23:30:32.553 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 23:30:32.553 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:30:32.553 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:30:32.553 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:30:32.553 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:30:32.553 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 0.619ms
2025-05-01 23:30:33.251 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 23:30:33.251 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:30:33.251 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:30:33.251 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:30:33.252 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:30:33.252 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 0.3654ms
2025-05-01 23:30:34.433 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 23:30:34.433 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:30:34.433 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:30:34.433 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:30:34.433 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:30:34.433 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 0.3215ms
2025-05-01 23:30:36.015 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - null null
2025-05-01 23:30:36.015 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:30:36.015 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:30:36.015 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - 409 null null 0.2508ms
2025-05-01 23:30:36.106 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - null null
2025-05-01 23:30:36.107 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:30:36.107 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:30:36.107 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - 409 null null 0.4492ms
2025-05-01 23:30:36.178 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - null null
2025-05-01 23:30:36.178 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:30:36.179 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:30:36.179 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - 409 null null 0.5585ms
2025-05-01 23:30:36.770 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 23:30:36.770 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:30:36.770 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:30:36.771 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:30:36.771 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:30:36.771 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 0.5701ms
2025-05-01 23:30:37.597 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 23:30:37.597 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:30:37.597 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:30:37.597 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:30:37.597 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:30:37.597 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 0.4836ms
2025-05-01 23:30:39.172 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 23:30:39.173 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:30:39.173 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:30:39.173 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:30:39.173 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:30:39.173 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 0.6962ms
2025-05-01 23:30:39.233 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 23:30:39.233 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:30:39.233 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:30:39.233 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:30:39.233 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:30:39.233 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 0.5978ms
2025-05-01 23:30:40.638 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 23:30:40.638 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:30:40.638 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:30:40.638 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:30:40.638 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:30:40.640 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 2.0335ms
2025-05-01 23:30:41.045 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - null null
2025-05-01 23:30:41.045 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:30:41.045 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:30:41.045 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - 409 null null 0.2656ms
2025-05-01 23:30:41.135 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - null null
2025-05-01 23:30:41.135 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:30:41.135 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:30:41.135 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - 409 null null 0.193ms
2025-05-01 23:30:41.208 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - null null
2025-05-01 23:30:41.209 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:30:41.209 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:30:41.210 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - 409 null null 1.206ms
2025-05-01 23:30:43.292 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 23:30:43.292 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:30:43.292 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:30:43.292 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:30:43.292 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:30:43.292 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 0.3316ms
2025-05-01 23:30:46.075 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - null null
2025-05-01 23:30:46.075 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:30:46.075 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:30:46.075 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - 409 null null 0.4676ms
2025-05-01 23:30:46.269 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - null null
2025-05-01 23:30:46.269 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:30:46.269 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:30:46.269 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - 409 null null 0.2769ms
2025-05-01 23:30:46.278 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - null null
2025-05-01 23:30:46.278 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:30:46.278 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:30:46.278 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - 409 null null 0.4253ms
2025-05-01 23:30:46.819 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 23:30:46.819 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:30:46.819 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:30:46.819 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:30:46.819 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:30:46.820 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 0.7224ms
2025-05-01 23:30:48.744 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 23:30:48.744 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:30:48.744 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:30:48.744 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:30:48.744 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:30:48.745 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 0.7746ms
2025-05-01 23:30:48.820 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 23:30:48.820 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:30:48.820 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:30:48.820 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:30:48.821 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:30:48.821 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 0.2877ms
2025-05-01 23:30:50.506 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 23:30:50.507 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:30:50.507 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:30:50.507 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:30:50.507 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:30:50.507 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 0.9673ms
2025-05-01 23:30:51.307 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - null null
2025-05-01 23:30:51.307 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:30:51.307 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:30:51.308 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - 409 null null 0.7595ms
2025-05-01 23:30:51.309 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - null null
2025-05-01 23:30:51.310 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:30:51.310 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:30:51.311 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - 409 null null 1.1592ms
2025-05-01 23:30:51.957 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 23:30:51.957 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:30:51.958 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:30:51.958 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:30:51.958 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:30:51.958 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 0.4898ms
2025-05-01 23:30:52.112 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - null null
2025-05-01 23:30:52.112 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:30:52.112 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:30:52.112 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - 409 null null 0.3149ms
2025-05-01 23:30:54.117 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 23:30:54.117 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:30:54.117 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:30:54.117 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:30:54.117 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:30:54.117 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 0.2328ms
2025-05-01 23:30:55.603 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 23:30:55.603 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:30:55.603 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:30:55.603 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:30:55.604 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:30:55.604 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 0.4554ms
2025-05-01 23:30:56.357 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - null null
2025-05-01 23:30:56.358 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:30:56.358 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:30:56.358 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - 409 null null 0.2371ms
2025-05-01 23:30:57.167 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 23:30:57.167 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:30:57.167 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:30:57.167 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:30:57.167 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:30:57.167 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 0.4401ms
2025-05-01 23:30:57.363 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - null null
2025-05-01 23:30:57.363 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:30:57.363 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:30:57.363 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - 409 null null 0.2172ms
2025-05-01 23:30:57.689 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 23:30:57.689 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:30:57.689 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:30:57.689 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:30:57.689 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:30:57.689 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 0.2188ms
2025-05-01 23:30:58.167 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - null null
2025-05-01 23:30:58.167 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:30:58.167 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:30:58.167 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - 409 null null 0.2807ms
2025-05-01 23:30:59.207 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 23:30:59.207 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:30:59.208 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:30:59.208 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:30:59.208 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:30:59.208 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 0.6503ms
2025-05-01 23:31:01.181 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 23:31:01.182 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:31:01.182 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:31:01.182 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:31:01.182 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:31:01.182 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 0.2574ms
2025-05-01 23:31:01.483 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - null null
2025-05-01 23:31:01.483 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:31:01.483 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:31:01.483 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - 409 null null 0.204ms
2025-05-01 23:31:02.391 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - null null
2025-05-01 23:31:02.392 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:31:02.392 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:31:02.392 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - 409 null null 0.5749ms
2025-05-01 23:31:03.222 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - null null
2025-05-01 23:31:03.222 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:31:03.222 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:31:03.222 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - 409 null null 0.3472ms
2025-05-01 23:31:05.236 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 23:31:05.236 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:31:05.236 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:31:05.236 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:31:05.237 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:31:05.237 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 0.8624ms
2025-05-01 23:31:05.375 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 23:31:05.375 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:31:05.375 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:31:05.375 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:31:05.375 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:31:05.375 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 0.4383ms
2025-05-01 23:31:06.702 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 23:31:06.702 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:31:06.702 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:31:06.702 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:31:06.702 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:31:06.702 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 0.2891ms
2025-05-01 23:31:07.282 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 23:31:07.283 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:31:07.283 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:31:07.283 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:31:07.283 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:31:07.283 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 0.3347ms
2025-05-01 23:31:07.420 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - null null
2025-05-01 23:31:07.420 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:31:07.420 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:31:07.420 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - 409 null null 0.2028ms
2025-05-01 23:31:07.556 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - null null
2025-05-01 23:31:07.556 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:31:07.556 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:31:07.556 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - 409 null null 0.3054ms
2025-05-01 23:31:07.581 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 23:31:07.581 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:31:07.581 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:31:07.581 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:31:07.581 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:31:07.581 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 0.5861ms
2025-05-01 23:31:08.316 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - null null
2025-05-01 23:31:08.317 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:31:08.317 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:31:08.317 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - 409 null null 0.2758ms
2025-05-01 23:31:12.498 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - null null
2025-05-01 23:31:12.498 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:31:12.499 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:31:12.499 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - 409 null null 0.601ms
2025-05-01 23:31:12.554 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 23:31:12.554 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:31:12.554 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:31:12.554 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:31:12.554 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:31:12.555 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 0.3446ms
2025-05-01 23:31:12.582 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - null null
2025-05-01 23:31:12.582 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:31:12.583 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:31:12.583 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - 409 null null 0.2578ms
2025-05-01 23:31:13.341 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - null null
2025-05-01 23:31:13.341 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:31:13.341 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:31:13.341 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - 409 null null 0.2039ms
2025-05-01 23:31:13.709 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 23:31:13.709 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:31:13.709 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:31:13.709 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:31:13.709 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:31:13.710 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 0.4944ms
2025-05-01 23:31:14.175 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 23:31:14.175 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:31:14.175 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:31:14.175 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:31:14.176 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:31:14.176 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 0.6915ms
2025-05-01 23:31:16.278 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 23:31:16.279 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:31:16.279 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:31:16.280 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:31:16.280 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:31:16.280 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 2.4335ms
2025-05-01 23:31:16.869 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 23:31:16.869 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:31:16.870 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:31:16.870 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:31:16.870 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:31:16.870 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 0.9894ms
2025-05-01 23:31:17.522 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - null null
2025-05-01 23:31:17.523 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:31:17.523 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:31:17.523 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - 409 null null 0.444ms
2025-05-01 23:31:17.608 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - null null
2025-05-01 23:31:17.609 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:31:17.609 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:31:17.609 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - 409 null null 0.31ms
2025-05-01 23:31:18.579 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - null null
2025-05-01 23:31:18.580 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:31:18.580 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:31:18.580 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - 409 null null 0.2575ms
2025-05-01 23:31:20.016 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 23:31:20.017 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:31:20.017 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:31:20.017 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:31:20.017 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:31:20.017 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 0.9135ms
2025-05-01 23:31:21.203 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - null null
2025-05-01 23:31:21.203 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:31:21.203 +07:00 [INF] CORS policy execution successful.
2025-05-01 23:31:21.203 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-01 23:31:21.203 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:31:21.203 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 409 null null 0.4044ms
2025-05-01 23:31:21.534 +07:00 [INF] Application is shutting down...
2025-05-01 23:31:51.634 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:31:51.634 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-01 23:31:51.636 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=5 - 101 null null 151332.0802ms
2025-05-01 23:31:51.636 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.9:5053/ws/chat?userId=2 - 101 null null 132727.1979ms
