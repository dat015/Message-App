2025-05-22 19:15:14.325 +07:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[id], [u].[username], [u].[avatar_url]
FROM [Users] AS [u]
2025-05-22 19:15:14.509 +07:00 [INF] User profile is available. Using 'C:\Users\Thao\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-22 19:15:14.597 +07:00 [WRN] Overriding address(es) 'http://localhost:5053'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-05-22 19:15:14.609 +07:00 [INF] Now listening on: http://[::]:5053
2025-05-22 19:15:14.609 +07:00 [INF] Now listening on: http://0.0.0.0:5053
2025-05-22 19:15:14.610 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-22 19:15:14.610 +07:00 [INF] Hosting environment: Development
2025-05-22 19:15:14.610 +07:00 [INF] Content root path: C:\Users\Thao\source\Flutter\Message_app\server
2025-05-22 19:17:20.004 +07:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[id], [u].[username], [u].[avatar_url]
FROM [Users] AS [u]
2025-05-22 19:17:20.171 +07:00 [INF] User profile is available. Using 'C:\Users\Thao\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-22 19:17:20.256 +07:00 [WRN] Overriding address(es) 'http://localhost:5053'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-05-22 19:17:20.266 +07:00 [INF] Now listening on: http://[::]:5053
2025-05-22 19:17:20.267 +07:00 [INF] Now listening on: http://0.0.0.0:5053
2025-05-22 19:17:20.267 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-22 19:17:20.267 +07:00 [INF] Hosting environment: Development
2025-05-22 19:17:20.267 +07:00 [INF] Content root path: C:\Users\Thao\source\Flutter\Message_app\server
2025-05-22 19:17:21.484 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=3 - null null
2025-05-22 19:17:21.502 +07:00 [INF] CORS policy execution successful.
2025-05-22 19:17:21.524 +07:00 [INF] CORS policy execution successful.
2025-05-22 19:17:21.524 +07:00 [WRN] Failed to determine the https port for redirect.
2025-05-22 19:17:21.581 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-22 19:17:22.118 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.5:5053/ws/chat?userId=2 - null null
2025-05-22 19:17:22.122 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-22 19:17:23.806 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=3 - null null
2025-05-22 19:17:23.807 +07:00 [INF] CORS policy execution successful.
2025-05-22 19:17:23.807 +07:00 [INF] CORS policy execution successful.
2025-05-22 19:17:23.809 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-22 19:17:27.900 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=3 - null null
2025-05-22 19:17:27.901 +07:00 [INF] CORS policy execution successful.
2025-05-22 19:17:27.901 +07:00 [INF] CORS policy execution successful.
2025-05-22 19:17:27.901 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-22 19:17:38.832 +07:00 [INF] Handling message from user 3: jhbj
2025-05-22 19:17:38.882 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5053/api/Notification/send - null null
2025-05-22 19:17:38.883 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5053/api/Notification/send - null null
2025-05-22 19:17:38.884 +07:00 [INF] CORS policy execution successful.
2025-05-22 19:17:38.885 +07:00 [INF] CORS policy execution successful.
2025-05-22 19:17:38.891 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5053/api/Notification/send - null null
2025-05-22 19:17:38.892 +07:00 [INF] CORS policy execution successful.
2025-05-22 19:17:38.933 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5053/api/Notification/send - 204 null null 48.329ms
2025-05-22 19:17:38.933 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5053/api/Notification/send - 204 null null 38.3946ms
2025-05-22 19:17:38.933 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5053/api/Notification/send - 204 null null 47.6748ms
2025-05-22 19:17:38.939 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5053/api/Notification/send - application/json 67
2025-05-22 19:17:38.939 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5053/api/Notification/send - application/json 67
2025-05-22 19:17:38.939 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5053/api/Notification/send - application/json 67
2025-05-22 19:17:38.940 +07:00 [INF] CORS policy execution successful.
2025-05-22 19:17:38.940 +07:00 [INF] CORS policy execution successful.
2025-05-22 19:17:38.940 +07:00 [INF] CORS policy execution successful.
2025-05-22 19:17:38.942 +07:00 [INF] CORS policy execution successful.
2025-05-22 19:17:38.942 +07:00 [INF] CORS policy execution successful.
2025-05-22 19:17:38.942 +07:00 [INF] CORS policy execution successful.
2025-05-22 19:17:38.942 +07:00 [INF] Executing endpoint 'FcmBackend.Controllers.NotificationController.SendNotification (Message_app)'
2025-05-22 19:17:38.942 +07:00 [INF] Executing endpoint 'FcmBackend.Controllers.NotificationController.SendNotification (Message_app)'
2025-05-22 19:17:38.942 +07:00 [INF] Executing endpoint 'FcmBackend.Controllers.NotificationController.SendNotification (Message_app)'
2025-05-22 19:17:38.969 +07:00 [INF] Route matched with {action = "SendNotification", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendNotification(NotificationRequest) on controller FcmBackend.Controllers.NotificationController (Message_app).
2025-05-22 19:17:38.969 +07:00 [INF] Route matched with {action = "SendNotification", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendNotification(NotificationRequest) on controller FcmBackend.Controllers.NotificationController (Message_app).
2025-05-22 19:17:38.969 +07:00 [INF] Route matched with {action = "SendNotification", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendNotification(NotificationRequest) on controller FcmBackend.Controllers.NotificationController (Message_app).
2025-05-22 19:17:59.229 +07:00 [INF] Executed DbCommand (47ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[id], [c].[created_at], [c].[img_url], [c].[is_group], [c].[lastMessage], [c].[lastMessageSender], [c].[lastMessageTime], [c].[name]
FROM [Conversations] AS [c]
WHERE [c].[id] = @__p_0
2025-05-22 19:18:15.459 +07:00 [INF] Sending notification to userId: 2, title: Tin nhắn mới trong nhóm, body: jhbj
2025-05-22 19:18:15.459 +07:00 [INF] Sending notification to userId: 5, title: Tin nhắn mới trong nhóm, body: jhbj
2025-05-22 19:18:15.459 +07:00 [INF] Sending notification to userId: 6, title: Tin nhắn mới trong nhóm, body: jhbj
2025-05-22 19:18:15.542 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__Parse_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[fcmToken]
FROM [Users] AS [u]
WHERE [u].[id] = @__Parse_0
2025-05-22 19:18:34.248 +07:00 [ERR] FCM token not found for userId: 6
2025-05-22 19:18:34.268 +07:00 [INF] Executed DbCommand (17ms) [Parameters=[@__Parse_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[fcmToken]
FROM [Users] AS [u]
WHERE [u].[id] = @__Parse_0
2025-05-22 19:18:34.268 +07:00 [INF] Executed DbCommand (17ms) [Parameters=[@__Parse_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[fcmToken]
FROM [Users] AS [u]
WHERE [u].[id] = @__Parse_0
2025-05-22 19:18:39.755 +07:00 [ERR] FCM token not found for userId: 5
2025-05-22 19:18:44.650 +07:00 [ERR] FCM token not found for userId: 2
2025-05-22 19:18:48.484 +07:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2025-05-22 19:18:48.484 +07:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2025-05-22 19:18:48.484 +07:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2025-05-22 19:18:48.493 +07:00 [INF] Executed action FcmBackend.Controllers.NotificationController.SendNotification (Message_app) in 69518.0339ms
2025-05-22 19:18:48.493 +07:00 [INF] Executed action FcmBackend.Controllers.NotificationController.SendNotification (Message_app) in 69518.1539ms
2025-05-22 19:18:48.493 +07:00 [INF] Executed action FcmBackend.Controllers.NotificationController.SendNotification (Message_app) in 69518.1749ms
2025-05-22 19:18:48.494 +07:00 [INF] Executed endpoint 'FcmBackend.Controllers.NotificationController.SendNotification (Message_app)'
2025-05-22 19:18:48.494 +07:00 [INF] Executed endpoint 'FcmBackend.Controllers.NotificationController.SendNotification (Message_app)'
2025-05-22 19:18:48.494 +07:00 [INF] Executed endpoint 'FcmBackend.Controllers.NotificationController.SendNotification (Message_app)'
2025-05-22 19:18:48.499 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5053/api/Notification/send - 500 null text/plain; charset=utf-8 69559.5359ms
2025-05-22 19:18:48.499 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5053/api/Notification/send - 500 null text/plain; charset=utf-8 69559.4947ms
2025-05-22 19:18:48.499 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5053/api/Notification/send - 500 null text/plain; charset=utf-8 69559.4459ms
2025-05-22 19:18:48.604 +07:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2025-05-22 19:18:48.615 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (Size = 500), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = Int32), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Messages] ([content], [conversation_id], [created_at], [isFile], [isRecalled], [is_read], [sender_id], [type])
OUTPUT INSERTED.[id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-05-22 19:18:48.629 +07:00 [INF] Message saved to DB with ID: 376
2025-05-22 19:18:48.631 +07:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2025-05-22 19:18:48.637 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@p7='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = DateTime2), @p6='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Conversations] SET [created_at] = @p0, [img_url] = @p1, [is_group] = @p2, [lastMessage] = @p3, [lastMessageSender] = @p4, [lastMessageTime] = @p5, [name] = @p6
OUTPUT 1
WHERE [id] = @p7;
2025-05-22 19:18:48.646 +07:00 [INF] Transaction committed for message: 376
2025-05-22 19:18:48.661 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__conversation_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[user_id]
FROM [Participants] AS [p]
WHERE [p].[conversation_id] = @__conversation_id_0 AND [p].[is_deleted] = CAST(0 AS bit)
2025-05-22 19:18:48.672 +07:00 [INF] Saved message 376 to Redis
2025-05-22 19:18:48.674 +07:00 [INF] Added message 376 to conversation 45
2025-05-22 19:18:48.692 +07:00 [INF] Published message to channel conversation:45
2025-05-22 19:27:03.808 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-22 19:27:03.808 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-22 19:27:03.808 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-22 19:27:03.809 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=3 - 101 null null 575908.4507ms
2025-05-22 19:27:03.809 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=3 - 101 null null 580002.6224ms
2025-05-22 19:27:03.809 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=3 - 101 null null 582326.992ms
2025-05-22 19:27:49.891 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-22 19:27:49.956 +07:00 [ERR] An unhandled exception has occurred while executing the request.
System.Net.WebSockets.WebSocketException (0x80004005): The remote party closed the WebSocket connection without completing the close handshake.
   at System.Net.WebSockets.ManagedWebSocket.ThrowEOFUnexpected()
   at System.Net.WebSockets.ManagedWebSocket.EnsureBufferContainsAsync(Int32 minimumRequiredBytes, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.WebSockets.ManagedWebSocket.ReceiveAsyncPrivate[TResult](Memory`1 payloadBuffer, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at server.Services.WebSocketService.webSocket.Receiver(Client client) in C:\Users\Thao\source\Flutter\Message_app\server\Services\WebSocketService\websocket.cs:line 220
   at server.Services.WebSocketService.webSocket.HandleWebSocket(HttpContext context) in C:\Users\Thao\source\Flutter\Message_app\server\Services\WebSocketService\websocket.cs:line 203
   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() in C:\Users\Thao\source\Flutter\Message_app\server\Program.cs:line 107
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-05-22 19:27:50.224 +07:00 [WRN] The response has already started, the error page middleware will not be executed.
2025-05-22 19:27:50.263 +07:00 [ERR] Connection id "0HNCP5AD6EG01", Request id "0HNCP5AD6EG01:00000001": An unhandled exception was thrown by the application.
System.Net.WebSockets.WebSocketException (0x80004005): The remote party closed the WebSocket connection without completing the close handshake.
   at System.Net.WebSockets.ManagedWebSocket.ThrowEOFUnexpected()
   at System.Net.WebSockets.ManagedWebSocket.EnsureBufferContainsAsync(Int32 minimumRequiredBytes, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.WebSockets.ManagedWebSocket.ReceiveAsyncPrivate[TResult](Memory`1 payloadBuffer, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at server.Services.WebSocketService.webSocket.Receiver(Client client) in C:\Users\Thao\source\Flutter\Message_app\server\Services\WebSocketService\websocket.cs:line 220
   at server.Services.WebSocketService.webSocket.HandleWebSocket(HttpContext context) in C:\Users\Thao\source\Flutter\Message_app\server\Services\WebSocketService\websocket.cs:line 203
   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() in C:\Users\Thao\source\Flutter\Message_app\server\Program.cs:line 107
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-05-22 19:27:50.297 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.5:5053/ws/chat?userId=2 - 101 null null 628175.7691ms
2025-05-22 19:27:55.987 +07:00 [INF] Request starting HTTP/1.1 POST http://192.168.1.5:5053/api/Notification/token - application/json 168
2025-05-22 19:27:56.006 +07:00 [INF] Executing endpoint 'FcmBackend.Controllers.NotificationController.UpdateFcmToken (Message_app)'
2025-05-22 19:27:56.060 +07:00 [INF] Route matched with {action = "UpdateFcmToken", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateFcmToken(FcmBackend.Controllers.UpdateFcmTokenRequest) on controller FcmBackend.Controllers.NotificationController (Message_app).
2025-05-22 19:28:37.675 +07:00 [INF] Executed DbCommand (84ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[avatar_url], [u].[bio], [u].[birthday], [u].[created_at], [u].[email], [u].[fcmToken], [u].[gender], [u].[interests], [u].[location], [u].[password], [u].[passwordSalt], [u].[username]
FROM [Users] AS [u]
WHERE [u].[id] = @__p_0
2025-05-22 19:28:37.767 +07:00 [INF] Executed DbCommand (35ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [fcmToken] = @p0
OUTPUT 1
WHERE [id] = @p1;
2025-05-22 19:28:37.769 +07:00 [INF] FCM token updated for userId: 2
2025-05-22 19:28:37.773 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-05-22 19:28:37.773 +07:00 [INF] Executed action FcmBackend.Controllers.NotificationController.UpdateFcmToken (Message_app) in 41713.4816ms
2025-05-22 19:28:37.774 +07:00 [INF] Executed endpoint 'FcmBackend.Controllers.NotificationController.UpdateFcmToken (Message_app)'
2025-05-22 19:28:37.774 +07:00 [INF] Request finished HTTP/1.1 POST http://192.168.1.5:5053/api/Notification/token - 200 null text/plain; charset=utf-8 41787.2879ms
2025-05-22 19:28:58.191 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5053/api/Auth/login - null null
2025-05-22 19:28:58.192 +07:00 [INF] CORS policy execution successful.
2025-05-22 19:28:58.193 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5053/api/Auth/login - 204 null null 2.1797ms
2025-05-22 19:28:58.196 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5053/api/Auth/login - application/json 60
2025-05-22 19:28:58.196 +07:00 [INF] CORS policy execution successful.
2025-05-22 19:28:58.197 +07:00 [INF] CORS policy execution successful.
2025-05-22 19:28:58.198 +07:00 [INF] Executing endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 19:28:58.206 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(server.DTO.AuthDTO.LoginDTO) on controller Message_app.Controllers.AuthController (Message_app).
2025-05-22 19:28:58.245 +07:00 [INF] Executed DbCommand (15ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[avatar_url], [u].[bio], [u].[birthday], [u].[created_at], [u].[email], [u].[fcmToken], [u].[gender], [u].[interests], [u].[location], [u].[password], [u].[passwordSalt], [u].[username]
FROM [Users] AS [u]
WHERE [u].[email] = @__email_0
2025-05-22 19:28:58.311 +07:00 [INF] Executing OkObjectResult, writing value of type 'server.DTO.AuthDTO.LoginRespose'.
2025-05-22 19:28:58.366 +07:00 [INF] Executed action Message_app.Controllers.AuthController.Login (Message_app) in 160.0609ms
2025-05-22 19:28:58.366 +07:00 [INF] Executed endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 19:28:58.366 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5053/api/Auth/login - 200 null application/json; charset=utf-8 170.5906ms
2025-05-22 19:28:58.395 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=3 - null null
2025-05-22 19:28:58.434 +07:00 [INF] CORS policy execution successful.
2025-05-22 19:28:58.434 +07:00 [INF] CORS policy execution successful.
2025-05-22 19:28:58.434 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-22 19:28:58.496 +07:00 [INF] Executed DbCommand (22ms) [Parameters=[@__client_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[conversation_id]
FROM [Participants] AS [p]
WHERE [p].[user_id] = @__client_UserId_0 AND [p].[is_deleted] = CAST(0 AS bit)
2025-05-22 19:28:58.532 +07:00 [INF] User 3 subscribed to channel conversation:1
2025-05-22 19:28:58.533 +07:00 [INF] User 3 subscribed to channel conversation:2
2025-05-22 19:28:58.536 +07:00 [INF] User 3 subscribed to channel conversation:9
2025-05-22 19:28:58.546 +07:00 [INF] User 3 subscribed to channel conversation:19
2025-05-22 19:28:58.551 +07:00 [INF] User 3 subscribed to channel conversation:25
2025-05-22 19:28:58.555 +07:00 [INF] User 3 subscribed to channel conversation:26
2025-05-22 19:28:58.565 +07:00 [INF] User 3 subscribed to channel conversation:27
2025-05-22 19:28:58.575 +07:00 [INF] User 3 subscribed to channel conversation:28
2025-05-22 19:28:58.581 +07:00 [INF] User 3 subscribed to channel conversation:29
2025-05-22 19:28:58.585 +07:00 [INF] User 3 subscribed to channel conversation:32
2025-05-22 19:28:58.586 +07:00 [INF] User 3 subscribed to channel conversation:34
2025-05-22 19:28:58.586 +07:00 [INF] User 3 subscribed to channel conversation:35
2025-05-22 19:28:58.587 +07:00 [INF] User 3 subscribed to channel conversation:36
2025-05-22 19:28:58.588 +07:00 [INF] User 3 subscribed to channel conversation:37
2025-05-22 19:28:58.589 +07:00 [INF] User 3 subscribed to channel conversation:38
2025-05-22 19:28:58.590 +07:00 [INF] User 3 subscribed to channel conversation:39
2025-05-22 19:28:58.591 +07:00 [INF] User 3 subscribed to channel conversation:40
2025-05-22 19:28:58.591 +07:00 [INF] User 3 subscribed to channel conversation:42
2025-05-22 19:28:58.592 +07:00 [INF] User 3 subscribed to channel conversation:43
2025-05-22 19:28:58.593 +07:00 [INF] User 3 subscribed to channel conversation:44
2025-05-22 19:28:58.593 +07:00 [INF] User 3 subscribed to channel conversation:45
2025-05-22 19:29:10.465 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5053/api/Auth/login - null null
2025-05-22 19:29:10.465 +07:00 [INF] CORS policy execution successful.
2025-05-22 19:29:10.465 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5053/api/Auth/login - 204 null null 0.6353ms
2025-05-22 19:29:10.466 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5053/api/Auth/login - application/json 60
2025-05-22 19:29:10.467 +07:00 [INF] CORS policy execution successful.
2025-05-22 19:29:10.468 +07:00 [INF] CORS policy execution successful.
2025-05-22 19:29:10.469 +07:00 [INF] Executing endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 19:29:10.470 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(server.DTO.AuthDTO.LoginDTO) on controller Message_app.Controllers.AuthController (Message_app).
2025-05-22 19:29:10.478 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[avatar_url], [u].[bio], [u].[birthday], [u].[created_at], [u].[email], [u].[fcmToken], [u].[gender], [u].[interests], [u].[location], [u].[password], [u].[passwordSalt], [u].[username]
FROM [Users] AS [u]
WHERE [u].[email] = @__email_0
2025-05-22 19:29:10.479 +07:00 [INF] Executing OkObjectResult, writing value of type 'server.DTO.AuthDTO.LoginRespose'.
2025-05-22 19:29:10.480 +07:00 [INF] Executed action Message_app.Controllers.AuthController.Login (Message_app) in 9.8755ms
2025-05-22 19:29:10.480 +07:00 [INF] Executed endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 19:29:10.480 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5053/api/Auth/login - 200 null application/json; charset=utf-8 13.9937ms
2025-05-22 19:29:10.492 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__client_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[conversation_id]
FROM [Participants] AS [p]
WHERE [p].[user_id] = @__client_UserId_0 AND [p].[is_deleted] = CAST(0 AS bit)
2025-05-22 19:29:10.493 +07:00 [INF] User 3 already subscribed to channel conversation:1
2025-05-22 19:29:10.493 +07:00 [INF] User 3 already subscribed to channel conversation:2
2025-05-22 19:29:10.493 +07:00 [INF] User 3 already subscribed to channel conversation:9
2025-05-22 19:29:10.493 +07:00 [INF] User 3 already subscribed to channel conversation:19
2025-05-22 19:29:10.493 +07:00 [INF] User 3 already subscribed to channel conversation:25
2025-05-22 19:29:10.493 +07:00 [INF] User 3 already subscribed to channel conversation:26
2025-05-22 19:29:10.493 +07:00 [INF] User 3 already subscribed to channel conversation:27
2025-05-22 19:29:10.493 +07:00 [INF] User 3 already subscribed to channel conversation:28
2025-05-22 19:29:10.493 +07:00 [INF] User 3 already subscribed to channel conversation:29
2025-05-22 19:29:10.493 +07:00 [INF] User 3 already subscribed to channel conversation:32
2025-05-22 19:29:10.493 +07:00 [INF] User 3 already subscribed to channel conversation:34
2025-05-22 19:29:10.493 +07:00 [INF] User 3 already subscribed to channel conversation:35
2025-05-22 19:29:10.493 +07:00 [INF] User 3 already subscribed to channel conversation:36
2025-05-22 19:29:10.493 +07:00 [INF] User 3 already subscribed to channel conversation:37
2025-05-22 19:29:10.493 +07:00 [INF] User 3 already subscribed to channel conversation:38
2025-05-22 19:29:10.493 +07:00 [INF] User 3 already subscribed to channel conversation:39
2025-05-22 19:29:10.493 +07:00 [INF] User 3 already subscribed to channel conversation:40
2025-05-22 19:29:10.493 +07:00 [INF] User 3 already subscribed to channel conversation:42
2025-05-22 19:29:10.494 +07:00 [INF] User 3 already subscribed to channel conversation:43
2025-05-22 19:29:10.494 +07:00 [INF] User 3 already subscribed to channel conversation:44
2025-05-22 19:29:10.494 +07:00 [INF] User 3 already subscribed to channel conversation:45
2025-05-22 19:29:16.960 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-22 19:29:16.962 +07:00 [ERR] An unhandled exception has occurred while executing the request.
StackExchange.Redis.RedisServerException: WRONGTYPE Operation against a key holding the wrong kind of value
   at server.Services.WebSocketService.webSocket.CleanupClient(Client client) in C:\Users\Thao\source\Flutter\Message_app\server\Services\WebSocketService\websocket.cs:line 547
   at server.Services.WebSocketService.webSocket.HandleWebSocket(HttpContext context) in C:\Users\Thao\source\Flutter\Message_app\server\Services\WebSocketService\websocket.cs:line 205
   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() in C:\Users\Thao\source\Flutter\Message_app\server\Program.cs:line 107
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-05-22 19:29:16.963 +07:00 [WRN] The response has already started, the error page middleware will not be executed.
2025-05-22 19:29:16.964 +07:00 [ERR] Connection id "0HNCP5AD6EG09", Request id "0HNCP5AD6EG09:00000001": An unhandled exception was thrown by the application.
StackExchange.Redis.RedisServerException: WRONGTYPE Operation against a key holding the wrong kind of value
   at server.Services.WebSocketService.webSocket.CleanupClient(Client client) in C:\Users\Thao\source\Flutter\Message_app\server\Services\WebSocketService\websocket.cs:line 547
   at server.Services.WebSocketService.webSocket.HandleWebSocket(HttpContext context) in C:\Users\Thao\source\Flutter\Message_app\server\Services\WebSocketService\websocket.cs:line 205
   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() in C:\Users\Thao\source\Flutter\Message_app\server\Program.cs:line 107
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-05-22 19:29:16.966 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=3 - 101 null null 18570.998ms
2025-05-22 19:30:31.932 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5053/api/Auth/login - null null
2025-05-22 19:30:31.933 +07:00 [INF] CORS policy execution successful.
2025-05-22 19:30:31.933 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5053/api/Auth/login - 204 null null 0.3998ms
2025-05-22 19:30:31.938 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5053/api/Auth/login - application/json 60
2025-05-22 19:30:31.939 +07:00 [INF] CORS policy execution successful.
2025-05-22 19:30:31.939 +07:00 [INF] CORS policy execution successful.
2025-05-22 19:30:31.940 +07:00 [INF] Executing endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 19:30:31.940 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(server.DTO.AuthDTO.LoginDTO) on controller Message_app.Controllers.AuthController (Message_app).
2025-05-22 19:30:31.964 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[avatar_url], [u].[bio], [u].[birthday], [u].[created_at], [u].[email], [u].[fcmToken], [u].[gender], [u].[interests], [u].[location], [u].[password], [u].[passwordSalt], [u].[username]
FROM [Users] AS [u]
WHERE [u].[email] = @__email_0
2025-05-22 19:30:31.966 +07:00 [INF] Executing OkObjectResult, writing value of type 'server.DTO.AuthDTO.LoginRespose'.
2025-05-22 19:30:31.967 +07:00 [INF] Executed action Message_app.Controllers.AuthController.Login (Message_app) in 26.4404ms
2025-05-22 19:30:31.967 +07:00 [INF] Executed endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 19:30:31.967 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5053/api/Auth/login - 200 null application/json; charset=utf-8 28.7712ms
2025-05-22 19:30:31.994 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=3 - null null
2025-05-22 19:30:31.995 +07:00 [INF] CORS policy execution successful.
2025-05-22 19:30:31.996 +07:00 [INF] CORS policy execution successful.
2025-05-22 19:30:31.996 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-22 19:30:32.054 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__client_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[conversation_id]
FROM [Participants] AS [p]
WHERE [p].[user_id] = @__client_UserId_0 AND [p].[is_deleted] = CAST(0 AS bit)
2025-05-22 19:30:32.063 +07:00 [INF] User 3 subscribed to channel conversation:1
2025-05-22 19:30:32.068 +07:00 [INF] User 3 subscribed to channel conversation:2
2025-05-22 19:30:32.072 +07:00 [INF] User 3 subscribed to channel conversation:9
2025-05-22 19:30:32.073 +07:00 [INF] User 3 subscribed to channel conversation:19
2025-05-22 19:30:32.073 +07:00 [INF] User 3 subscribed to channel conversation:25
2025-05-22 19:30:32.073 +07:00 [INF] User 3 subscribed to channel conversation:26
2025-05-22 19:30:32.073 +07:00 [INF] User 3 subscribed to channel conversation:27
2025-05-22 19:30:32.074 +07:00 [INF] User 3 subscribed to channel conversation:28
2025-05-22 19:30:32.074 +07:00 [INF] User 3 subscribed to channel conversation:29
2025-05-22 19:30:32.074 +07:00 [INF] User 3 subscribed to channel conversation:32
2025-05-22 19:30:32.096 +07:00 [INF] User 3 subscribed to channel conversation:34
2025-05-22 19:30:32.096 +07:00 [INF] User 3 subscribed to channel conversation:35
2025-05-22 19:30:32.097 +07:00 [INF] User 3 subscribed to channel conversation:36
2025-05-22 19:30:32.098 +07:00 [INF] User 3 subscribed to channel conversation:37
2025-05-22 19:30:32.098 +07:00 [INF] User 3 subscribed to channel conversation:38
2025-05-22 19:30:32.101 +07:00 [INF] User 3 subscribed to channel conversation:39
2025-05-22 19:30:32.101 +07:00 [INF] User 3 subscribed to channel conversation:40
2025-05-22 19:30:32.102 +07:00 [INF] User 3 subscribed to channel conversation:42
2025-05-22 19:30:32.102 +07:00 [INF] User 3 subscribed to channel conversation:43
2025-05-22 19:30:32.102 +07:00 [INF] User 3 subscribed to channel conversation:44
2025-05-22 19:30:32.105 +07:00 [INF] User 3 subscribed to channel conversation:45
2025-05-22 19:30:58.581 +07:00 [INF] Request starting HTTP/1.1 POST http://192.168.1.5:5053/api/Auth/login - application/json 58
2025-05-22 19:30:58.587 +07:00 [INF] Executing endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 19:30:58.590 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(server.DTO.AuthDTO.LoginDTO) on controller Message_app.Controllers.AuthController (Message_app).
2025-05-22 19:30:58.651 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[avatar_url], [u].[bio], [u].[birthday], [u].[created_at], [u].[email], [u].[fcmToken], [u].[gender], [u].[interests], [u].[location], [u].[password], [u].[passwordSalt], [u].[username]
FROM [Users] AS [u]
WHERE [u].[email] = @__email_0
2025-05-22 19:30:58.658 +07:00 [INF] Executing OkObjectResult, writing value of type 'server.DTO.AuthDTO.LoginRespose'.
2025-05-22 19:30:58.659 +07:00 [INF] Executed action Message_app.Controllers.AuthController.Login (Message_app) in 69.113ms
2025-05-22 19:30:58.660 +07:00 [INF] Executed endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 19:30:58.660 +07:00 [INF] Request finished HTTP/1.1 POST http://192.168.1.5:5053/api/Auth/login - 200 null application/json; charset=utf-8 79.5099ms
2025-05-22 19:30:59.382 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.5:5053/ws/chat?userId=2 - null null
2025-05-22 19:30:59.383 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-22 19:30:59.606 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__client_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[conversation_id]
FROM [Participants] AS [p]
WHERE [p].[user_id] = @__client_UserId_0 AND [p].[is_deleted] = CAST(0 AS bit)
2025-05-22 19:30:59.613 +07:00 [INF] User 2 subscribed to channel conversation:3
2025-05-22 19:30:59.621 +07:00 [INF] User 2 subscribed to channel conversation:4
2025-05-22 19:30:59.633 +07:00 [INF] User 2 subscribed to channel conversation:19
2025-05-22 19:30:59.633 +07:00 [INF] User 2 subscribed to channel conversation:1
2025-05-22 19:30:59.635 +07:00 [INF] User 2 subscribed to channel conversation:25
2025-05-22 19:30:59.640 +07:00 [INF] User 2 subscribed to channel conversation:26
2025-05-22 19:30:59.641 +07:00 [INF] User 2 subscribed to channel conversation:27
2025-05-22 19:30:59.641 +07:00 [INF] User 2 subscribed to channel conversation:28
2025-05-22 19:30:59.642 +07:00 [INF] User 2 subscribed to channel conversation:29
2025-05-22 19:30:59.642 +07:00 [INF] User 2 subscribed to channel conversation:32
2025-05-22 19:30:59.694 +07:00 [INF] Request starting HTTP/1.1 POST http://192.168.1.5:5053/api/Notification/token - application/json 168
2025-05-22 19:30:59.694 +07:00 [INF] Executing endpoint 'FcmBackend.Controllers.NotificationController.UpdateFcmToken (Message_app)'
2025-05-22 19:30:59.694 +07:00 [INF] Route matched with {action = "UpdateFcmToken", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateFcmToken(FcmBackend.Controllers.UpdateFcmTokenRequest) on controller FcmBackend.Controllers.NotificationController (Message_app).
2025-05-22 19:31:10.701 +07:00 [INF] Request starting HTTP/1.1 POST http://192.168.1.5:5053/api/Auth/login - application/json 58
2025-05-22 19:31:10.702 +07:00 [INF] Executing endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 19:31:10.702 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(server.DTO.AuthDTO.LoginDTO) on controller Message_app.Controllers.AuthController (Message_app).
2025-05-22 19:31:10.712 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[avatar_url], [u].[bio], [u].[birthday], [u].[created_at], [u].[email], [u].[fcmToken], [u].[gender], [u].[interests], [u].[location], [u].[password], [u].[passwordSalt], [u].[username]
FROM [Users] AS [u]
WHERE [u].[id] = @__p_0
2025-05-22 19:31:10.726 +07:00 [INF] FCM token updated for userId: 2
2025-05-22 19:31:10.728 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-05-22 19:31:10.729 +07:00 [INF] Executed action FcmBackend.Controllers.NotificationController.UpdateFcmToken (Message_app) in 11035.0125ms
2025-05-22 19:31:10.730 +07:00 [INF] Executed endpoint 'FcmBackend.Controllers.NotificationController.UpdateFcmToken (Message_app)'
2025-05-22 19:31:10.730 +07:00 [INF] Request finished HTTP/1.1 POST http://192.168.1.5:5053/api/Notification/token - 200 null text/plain; charset=utf-8 11036.0203ms
2025-05-22 19:31:10.734 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[avatar_url], [u].[bio], [u].[birthday], [u].[created_at], [u].[email], [u].[fcmToken], [u].[gender], [u].[interests], [u].[location], [u].[password], [u].[passwordSalt], [u].[username]
FROM [Users] AS [u]
WHERE [u].[email] = @__email_0
2025-05-22 19:31:10.739 +07:00 [INF] Executing OkObjectResult, writing value of type 'server.DTO.AuthDTO.LoginRespose'.
2025-05-22 19:31:10.739 +07:00 [INF] Executed action Message_app.Controllers.AuthController.Login (Message_app) in 37.2171ms
2025-05-22 19:31:10.739 +07:00 [INF] Executed endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 19:31:10.742 +07:00 [INF] Request finished HTTP/1.1 POST http://192.168.1.5:5053/api/Auth/login - 200 null application/json; charset=utf-8 41.0063ms
2025-05-22 19:31:10.815 +07:00 [ERR] Error subscribing user 2 to channel conversation:33
StackExchange.Redis.RedisTimeoutException: Timeout awaiting response (outbound=0KiB, inbound=0KiB, 11047ms elapsed, timeout is 5000ms), command=SUBSCRIBE, next: SUBSCRIBE conversation:33, inst: 0, qu: 0, qs: 1, aw: False, bw: Inactive, rs: DequeueResult, ws: Idle, in: 0, in-pipe: 46, out-pipe: 0, last-in: 0, cur-in: 46, sync-ops: 0, async-ops: 33, serverEndpoint: localhost:6379, conn-sec: 831.67, aoc: 0, mc: 1/1/0, mgr: 9 of 10 available, clientName: LAPTOP-3RM3FKK6(SE.Redis-v2.8.31.52602), IOCP: (Busy=0,Free=1000,Min=1,Max=1000), WORKER: (Busy=2,Free=32765,Min=12,Max=32767), POOL: (Threads=6,QueuedItems=0,CompletedItems=1547,Timers=7), v: 2.8.31.52602 (Please take a look at this article for some common client-side issues that can cause timeouts: https://stackexchange.github.io/StackExchange.Redis/Timeouts)
   at StackExchange.Redis.RedisSubscriber.SubscribeAsync(RedisChannel channel, CommandFlags flags) in /_/src/StackExchange.Redis/RedisSubscriber.cs:line 421
   at server.Services.WebSocketService.webSocket.ConnectUserToConversationChanelAsync(Int32 userId, Int32 conversationId) in C:\Users\Thao\source\Flutter\Message_app\server\Services\WebSocketService\websocket.cs:line 103
2025-05-22 19:31:11.067 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-22 19:31:11.068 +07:00 [ERR] An unhandled exception has occurred while executing the request.
StackExchange.Redis.RedisTimeoutException: Timeout awaiting response (outbound=0KiB, inbound=0KiB, 11047ms elapsed, timeout is 5000ms), command=SUBSCRIBE, next: SUBSCRIBE conversation:33, inst: 0, qu: 0, qs: 1, aw: False, bw: Inactive, rs: DequeueResult, ws: Idle, in: 0, in-pipe: 46, out-pipe: 0, last-in: 0, cur-in: 46, sync-ops: 0, async-ops: 33, serverEndpoint: localhost:6379, conn-sec: 831.67, aoc: 0, mc: 1/1/0, mgr: 9 of 10 available, clientName: LAPTOP-3RM3FKK6(SE.Redis-v2.8.31.52602), IOCP: (Busy=0,Free=1000,Min=1,Max=1000), WORKER: (Busy=2,Free=32765,Min=12,Max=32767), POOL: (Threads=6,QueuedItems=0,CompletedItems=1547,Timers=7), v: 2.8.31.52602 (Please take a look at this article for some common client-side issues that can cause timeouts: https://stackexchange.github.io/StackExchange.Redis/Timeouts)
   at StackExchange.Redis.RedisSubscriber.SubscribeAsync(RedisChannel channel, CommandFlags flags) in /_/src/StackExchange.Redis/RedisSubscriber.cs:line 421
   at server.Services.WebSocketService.webSocket.ConnectUserToConversationChanelAsync(Int32 userId, Int32 conversationId) in C:\Users\Thao\source\Flutter\Message_app\server\Services\WebSocketService\websocket.cs:line 103
   at server.Services.WebSocketService.webSocket.HandleBootup(Client client, MessageDTO message) in C:\Users\Thao\source\Flutter\Message_app\server\Services\WebSocketService\websocket.cs:line 321
   at server.Services.WebSocketService.webSocket.Receiver(Client client) in C:\Users\Thao\source\Flutter\Message_app\server\Services\WebSocketService\websocket.cs:line 240
   at server.Services.WebSocketService.webSocket.HandleWebSocket(HttpContext context) in C:\Users\Thao\source\Flutter\Message_app\server\Services\WebSocketService\websocket.cs:line 203
   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() in C:\Users\Thao\source\Flutter\Message_app\server\Program.cs:line 107
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-05-22 19:31:11.071 +07:00 [WRN] The response has already started, the error page middleware will not be executed.
2025-05-22 19:31:11.073 +07:00 [ERR] Connection id "0HNCP5AD6EG0D", Request id "0HNCP5AD6EG0D:00000001": An unhandled exception was thrown by the application.
StackExchange.Redis.RedisTimeoutException: Timeout awaiting response (outbound=0KiB, inbound=0KiB, 11047ms elapsed, timeout is 5000ms), command=SUBSCRIBE, next: SUBSCRIBE conversation:33, inst: 0, qu: 0, qs: 1, aw: False, bw: Inactive, rs: DequeueResult, ws: Idle, in: 0, in-pipe: 46, out-pipe: 0, last-in: 0, cur-in: 46, sync-ops: 0, async-ops: 33, serverEndpoint: localhost:6379, conn-sec: 831.67, aoc: 0, mc: 1/1/0, mgr: 9 of 10 available, clientName: LAPTOP-3RM3FKK6(SE.Redis-v2.8.31.52602), IOCP: (Busy=0,Free=1000,Min=1,Max=1000), WORKER: (Busy=2,Free=32765,Min=12,Max=32767), POOL: (Threads=6,QueuedItems=0,CompletedItems=1547,Timers=7), v: 2.8.31.52602 (Please take a look at this article for some common client-side issues that can cause timeouts: https://stackexchange.github.io/StackExchange.Redis/Timeouts)
   at StackExchange.Redis.RedisSubscriber.SubscribeAsync(RedisChannel channel, CommandFlags flags) in /_/src/StackExchange.Redis/RedisSubscriber.cs:line 421
   at server.Services.WebSocketService.webSocket.ConnectUserToConversationChanelAsync(Int32 userId, Int32 conversationId) in C:\Users\Thao\source\Flutter\Message_app\server\Services\WebSocketService\websocket.cs:line 103
   at server.Services.WebSocketService.webSocket.HandleBootup(Client client, MessageDTO message) in C:\Users\Thao\source\Flutter\Message_app\server\Services\WebSocketService\websocket.cs:line 321
   at server.Services.WebSocketService.webSocket.Receiver(Client client) in C:\Users\Thao\source\Flutter\Message_app\server\Services\WebSocketService\websocket.cs:line 240
   at server.Services.WebSocketService.webSocket.HandleWebSocket(HttpContext context) in C:\Users\Thao\source\Flutter\Message_app\server\Services\WebSocketService\websocket.cs:line 203
   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() in C:\Users\Thao\source\Flutter\Message_app\server\Program.cs:line 107
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-05-22 19:31:11.079 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.5:5053/ws/chat?userId=2 - 101 null null 11696.9219ms
2025-05-22 19:31:11.288 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.5:5053/api/friends/GetAllFriends/2 - null null
2025-05-22 19:31:11.319 +07:00 [INF] Executing endpoint 'server.Controllers.FriendsController.GetAllFriends (Message_app)'
2025-05-22 19:31:11.350 +07:00 [INF] Route matched with {action = "GetAllFriends", controller = "Friends"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllFriends(Int32) on controller server.Controllers.FriendsController (Message_app).
2025-05-22 19:31:11.455 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.5:5053/api/Conversation/get_conversations/2 - null null
2025-05-22 19:31:11.462 +07:00 [INF] Executing endpoint 'server.Controllers.ConversationController.GetConversations (Message_app)'
2025-05-22 19:31:11.471 +07:00 [INF] Request starting HTTP/1.1 POST http://192.168.1.5:5053/api/Notification/token - application/json 168
2025-05-22 19:31:11.472 +07:00 [INF] Executing endpoint 'FcmBackend.Controllers.NotificationController.UpdateFcmToken (Message_app)'
2025-05-22 19:31:11.472 +07:00 [INF] Route matched with {action = "UpdateFcmToken", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateFcmToken(FcmBackend.Controllers.UpdateFcmTokenRequest) on controller FcmBackend.Controllers.NotificationController (Message_app).
2025-05-22 19:31:15.590 +07:00 [INF] Route matched with {action = "GetConversations", controller = "Conversation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetConversations(Int32) on controller server.Controllers.ConversationController (Message_app).
2025-05-22 19:31:15.600 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[avatar_url], [u].[bio], [u].[birthday], [u].[created_at], [u].[email], [u].[fcmToken], [u].[gender], [u].[interests], [u].[location], [u].[password], [u].[passwordSalt], [u].[username]
FROM [Users] AS [u]
WHERE [u].[id] = @__p_0
2025-05-22 19:31:15.603 +07:00 [INF] FCM token updated for userId: 2
2025-05-22 19:31:15.603 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-05-22 19:31:15.603 +07:00 [INF] Executed action FcmBackend.Controllers.NotificationController.UpdateFcmToken (Message_app) in 4130.9916ms
2025-05-22 19:31:15.603 +07:00 [INF] Executed endpoint 'FcmBackend.Controllers.NotificationController.UpdateFcmToken (Message_app)'
2025-05-22 19:31:15.603 +07:00 [INF] Request finished HTTP/1.1 POST http://192.168.1.5:5053/api/Notification/token - 200 null text/plain; charset=utf-8 4131.6819ms
2025-05-22 19:31:15.676 +07:00 [INF] Executed DbCommand (30ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN [f].[UserId1] = @__userId_0 THEN [u].[username]
    ELSE [u0].[username]
END AS [username], CASE
    WHEN [f].[UserId1] = @__userId_0 THEN [u].[avatar_url]
    ELSE [u0].[avatar_url]
END AS [avatar], CASE
    WHEN [f].[UserId1] = @__userId_0 THEN [u].[id]
    ELSE [u0].[id]
END AS [friendId], @__userId_0 AS [userId]
FROM [Friends] AS [f]
INNER JOIN [Users] AS [u] ON [f].[UserId2] = [u].[id]
INNER JOIN [Users] AS [u0] ON [f].[UserId1] = [u0].[id]
WHERE [f].[UserId1] = @__userId_0 OR [f].[UserId2] = @__userId_0
2025-05-22 19:31:15.689 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType8`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[server.DTO.FriendDTO, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-22 19:31:15.703 +07:00 [INF] Executed action server.Controllers.FriendsController.GetAllFriends (Message_app) in 4352.9544ms
2025-05-22 19:31:15.703 +07:00 [INF] Executed endpoint 'server.Controllers.FriendsController.GetAllFriends (Message_app)'
2025-05-22 19:31:15.703 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.5:5053/api/friends/GetAllFriends/2 - 200 null application/json; charset=utf-8 4414.9814ms
2025-05-22 19:31:15.717 +07:00 [INF] Executed DbCommand (41ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[name], [c].[is_group], [c].[created_at], [c].[lastMessage], [c].[lastMessageTime], [c].[img_url], [p0].[id], [p0].[user_id], [p0].[conversation_id], [p0].[name], [p0].[is_deleted], [p0].[img_url]
FROM [Conversations] AS [c]
LEFT JOIN [Participants] AS [p0] ON [c].[id] = [p0].[conversation_id]
WHERE EXISTS (
    SELECT 1
    FROM [Participants] AS [p]
    WHERE [c].[id] = [p].[conversation_id] AND [p].[user_id] = @__userId_0)
ORDER BY [c].[id]
2025-05-22 19:31:15.728 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[server.DTO.ConversationDto, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-22 19:31:15.734 +07:00 [INF] Executed action server.Controllers.ConversationController.GetConversations (Message_app) in 143.6582ms
2025-05-22 19:31:15.734 +07:00 [INF] Executed endpoint 'server.Controllers.ConversationController.GetConversations (Message_app)'
2025-05-22 19:31:15.734 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.5:5053/api/Conversation/get_conversations/2 - 200 null application/json; charset=utf-8 4279.8076ms
2025-05-22 19:31:16.692 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.5:5053/ws/chat?userId=2 - null null
2025-05-22 19:31:16.693 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-22 19:31:19.287 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5053/api/Auth/login - null null
2025-05-22 19:31:19.288 +07:00 [INF] CORS policy execution successful.
2025-05-22 19:31:19.288 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5053/api/Auth/login - 204 null null 1.3803ms
2025-05-22 19:31:19.292 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5053/api/Auth/login - application/json 60
2025-05-22 19:31:19.292 +07:00 [INF] CORS policy execution successful.
2025-05-22 19:31:19.292 +07:00 [INF] CORS policy execution successful.
2025-05-22 19:31:19.292 +07:00 [INF] Executing endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 19:31:19.292 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(server.DTO.AuthDTO.LoginDTO) on controller Message_app.Controllers.AuthController (Message_app).
2025-05-22 19:31:19.299 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[avatar_url], [u].[bio], [u].[birthday], [u].[created_at], [u].[email], [u].[fcmToken], [u].[gender], [u].[interests], [u].[location], [u].[password], [u].[passwordSalt], [u].[username]
FROM [Users] AS [u]
WHERE [u].[email] = @__email_0
2025-05-22 19:31:19.300 +07:00 [INF] Executing OkObjectResult, writing value of type 'server.DTO.AuthDTO.LoginRespose'.
2025-05-22 19:31:19.300 +07:00 [INF] Executed action Message_app.Controllers.AuthController.Login (Message_app) in 7.7061ms
2025-05-22 19:31:19.300 +07:00 [INF] Executed endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 19:31:19.300 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5053/api/Auth/login - 200 null application/json; charset=utf-8 8.5558ms
2025-05-22 19:31:19.312 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__client_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[conversation_id]
FROM [Participants] AS [p]
WHERE [p].[user_id] = @__client_UserId_0 AND [p].[is_deleted] = CAST(0 AS bit)
2025-05-22 19:31:19.312 +07:00 [INF] User 3 already subscribed to channel conversation:1
2025-05-22 19:31:19.312 +07:00 [INF] User 3 already subscribed to channel conversation:2
2025-05-22 19:31:19.312 +07:00 [INF] User 3 already subscribed to channel conversation:9
2025-05-22 19:31:19.312 +07:00 [INF] User 3 already subscribed to channel conversation:19
2025-05-22 19:31:19.312 +07:00 [INF] User 3 already subscribed to channel conversation:25
2025-05-22 19:31:19.312 +07:00 [INF] User 3 already subscribed to channel conversation:26
2025-05-22 19:31:19.312 +07:00 [INF] User 3 already subscribed to channel conversation:27
2025-05-22 19:31:19.312 +07:00 [INF] User 3 already subscribed to channel conversation:28
2025-05-22 19:31:19.312 +07:00 [INF] User 3 already subscribed to channel conversation:29
2025-05-22 19:31:19.312 +07:00 [INF] User 3 already subscribed to channel conversation:32
2025-05-22 19:31:19.312 +07:00 [INF] User 3 already subscribed to channel conversation:34
2025-05-22 19:31:19.312 +07:00 [INF] User 3 already subscribed to channel conversation:35
2025-05-22 19:31:19.312 +07:00 [INF] User 3 already subscribed to channel conversation:36
2025-05-22 19:31:19.312 +07:00 [INF] User 3 already subscribed to channel conversation:37
2025-05-22 19:31:19.312 +07:00 [INF] User 3 already subscribed to channel conversation:38
2025-05-22 19:31:19.312 +07:00 [INF] User 3 already subscribed to channel conversation:39
2025-05-22 19:31:19.312 +07:00 [INF] User 3 already subscribed to channel conversation:40
2025-05-22 19:31:19.312 +07:00 [INF] User 3 already subscribed to channel conversation:42
2025-05-22 19:31:19.312 +07:00 [INF] User 3 already subscribed to channel conversation:43
2025-05-22 19:31:19.312 +07:00 [INF] User 3 already subscribed to channel conversation:44
2025-05-22 19:31:19.312 +07:00 [INF] User 3 already subscribed to channel conversation:45
2025-05-22 19:31:22.832 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.5:5053/api/Message/getMessages/45/2 - null null
2025-05-22 19:31:22.833 +07:00 [INF] Executing endpoint 'server.Controllers.MessageController.GetMessages (Message_app)'
2025-05-22 19:31:22.839 +07:00 [INF] Route matched with {action = "GetMessages", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32, Int32) on controller server.Controllers.MessageController (Message_app).
2025-05-22 19:31:22.903 +07:00 [INF] Retrieved 34 messages from Redis for conversation 45
2025-05-22 19:31:22.906 +07:00 [INF] Retrieved 34 messages from Redis for conversation 45 and user 2
2025-05-22 19:31:22.906 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[server.DTO.MessageWithAttachment, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-22 19:31:22.909 +07:00 [INF] Executed action server.Controllers.MessageController.GetMessages (Message_app) in 69.2882ms
2025-05-22 19:31:22.909 +07:00 [INF] Executed endpoint 'server.Controllers.MessageController.GetMessages (Message_app)'
2025-05-22 19:31:22.909 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.5:5053/api/Message/getMessages/45/2 - 200 null application/json; charset=utf-8 77.0101ms
2025-05-22 19:31:23.007 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.5:5053/api/Conversation/get_first_conversation/45 - null null
2025-05-22 19:31:23.010 +07:00 [INF] Executing endpoint 'server.Controllers.ConversationController.GetFirstConversation (Message_app)'
2025-05-22 19:31:23.013 +07:00 [INF] Route matched with {action = "GetFirstConversation", controller = "Conversation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFirstConversation(Int32) on controller server.Controllers.ConversationController (Message_app).
2025-05-22 19:31:23.057 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__conversation_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[id], [t].[created_at], [t].[img_url], [t].[is_group], [t].[lastMessage], [t].[lastMessageSender], [t].[lastMessageTime], [t].[name], [p].[id], [p].[adder], [p].[conversation_id], [p].[img_url], [p].[is_deleted], [p].[joined_at], [p].[name], [p].[role], [p].[user_id]
FROM (
    SELECT TOP(1) [c].[id], [c].[created_at], [c].[img_url], [c].[is_group], [c].[lastMessage], [c].[lastMessageSender], [c].[lastMessageTime], [c].[name]
    FROM [Conversations] AS [c]
    WHERE [c].[id] = @__conversation_id_0
) AS [t]
LEFT JOIN [Participants] AS [p] ON [t].[id] = [p].[conversation_id]
ORDER BY [t].[id]
2025-05-22 19:31:23.076 +07:00 [INF] Executing OkObjectResult, writing value of type 'server.Models.Conversation'.
2025-05-22 19:31:23.079 +07:00 [INF] Executed action server.Controllers.ConversationController.GetFirstConversation (Message_app) in 65.7884ms
2025-05-22 19:31:23.079 +07:00 [INF] Executed endpoint 'server.Controllers.ConversationController.GetFirstConversation (Message_app)'
2025-05-22 19:31:23.079 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.5:5053/api/Conversation/get_first_conversation/45 - 200 null application/json; charset=utf-8 71.7465ms
2025-05-22 19:31:23.128 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.5:5053/api/Participant/get_participants/45 - null null
2025-05-22 19:31:23.129 +07:00 [INF] Executing endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-22 19:31:23.132 +07:00 [INF] Route matched with {action = "GetParticipants", controller = "Participant"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetParticipants(Int32) on controller server.Controllers.ParticipantController (Message_app).
2025-05-22 19:31:23.143 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__conversation_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[id], [p].[adder], [p].[conversation_id], [p].[img_url], [p].[is_deleted], [p].[joined_at], [p].[name], [p].[role], [p].[user_id]
FROM [Participants] AS [p]
WHERE [p].[conversation_id] = @__conversation_id_0
2025-05-22 19:31:23.148 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType20`1[[System.Collections.Generic.List`1[[server.Models.Participants, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-22 19:31:23.150 +07:00 [INF] Executed action server.Controllers.ParticipantController.GetParticipants (Message_app) in 17.4227ms
2025-05-22 19:31:23.150 +07:00 [INF] Executed endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-22 19:31:23.150 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.5:5053/api/Participant/get_participants/45 - 200 null application/json; charset=utf-8 21.5805ms
2025-05-22 19:31:28.360 +07:00 [INF] Handling message from user 2: dd
2025-05-22 19:31:28.365 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[id], [c].[created_at], [c].[img_url], [c].[is_group], [c].[lastMessage], [c].[lastMessageSender], [c].[lastMessageTime], [c].[name]
FROM [Conversations] AS [c]
WHERE [c].[id] = @__p_0
2025-05-22 19:31:28.374 +07:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2025-05-22 19:31:28.397 +07:00 [INF] Executed DbCommand (23ms) [Parameters=[@p0='?' (Size = 500), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = Int32), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Messages] ([content], [conversation_id], [created_at], [isFile], [isRecalled], [is_read], [sender_id], [type])
OUTPUT INSERTED.[id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-05-22 19:31:28.398 +07:00 [INF] Message saved to DB with ID: 377
2025-05-22 19:31:28.399 +07:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2025-05-22 19:31:28.406 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@p7='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = DateTime2), @p6='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Conversations] SET [created_at] = @p0, [img_url] = @p1, [is_group] = @p2, [lastMessage] = @p3, [lastMessageSender] = @p4, [lastMessageTime] = @p5, [name] = @p6
OUTPUT 1
WHERE [id] = @p7;
2025-05-22 19:31:28.407 +07:00 [INF] Transaction committed for message: 377
2025-05-22 19:31:28.412 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__conversation_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[user_id]
FROM [Participants] AS [p]
WHERE [p].[conversation_id] = @__conversation_id_0 AND [p].[is_deleted] = CAST(0 AS bit)
2025-05-22 19:31:28.414 +07:00 [INF] Saved message 377 to Redis
2025-05-22 19:31:28.415 +07:00 [INF] Added message 377 to conversation 45
2025-05-22 19:31:28.415 +07:00 [INF] Published message to channel conversation:45
2025-05-22 19:31:28.527 +07:00 [INF] Request starting HTTP/1.1 POST http://192.168.1.5:5053/api/Notification/send - application/json 65
2025-05-22 19:31:28.527 +07:00 [INF] Request starting HTTP/1.1 POST http://192.168.1.5:5053/api/Notification/send - application/json 65
2025-05-22 19:31:28.527 +07:00 [INF] Executing endpoint 'FcmBackend.Controllers.NotificationController.SendNotification (Message_app)'
2025-05-22 19:31:28.527 +07:00 [INF] Executing endpoint 'FcmBackend.Controllers.NotificationController.SendNotification (Message_app)'
2025-05-22 19:31:28.527 +07:00 [INF] Route matched with {action = "SendNotification", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendNotification(NotificationRequest) on controller FcmBackend.Controllers.NotificationController (Message_app).
2025-05-22 19:31:28.527 +07:00 [INF] Route matched with {action = "SendNotification", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendNotification(NotificationRequest) on controller FcmBackend.Controllers.NotificationController (Message_app).
2025-05-22 19:31:32.484 +07:00 [INF] Sending notification to userId: 5, title: Tin nhắn mới trong nhóm, body: dd
2025-05-22 19:31:38.477 +07:00 [INF] Sending notification to userId: 3, title: Tin nhắn mới trong nhóm, body: dd
2025-05-22 19:31:38.480 +07:00 [INF] Request starting HTTP/1.1 POST http://192.168.1.5:5053/api/Notification/send - application/json 65
2025-05-22 19:31:38.480 +07:00 [INF] Executing endpoint 'FcmBackend.Controllers.NotificationController.SendNotification (Message_app)'
2025-05-22 19:31:38.487 +07:00 [INF] Route matched with {action = "SendNotification", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendNotification(NotificationRequest) on controller FcmBackend.Controllers.NotificationController (Message_app).
2025-05-22 19:31:38.487 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__Parse_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[fcmToken]
FROM [Users] AS [u]
WHERE [u].[id] = @__Parse_0
2025-05-22 19:31:38.487 +07:00 [INF] Sending notification to userId: 6, title: Tin nhắn mới trong nhóm, body: dd
2025-05-22 19:31:38.488 +07:00 [ERR] FCM token not found for userId: 5
2025-05-22 19:31:38.494 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__Parse_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[fcmToken]
FROM [Users] AS [u]
WHERE [u].[id] = @__Parse_0
2025-05-22 19:31:38.494 +07:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2025-05-22 19:31:38.500 +07:00 [INF] Executed action FcmBackend.Controllers.NotificationController.SendNotification (Message_app) in 9972.4313ms
2025-05-22 19:31:38.501 +07:00 [INF] Executed endpoint 'FcmBackend.Controllers.NotificationController.SendNotification (Message_app)'
2025-05-22 19:31:38.502 +07:00 [ERR] FCM token not found for userId: 3
2025-05-22 19:31:38.502 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__Parse_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[fcmToken]
FROM [Users] AS [u]
WHERE [u].[id] = @__Parse_0
2025-05-22 19:31:38.505 +07:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2025-05-22 19:31:38.506 +07:00 [INF] Executed action FcmBackend.Controllers.NotificationController.SendNotification (Message_app) in 9977.8145ms
2025-05-22 19:31:38.506 +07:00 [INF] Executed endpoint 'FcmBackend.Controllers.NotificationController.SendNotification (Message_app)'
2025-05-22 19:31:38.506 +07:00 [INF] Request finished HTTP/1.1 POST http://192.168.1.5:5053/api/Notification/send - 500 null text/plain; charset=utf-8 9978.5962ms
2025-05-22 19:31:38.542 +07:00 [INF] Request finished HTTP/1.1 POST http://192.168.1.5:5053/api/Notification/send - 500 null text/plain; charset=utf-8 10014.6643ms
2025-05-22 19:31:38.545 +07:00 [ERR] FCM token not found for userId: 6
2025-05-22 19:31:38.545 +07:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2025-05-22 19:31:38.546 +07:00 [INF] Executed action FcmBackend.Controllers.NotificationController.SendNotification (Message_app) in 58.7027ms
2025-05-22 19:31:38.546 +07:00 [INF] Executed endpoint 'FcmBackend.Controllers.NotificationController.SendNotification (Message_app)'
2025-05-22 19:31:38.546 +07:00 [INF] Request finished HTTP/1.1 POST http://192.168.1.5:5053/api/Notification/send - 500 null text/plain; charset=utf-8 66.1139ms
2025-05-22 19:33:15.636 +07:00 [INF] Executed DbCommand (43ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[id], [u].[username], [u].[avatar_url]
FROM [Users] AS [u]
2025-05-22 19:33:15.829 +07:00 [INF] User profile is available. Using 'C:\Users\Thao\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-22 19:33:15.918 +07:00 [WRN] Overriding address(es) 'http://localhost:5053'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-05-22 19:33:15.928 +07:00 [INF] Now listening on: http://[::]:5053
2025-05-22 19:33:15.929 +07:00 [INF] Now listening on: http://0.0.0.0:5053
2025-05-22 19:33:15.929 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-22 19:33:15.929 +07:00 [INF] Hosting environment: Development
2025-05-22 19:33:15.929 +07:00 [INF] Content root path: C:\Users\Thao\source\Flutter\Message_app\server
2025-05-22 19:33:31.835 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5053/api/Auth/login - null null
2025-05-22 19:33:31.856 +07:00 [INF] CORS policy execution successful.
2025-05-22 19:33:31.866 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5053/api/Auth/login - 204 null null 32.7344ms
2025-05-22 19:33:31.869 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5053/api/Auth/login - application/json 60
2025-05-22 19:33:31.870 +07:00 [INF] CORS policy execution successful.
2025-05-22 19:33:31.898 +07:00 [INF] CORS policy execution successful.
2025-05-22 19:33:31.899 +07:00 [WRN] Failed to determine the https port for redirect.
2025-05-22 19:33:31.927 +07:00 [INF] Executing endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 19:33:31.947 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(server.DTO.AuthDTO.LoginDTO) on controller Message_app.Controllers.AuthController (Message_app).
2025-05-22 19:33:32.109 +07:00 [INF] Executed DbCommand (67ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[avatar_url], [u].[bio], [u].[birthday], [u].[created_at], [u].[email], [u].[fcmToken], [u].[gender], [u].[interests], [u].[location], [u].[password], [u].[passwordSalt], [u].[username]
FROM [Users] AS [u]
WHERE [u].[email] = @__email_0
2025-05-22 19:33:32.196 +07:00 [INF] Executing OkObjectResult, writing value of type 'server.DTO.AuthDTO.LoginRespose'.
2025-05-22 19:33:32.229 +07:00 [INF] Executed action Message_app.Controllers.AuthController.Login (Message_app) in 279.2529ms
2025-05-22 19:33:32.229 +07:00 [INF] Executed endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 19:33:32.232 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5053/api/Auth/login - 200 null application/json; charset=utf-8 363.3487ms
2025-05-22 19:33:32.258 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=3 - null null
2025-05-22 19:33:32.268 +07:00 [INF] CORS policy execution successful.
2025-05-22 19:33:32.269 +07:00 [INF] CORS policy execution successful.
2025-05-22 19:33:32.271 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-22 19:33:32.382 +07:00 [INF] Executed DbCommand (26ms) [Parameters=[@__client_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[conversation_id]
FROM [Participants] AS [p]
WHERE [p].[user_id] = @__client_UserId_0 AND [p].[is_deleted] = CAST(0 AS bit)
2025-05-22 19:33:32.392 +07:00 [INF] User 3 subscribed to channel conversation:1
2025-05-22 19:33:32.393 +07:00 [INF] User 3 subscribed to channel conversation:2
2025-05-22 19:33:32.394 +07:00 [INF] User 3 subscribed to channel conversation:9
2025-05-22 19:33:32.395 +07:00 [INF] User 3 subscribed to channel conversation:19
2025-05-22 19:33:32.396 +07:00 [INF] User 3 subscribed to channel conversation:25
2025-05-22 19:33:32.397 +07:00 [INF] User 3 subscribed to channel conversation:26
2025-05-22 19:33:32.398 +07:00 [INF] User 3 subscribed to channel conversation:27
2025-05-22 19:33:32.398 +07:00 [INF] User 3 subscribed to channel conversation:28
2025-05-22 19:33:32.399 +07:00 [INF] User 3 subscribed to channel conversation:29
2025-05-22 19:33:32.399 +07:00 [INF] User 3 subscribed to channel conversation:32
2025-05-22 19:33:32.400 +07:00 [INF] User 3 subscribed to channel conversation:34
2025-05-22 19:33:32.400 +07:00 [INF] User 3 subscribed to channel conversation:35
2025-05-22 19:33:32.401 +07:00 [INF] User 3 subscribed to channel conversation:36
2025-05-22 19:33:32.401 +07:00 [INF] User 3 subscribed to channel conversation:37
2025-05-22 19:33:32.402 +07:00 [INF] User 3 subscribed to channel conversation:38
2025-05-22 19:33:32.403 +07:00 [INF] User 3 subscribed to channel conversation:39
2025-05-22 19:33:32.403 +07:00 [INF] User 3 subscribed to channel conversation:40
2025-05-22 19:33:32.404 +07:00 [INF] User 3 subscribed to channel conversation:42
2025-05-22 19:33:32.404 +07:00 [INF] User 3 subscribed to channel conversation:43
2025-05-22 19:33:32.405 +07:00 [INF] User 3 subscribed to channel conversation:44
2025-05-22 19:33:32.405 +07:00 [INF] User 3 subscribed to channel conversation:45
2025-05-22 19:33:44.636 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5053/api/Auth/login - null null
2025-05-22 19:33:44.637 +07:00 [INF] CORS policy execution successful.
2025-05-22 19:33:44.638 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5053/api/Auth/login - 204 null null 1.7773ms
2025-05-22 19:33:44.639 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5053/api/Auth/login - application/json 57
2025-05-22 19:33:44.640 +07:00 [INF] CORS policy execution successful.
2025-05-22 19:33:44.641 +07:00 [INF] CORS policy execution successful.
2025-05-22 19:33:44.646 +07:00 [INF] Executing endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 19:33:44.647 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(server.DTO.AuthDTO.LoginDTO) on controller Message_app.Controllers.AuthController (Message_app).
2025-05-22 19:33:44.656 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[avatar_url], [u].[bio], [u].[birthday], [u].[created_at], [u].[email], [u].[fcmToken], [u].[gender], [u].[interests], [u].[location], [u].[password], [u].[passwordSalt], [u].[username]
FROM [Users] AS [u]
WHERE [u].[email] = @__email_0
2025-05-22 19:33:44.657 +07:00 [INF] Executing OkObjectResult, writing value of type 'server.DTO.AuthDTO.LoginRespose'.
2025-05-22 19:33:44.658 +07:00 [INF] Executed action Message_app.Controllers.AuthController.Login (Message_app) in 10.9386ms
2025-05-22 19:33:44.658 +07:00 [INF] Executed endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 19:33:44.659 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5053/api/Auth/login - 200 null application/json; charset=utf-8 19.4395ms
2025-05-22 19:33:44.673 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__client_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[conversation_id]
FROM [Participants] AS [p]
WHERE [p].[user_id] = @__client_UserId_0 AND [p].[is_deleted] = CAST(0 AS bit)
2025-05-22 19:33:44.674 +07:00 [INF] User 4 already subscribed to channel conversation:1
2025-05-22 19:33:44.674 +07:00 [INF] User 4 already subscribed to channel conversation:2
2025-05-22 19:33:44.674 +07:00 [INF] User 4 subscribed to channel conversation:3
2025-05-22 19:33:44.676 +07:00 [INF] User 4 subscribed to channel conversation:10
2025-05-22 19:33:44.676 +07:00 [INF] User 4 already subscribed to channel conversation:29
2025-05-22 19:33:44.676 +07:00 [INF] User 4 already subscribed to channel conversation:32
2025-05-22 19:33:44.676 +07:00 [INF] User 4 already subscribed to channel conversation:34
2025-05-22 19:33:44.677 +07:00 [INF] User 4 already subscribed to channel conversation:35
2025-05-22 19:33:44.677 +07:00 [INF] User 4 already subscribed to channel conversation:36
2025-05-22 19:33:44.677 +07:00 [INF] User 4 already subscribed to channel conversation:37
2025-05-22 19:33:44.677 +07:00 [INF] User 4 already subscribed to channel conversation:38
2025-05-22 19:33:44.677 +07:00 [INF] User 4 already subscribed to channel conversation:39
2025-05-22 19:33:44.677 +07:00 [INF] User 4 already subscribed to channel conversation:42
2025-05-22 19:34:02.370 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5053/api/Auth/login - null null
2025-05-22 19:34:02.371 +07:00 [INF] CORS policy execution successful.
2025-05-22 19:34:02.371 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5053/api/Auth/login - 204 null null 0.5388ms
2025-05-22 19:34:02.372 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5053/api/Auth/login - application/json 57
2025-05-22 19:34:02.372 +07:00 [INF] CORS policy execution successful.
2025-05-22 19:34:02.373 +07:00 [INF] CORS policy execution successful.
2025-05-22 19:34:02.373 +07:00 [INF] Executing endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 19:34:02.373 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(server.DTO.AuthDTO.LoginDTO) on controller Message_app.Controllers.AuthController (Message_app).
2025-05-22 19:34:02.382 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[avatar_url], [u].[bio], [u].[birthday], [u].[created_at], [u].[email], [u].[fcmToken], [u].[gender], [u].[interests], [u].[location], [u].[password], [u].[passwordSalt], [u].[username]
FROM [Users] AS [u]
WHERE [u].[email] = @__email_0
2025-05-22 19:34:02.383 +07:00 [INF] Executing OkObjectResult, writing value of type 'server.DTO.AuthDTO.LoginRespose'.
2025-05-22 19:34:02.383 +07:00 [INF] Executed action Message_app.Controllers.AuthController.Login (Message_app) in 10.2388ms
2025-05-22 19:34:02.383 +07:00 [INF] Executed endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 19:34:02.383 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5053/api/Auth/login - 200 null application/json; charset=utf-8 11.181ms
2025-05-22 19:34:02.396 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__client_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[conversation_id]
FROM [Participants] AS [p]
WHERE [p].[user_id] = @__client_UserId_0 AND [p].[is_deleted] = CAST(0 AS bit)
2025-05-22 19:34:02.397 +07:00 [INF] User 4 already subscribed to channel conversation:1
2025-05-22 19:34:02.397 +07:00 [INF] User 4 already subscribed to channel conversation:2
2025-05-22 19:34:02.397 +07:00 [INF] User 4 already subscribed to channel conversation:3
2025-05-22 19:34:02.397 +07:00 [INF] User 4 already subscribed to channel conversation:10
2025-05-22 19:34:02.397 +07:00 [INF] User 4 already subscribed to channel conversation:29
2025-05-22 19:34:02.397 +07:00 [INF] User 4 already subscribed to channel conversation:32
2025-05-22 19:34:02.397 +07:00 [INF] User 4 already subscribed to channel conversation:34
2025-05-22 19:34:02.397 +07:00 [INF] User 4 already subscribed to channel conversation:35
2025-05-22 19:34:02.397 +07:00 [INF] User 4 already subscribed to channel conversation:36
2025-05-22 19:34:02.397 +07:00 [INF] User 4 already subscribed to channel conversation:37
2025-05-22 19:34:02.397 +07:00 [INF] User 4 already subscribed to channel conversation:38
2025-05-22 19:34:02.397 +07:00 [INF] User 4 already subscribed to channel conversation:39
2025-05-22 19:34:02.397 +07:00 [INF] User 4 already subscribed to channel conversation:42
2025-05-22 19:34:35.342 +07:00 [INF] Request starting HTTP/1.1 POST http://192.168.1.5:5053/api/Auth/login - application/json 58
2025-05-22 19:34:35.344 +07:00 [INF] Executing endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 19:34:35.344 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(server.DTO.AuthDTO.LoginDTO) on controller Message_app.Controllers.AuthController (Message_app).
2025-05-22 19:34:35.358 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[avatar_url], [u].[bio], [u].[birthday], [u].[created_at], [u].[email], [u].[fcmToken], [u].[gender], [u].[interests], [u].[location], [u].[password], [u].[passwordSalt], [u].[username]
FROM [Users] AS [u]
WHERE [u].[email] = @__email_0
2025-05-22 19:34:35.358 +07:00 [INF] Executing OkObjectResult, writing value of type 'server.DTO.AuthDTO.LoginRespose'.
2025-05-22 19:34:35.359 +07:00 [INF] Executed action Message_app.Controllers.AuthController.Login (Message_app) in 14.2021ms
2025-05-22 19:34:35.359 +07:00 [INF] Executed endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 19:34:35.359 +07:00 [INF] Request finished HTTP/1.1 POST http://192.168.1.5:5053/api/Auth/login - 200 null application/json; charset=utf-8 17.1365ms
2025-05-22 19:34:36.406 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.5:5053/ws/chat?userId=2 - null null
2025-05-22 19:34:36.407 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-22 19:34:36.517 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__client_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[conversation_id]
FROM [Participants] AS [p]
WHERE [p].[user_id] = @__client_UserId_0 AND [p].[is_deleted] = CAST(0 AS bit)
2025-05-22 19:34:36.519 +07:00 [INF] User 2 subscribed to channel conversation:3
2025-05-22 19:34:36.520 +07:00 [INF] User 2 subscribed to channel conversation:4
2025-05-22 19:34:36.520 +07:00 [INF] User 2 subscribed to channel conversation:19
2025-05-22 19:34:36.520 +07:00 [INF] User 2 subscribed to channel conversation:1
2025-05-22 19:34:36.520 +07:00 [INF] User 2 subscribed to channel conversation:25
2025-05-22 19:34:36.520 +07:00 [INF] User 2 subscribed to channel conversation:26
2025-05-22 19:34:36.520 +07:00 [INF] User 2 subscribed to channel conversation:27
2025-05-22 19:34:36.521 +07:00 [INF] User 2 subscribed to channel conversation:28
2025-05-22 19:34:36.521 +07:00 [INF] User 2 subscribed to channel conversation:29
2025-05-22 19:34:36.521 +07:00 [INF] User 2 subscribed to channel conversation:32
2025-05-22 19:34:36.521 +07:00 [INF] User 2 subscribed to channel conversation:33
2025-05-22 19:34:36.522 +07:00 [INF] User 2 subscribed to channel conversation:34
2025-05-22 19:34:36.522 +07:00 [INF] User 2 subscribed to channel conversation:35
2025-05-22 19:34:36.522 +07:00 [INF] User 2 subscribed to channel conversation:36
2025-05-22 19:34:36.522 +07:00 [INF] User 2 subscribed to channel conversation:37
2025-05-22 19:34:36.522 +07:00 [INF] User 2 subscribed to channel conversation:38
2025-05-22 19:34:36.523 +07:00 [INF] User 2 subscribed to channel conversation:39
2025-05-22 19:34:36.524 +07:00 [INF] User 2 subscribed to channel conversation:41
2025-05-22 19:34:36.524 +07:00 [INF] User 2 subscribed to channel conversation:40
2025-05-22 19:34:36.524 +07:00 [INF] User 2 subscribed to channel conversation:42
2025-05-22 19:34:36.525 +07:00 [INF] User 2 subscribed to channel conversation:44
2025-05-22 19:34:36.525 +07:00 [INF] User 2 subscribed to channel conversation:43
2025-05-22 19:34:36.525 +07:00 [INF] User 2 subscribed to channel conversation:45
2025-05-22 19:34:36.536 +07:00 [INF] Request starting HTTP/1.1 POST http://192.168.1.5:5053/api/Notification/token - application/json 168
2025-05-22 19:34:36.537 +07:00 [INF] Executing endpoint 'FcmBackend.Controllers.NotificationController.UpdateFcmToken (Message_app)'
2025-05-22 19:34:36.548 +07:00 [INF] Route matched with {action = "UpdateFcmToken", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateFcmToken(FcmBackend.Controllers.UpdateFcmTokenRequest) on controller FcmBackend.Controllers.NotificationController (Message_app).
2025-05-22 19:34:36.585 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[avatar_url], [u].[bio], [u].[birthday], [u].[created_at], [u].[email], [u].[fcmToken], [u].[gender], [u].[interests], [u].[location], [u].[password], [u].[passwordSalt], [u].[username]
FROM [Users] AS [u]
WHERE [u].[id] = @__p_0
2025-05-22 19:34:36.607 +07:00 [INF] FCM token updated for userId: 2
2025-05-22 19:34:36.607 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-05-22 19:34:36.607 +07:00 [INF] Executed action FcmBackend.Controllers.NotificationController.UpdateFcmToken (Message_app) in 58.9827ms
2025-05-22 19:34:36.607 +07:00 [INF] Executed endpoint 'FcmBackend.Controllers.NotificationController.UpdateFcmToken (Message_app)'
2025-05-22 19:34:36.607 +07:00 [INF] Request finished HTTP/1.1 POST http://192.168.1.5:5053/api/Notification/token - 200 null text/plain; charset=utf-8 71.4254ms
2025-05-22 19:34:37.264 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.5:5053/api/Conversation/get_conversations/2 - null null
2025-05-22 19:34:37.265 +07:00 [INF] Executing endpoint 'server.Controllers.ConversationController.GetConversations (Message_app)'
2025-05-22 19:34:37.268 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.5:5053/api/friends/GetAllFriends/2 - null null
2025-05-22 19:34:37.269 +07:00 [INF] Executing endpoint 'server.Controllers.FriendsController.GetAllFriends (Message_app)'
2025-05-22 19:34:37.273 +07:00 [INF] Route matched with {action = "GetConversations", controller = "Conversation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetConversations(Int32) on controller server.Controllers.ConversationController (Message_app).
2025-05-22 19:34:37.273 +07:00 [INF] Route matched with {action = "GetAllFriends", controller = "Friends"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllFriends(Int32) on controller server.Controllers.FriendsController (Message_app).
2025-05-22 19:34:37.337 +07:00 [INF] Executed DbCommand (19ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN [f].[UserId1] = @__userId_0 THEN [u].[username]
    ELSE [u0].[username]
END AS [username], CASE
    WHEN [f].[UserId1] = @__userId_0 THEN [u].[avatar_url]
    ELSE [u0].[avatar_url]
END AS [avatar], CASE
    WHEN [f].[UserId1] = @__userId_0 THEN [u].[id]
    ELSE [u0].[id]
END AS [friendId], @__userId_0 AS [userId]
FROM [Friends] AS [f]
INNER JOIN [Users] AS [u] ON [f].[UserId2] = [u].[id]
INNER JOIN [Users] AS [u0] ON [f].[UserId1] = [u0].[id]
WHERE [f].[UserId1] = @__userId_0 OR [f].[UserId2] = @__userId_0
2025-05-22 19:34:37.340 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType8`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[server.DTO.FriendDTO, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-22 19:34:37.349 +07:00 [INF] Executed action server.Controllers.FriendsController.GetAllFriends (Message_app) in 75.6223ms
2025-05-22 19:34:37.349 +07:00 [INF] Executed endpoint 'server.Controllers.FriendsController.GetAllFriends (Message_app)'
2025-05-22 19:34:37.349 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.5:5053/api/friends/GetAllFriends/2 - 200 null application/json; charset=utf-8 81.3287ms
2025-05-22 19:34:37.365 +07:00 [INF] Executed DbCommand (29ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[name], [c].[is_group], [c].[created_at], [c].[lastMessage], [c].[lastMessageTime], [c].[img_url], [p0].[id], [p0].[user_id], [p0].[conversation_id], [p0].[name], [p0].[is_deleted], [p0].[img_url]
FROM [Conversations] AS [c]
LEFT JOIN [Participants] AS [p0] ON [c].[id] = [p0].[conversation_id]
WHERE EXISTS (
    SELECT 1
    FROM [Participants] AS [p]
    WHERE [c].[id] = [p].[conversation_id] AND [p].[user_id] = @__userId_0)
ORDER BY [c].[id]
2025-05-22 19:34:37.377 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[server.DTO.ConversationDto, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-22 19:34:37.384 +07:00 [INF] Executed action server.Controllers.ConversationController.GetConversations (Message_app) in 110.5975ms
2025-05-22 19:34:37.384 +07:00 [INF] Executed endpoint 'server.Controllers.ConversationController.GetConversations (Message_app)'
2025-05-22 19:34:37.384 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.5:5053/api/Conversation/get_conversations/2 - 200 null application/json; charset=utf-8 119.5614ms
2025-05-22 19:35:03.390 +07:00 [INF] Request starting HTTP/1.1 POST http://192.168.1.5:5053/api/Auth/login - application/json 57
2025-05-22 19:35:03.391 +07:00 [INF] Executing endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 19:35:03.391 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(server.DTO.AuthDTO.LoginDTO) on controller Message_app.Controllers.AuthController (Message_app).
2025-05-22 19:35:03.395 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[avatar_url], [u].[bio], [u].[birthday], [u].[created_at], [u].[email], [u].[fcmToken], [u].[gender], [u].[interests], [u].[location], [u].[password], [u].[passwordSalt], [u].[username]
FROM [Users] AS [u]
WHERE [u].[email] = @__email_0
2025-05-22 19:35:03.399 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-05-22 19:35:03.401 +07:00 [INF] Executed action Message_app.Controllers.AuthController.Login (Message_app) in 9.5613ms
2025-05-22 19:35:03.401 +07:00 [INF] Executed endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 19:35:03.401 +07:00 [INF] Request finished HTTP/1.1 POST http://192.168.1.5:5053/api/Auth/login - 400 null application/json; charset=utf-8 10.7948ms
2025-05-22 19:35:15.228 +07:00 [INF] Request starting HTTP/1.1 POST http://192.168.1.5:5053/api/Auth/login - application/json 57
2025-05-22 19:35:15.229 +07:00 [INF] Executing endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 19:35:15.230 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(server.DTO.AuthDTO.LoginDTO) on controller Message_app.Controllers.AuthController (Message_app).
2025-05-22 19:35:15.245 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[avatar_url], [u].[bio], [u].[birthday], [u].[created_at], [u].[email], [u].[fcmToken], [u].[gender], [u].[interests], [u].[location], [u].[password], [u].[passwordSalt], [u].[username]
FROM [Users] AS [u]
WHERE [u].[email] = @__email_0
2025-05-22 19:35:15.248 +07:00 [INF] Executing OkObjectResult, writing value of type 'server.DTO.AuthDTO.LoginRespose'.
2025-05-22 19:35:15.250 +07:00 [INF] Executed action Message_app.Controllers.AuthController.Login (Message_app) in 20.2702ms
2025-05-22 19:35:15.251 +07:00 [INF] Executed endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 19:35:15.252 +07:00 [INF] Request finished HTTP/1.1 POST http://192.168.1.5:5053/api/Auth/login - 200 null application/json; charset=utf-8 23.2622ms
2025-05-22 19:35:15.393 +07:00 [INF] Executed DbCommand (18ms) [Parameters=[@__client_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[conversation_id]
FROM [Participants] AS [p]
WHERE [p].[user_id] = @__client_UserId_0 AND [p].[is_deleted] = CAST(0 AS bit)
2025-05-22 19:35:15.393 +07:00 [INF] User 4 already subscribed to channel conversation:1
2025-05-22 19:35:15.393 +07:00 [INF] User 4 subscribed to channel conversation:2
2025-05-22 19:35:15.393 +07:00 [INF] User 4 already subscribed to channel conversation:3
2025-05-22 19:35:15.393 +07:00 [INF] User 4 subscribed to channel conversation:10
2025-05-22 19:35:15.393 +07:00 [INF] User 4 already subscribed to channel conversation:29
2025-05-22 19:35:15.393 +07:00 [INF] User 4 already subscribed to channel conversation:32
2025-05-22 19:35:15.393 +07:00 [INF] User 4 already subscribed to channel conversation:34
2025-05-22 19:35:15.393 +07:00 [INF] User 4 already subscribed to channel conversation:35
2025-05-22 19:35:15.394 +07:00 [INF] User 4 already subscribed to channel conversation:36
2025-05-22 19:35:15.394 +07:00 [INF] User 4 already subscribed to channel conversation:37
2025-05-22 19:35:15.394 +07:00 [INF] User 4 already subscribed to channel conversation:38
2025-05-22 19:35:15.394 +07:00 [INF] User 4 already subscribed to channel conversation:39
2025-05-22 19:35:15.398 +07:00 [INF] User 4 already subscribed to channel conversation:42
2025-05-22 19:35:15.412 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-22 19:35:15.422 +07:00 [INF] Request starting HTTP/1.1 POST http://192.168.1.5:5053/api/Notification/token - application/json 168
2025-05-22 19:35:15.424 +07:00 [INF] Executing endpoint 'FcmBackend.Controllers.NotificationController.UpdateFcmToken (Message_app)'
2025-05-22 19:35:15.424 +07:00 [INF] Route matched with {action = "UpdateFcmToken", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateFcmToken(FcmBackend.Controllers.UpdateFcmTokenRequest) on controller FcmBackend.Controllers.NotificationController (Message_app).
2025-05-22 19:35:15.443 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[avatar_url], [u].[bio], [u].[birthday], [u].[created_at], [u].[email], [u].[fcmToken], [u].[gender], [u].[interests], [u].[location], [u].[password], [u].[passwordSalt], [u].[username]
FROM [Users] AS [u]
WHERE [u].[id] = @__p_0
2025-05-22 19:35:15.414 +07:00 [ERR] An unhandled exception has occurred while executing the request.
StackExchange.Redis.RedisServerException: WRONGTYPE Operation against a key holding the wrong kind of value
   at server.Services.WebSocketService.webSocket.CleanupClient(Client client) in C:\Users\Thao\source\Flutter\Message_app\server\Services\WebSocketService\websocket.cs:line 547
   at server.Services.WebSocketService.webSocket.HandleWebSocket(HttpContext context) in C:\Users\Thao\source\Flutter\Message_app\server\Services\WebSocketService\websocket.cs:line 205
   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() in C:\Users\Thao\source\Flutter\Message_app\server\Program.cs:line 107
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-05-22 19:35:15.499 +07:00 [WRN] The response has already started, the error page middleware will not be executed.
2025-05-22 19:35:15.505 +07:00 [ERR] Connection id "0HNCP5JECB56F", Request id "0HNCP5JECB56F:00000001": An unhandled exception was thrown by the application.
StackExchange.Redis.RedisServerException: WRONGTYPE Operation against a key holding the wrong kind of value
   at server.Services.WebSocketService.webSocket.CleanupClient(Client client) in C:\Users\Thao\source\Flutter\Message_app\server\Services\WebSocketService\websocket.cs:line 547
   at server.Services.WebSocketService.webSocket.HandleWebSocket(HttpContext context) in C:\Users\Thao\source\Flutter\Message_app\server\Services\WebSocketService\websocket.cs:line 205
   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() in C:\Users\Thao\source\Flutter\Message_app\server\Program.cs:line 107
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-05-22 19:35:15.511 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=3 - 101 null null 103252.6478ms
2025-05-22 19:35:15.626 +07:00 [INF] Executed DbCommand (29ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [fcmToken] = @p0
OUTPUT 1
WHERE [id] = @p1;
2025-05-22 19:35:15.752 +07:00 [INF] FCM token updated for userId: 4
2025-05-22 19:35:15.752 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-05-22 19:35:15.752 +07:00 [INF] Executed action FcmBackend.Controllers.NotificationController.UpdateFcmToken (Message_app) in 328.3057ms
2025-05-22 19:35:15.752 +07:00 [INF] Executed endpoint 'FcmBackend.Controllers.NotificationController.UpdateFcmToken (Message_app)'
2025-05-22 19:35:15.753 +07:00 [INF] Request finished HTTP/1.1 POST http://192.168.1.5:5053/api/Notification/token - 200 null text/plain; charset=utf-8 330.3799ms
2025-05-22 19:35:15.965 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.5:5053/api/friends/GetAllFriends/4 - null null
2025-05-22 19:35:15.969 +07:00 [INF] Executing endpoint 'server.Controllers.FriendsController.GetAllFriends (Message_app)'
2025-05-22 19:35:15.970 +07:00 [INF] Route matched with {action = "GetAllFriends", controller = "Friends"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllFriends(Int32) on controller server.Controllers.FriendsController (Message_app).
2025-05-22 19:35:15.998 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN [f].[UserId1] = @__userId_0 THEN [u].[username]
    ELSE [u0].[username]
END AS [username], CASE
    WHEN [f].[UserId1] = @__userId_0 THEN [u].[avatar_url]
    ELSE [u0].[avatar_url]
END AS [avatar], CASE
    WHEN [f].[UserId1] = @__userId_0 THEN [u].[id]
    ELSE [u0].[id]
END AS [friendId], @__userId_0 AS [userId]
FROM [Friends] AS [f]
INNER JOIN [Users] AS [u] ON [f].[UserId2] = [u].[id]
INNER JOIN [Users] AS [u0] ON [f].[UserId1] = [u0].[id]
WHERE [f].[UserId1] = @__userId_0 OR [f].[UserId2] = @__userId_0
2025-05-22 19:35:15.998 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType8`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[server.DTO.FriendDTO, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-22 19:35:15.999 +07:00 [INF] Executed action server.Controllers.FriendsController.GetAllFriends (Message_app) in 28.4237ms
2025-05-22 19:35:15.999 +07:00 [INF] Executed endpoint 'server.Controllers.FriendsController.GetAllFriends (Message_app)'
2025-05-22 19:35:15.999 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.5:5053/api/friends/GetAllFriends/4 - 200 null application/json; charset=utf-8 34.2572ms
2025-05-22 19:35:16.049 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.5:5053/api/Conversation/get_conversations/4 - null null
2025-05-22 19:35:16.056 +07:00 [INF] Executing endpoint 'server.Controllers.ConversationController.GetConversations (Message_app)'
2025-05-22 19:35:16.056 +07:00 [INF] Route matched with {action = "GetConversations", controller = "Conversation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetConversations(Int32) on controller server.Controllers.ConversationController (Message_app).
2025-05-22 19:35:16.088 +07:00 [INF] Executed DbCommand (18ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[name], [c].[is_group], [c].[created_at], [c].[lastMessage], [c].[lastMessageTime], [c].[img_url], [p0].[id], [p0].[user_id], [p0].[conversation_id], [p0].[name], [p0].[is_deleted], [p0].[img_url]
FROM [Conversations] AS [c]
LEFT JOIN [Participants] AS [p0] ON [c].[id] = [p0].[conversation_id]
WHERE EXISTS (
    SELECT 1
    FROM [Participants] AS [p]
    WHERE [c].[id] = [p].[conversation_id] AND [p].[user_id] = @__userId_0)
ORDER BY [c].[id]
2025-05-22 19:35:16.090 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[server.DTO.ConversationDto, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-22 19:35:16.095 +07:00 [INF] Executed action server.Controllers.ConversationController.GetConversations (Message_app) in 38.3613ms
2025-05-22 19:35:16.095 +07:00 [INF] Executed endpoint 'server.Controllers.ConversationController.GetConversations (Message_app)'
2025-05-22 19:35:16.095 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.5:5053/api/Conversation/get_conversations/4 - 200 null application/json; charset=utf-8 46.2825ms
2025-05-22 19:35:20.565 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=3 - null null
2025-05-22 19:35:20.566 +07:00 [INF] CORS policy execution successful.
2025-05-22 19:35:20.566 +07:00 [INF] CORS policy execution successful.
2025-05-22 19:35:20.567 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-22 19:35:34.607 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5053/api/Auth/login - null null
2025-05-22 19:35:34.608 +07:00 [INF] CORS policy execution successful.
2025-05-22 19:35:34.608 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5053/api/Auth/login - 204 null null 0.6374ms
2025-05-22 19:35:34.609 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5053/api/Auth/login - application/json 58
2025-05-22 19:35:34.610 +07:00 [INF] CORS policy execution successful.
2025-05-22 19:35:34.610 +07:00 [INF] CORS policy execution successful.
2025-05-22 19:35:34.610 +07:00 [INF] Executing endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 19:35:34.611 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(server.DTO.AuthDTO.LoginDTO) on controller Message_app.Controllers.AuthController (Message_app).
2025-05-22 19:35:34.624 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[avatar_url], [u].[bio], [u].[birthday], [u].[created_at], [u].[email], [u].[fcmToken], [u].[gender], [u].[interests], [u].[location], [u].[password], [u].[passwordSalt], [u].[username]
FROM [Users] AS [u]
WHERE [u].[email] = @__email_0
2025-05-22 19:35:34.626 +07:00 [INF] Executing OkObjectResult, writing value of type 'server.DTO.AuthDTO.LoginRespose'.
2025-05-22 19:35:34.626 +07:00 [INF] Executed action Message_app.Controllers.AuthController.Login (Message_app) in 15.5924ms
2025-05-22 19:35:34.626 +07:00 [INF] Executed endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 19:35:34.627 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5053/api/Auth/login - 200 null application/json; charset=utf-8 17.9022ms
2025-05-22 19:35:34.655 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__client_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[conversation_id]
FROM [Participants] AS [p]
WHERE [p].[user_id] = @__client_UserId_0 AND [p].[is_deleted] = CAST(0 AS bit)
2025-05-22 19:35:34.656 +07:00 [INF] User 2 subscribed to channel conversation:3
2025-05-22 19:35:34.657 +07:00 [INF] User 2 subscribed to channel conversation:4
2025-05-22 19:35:34.657 +07:00 [INF] User 2 subscribed to channel conversation:19
2025-05-22 19:35:34.660 +07:00 [INF] User 2 subscribed to channel conversation:1
2025-05-22 19:35:34.660 +07:00 [INF] User 2 subscribed to channel conversation:25
2025-05-22 19:35:34.660 +07:00 [INF] User 2 subscribed to channel conversation:26
2025-05-22 19:35:34.660 +07:00 [INF] User 2 subscribed to channel conversation:27
2025-05-22 19:35:34.660 +07:00 [INF] User 2 subscribed to channel conversation:28
2025-05-22 19:35:34.660 +07:00 [INF] User 2 subscribed to channel conversation:29
2025-05-22 19:35:34.660 +07:00 [INF] User 2 subscribed to channel conversation:32
2025-05-22 19:35:34.660 +07:00 [INF] User 2 subscribed to channel conversation:33
2025-05-22 19:35:34.661 +07:00 [INF] User 2 subscribed to channel conversation:34
2025-05-22 19:35:34.661 +07:00 [INF] User 2 subscribed to channel conversation:35
2025-05-22 19:35:34.661 +07:00 [INF] User 2 subscribed to channel conversation:36
2025-05-22 19:35:34.661 +07:00 [INF] User 2 subscribed to channel conversation:37
2025-05-22 19:35:34.661 +07:00 [INF] User 2 subscribed to channel conversation:38
2025-05-22 19:35:34.661 +07:00 [INF] User 2 subscribed to channel conversation:39
2025-05-22 19:35:34.661 +07:00 [INF] User 2 subscribed to channel conversation:41
2025-05-22 19:35:34.661 +07:00 [INF] User 2 subscribed to channel conversation:40
2025-05-22 19:35:34.661 +07:00 [INF] User 2 subscribed to channel conversation:42
2025-05-22 19:35:34.661 +07:00 [INF] User 2 subscribed to channel conversation:44
2025-05-22 19:35:34.661 +07:00 [INF] User 2 subscribed to channel conversation:43
2025-05-22 19:35:34.661 +07:00 [INF] User 2 subscribed to channel conversation:45
2025-05-22 19:35:51.825 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.5:5053/api/Message/getMessages/42/4 - null null
2025-05-22 19:35:51.825 +07:00 [INF] Executing endpoint 'server.Controllers.MessageController.GetMessages (Message_app)'
2025-05-22 19:35:51.832 +07:00 [INF] Route matched with {action = "GetMessages", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32, Int32) on controller server.Controllers.MessageController (Message_app).
2025-05-22 19:35:51.874 +07:00 [INF] Retrieved 2 messages from Redis for conversation 42
2025-05-22 19:35:51.875 +07:00 [INF] Retrieved 2 messages from Redis for conversation 42 and user 4
2025-05-22 19:35:51.876 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[server.DTO.MessageWithAttachment, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-22 19:35:51.878 +07:00 [INF] Executed action server.Controllers.MessageController.GetMessages (Message_app) in 45.6628ms
2025-05-22 19:35:51.878 +07:00 [INF] Executed endpoint 'server.Controllers.MessageController.GetMessages (Message_app)'
2025-05-22 19:35:51.878 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.5:5053/api/Message/getMessages/42/4 - 200 null application/json; charset=utf-8 53.3958ms
2025-05-22 19:35:51.907 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.5:5053/api/Conversation/get_first_conversation/42 - null null
2025-05-22 19:35:51.909 +07:00 [INF] Executing endpoint 'server.Controllers.ConversationController.GetFirstConversation (Message_app)'
2025-05-22 19:35:51.913 +07:00 [INF] Route matched with {action = "GetFirstConversation", controller = "Conversation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFirstConversation(Int32) on controller server.Controllers.ConversationController (Message_app).
2025-05-22 19:35:51.967 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__conversation_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[id], [t].[created_at], [t].[img_url], [t].[is_group], [t].[lastMessage], [t].[lastMessageSender], [t].[lastMessageTime], [t].[name], [p].[id], [p].[adder], [p].[conversation_id], [p].[img_url], [p].[is_deleted], [p].[joined_at], [p].[name], [p].[role], [p].[user_id]
FROM (
    SELECT TOP(1) [c].[id], [c].[created_at], [c].[img_url], [c].[is_group], [c].[lastMessage], [c].[lastMessageSender], [c].[lastMessageTime], [c].[name]
    FROM [Conversations] AS [c]
    WHERE [c].[id] = @__conversation_id_0
) AS [t]
LEFT JOIN [Participants] AS [p] ON [t].[id] = [p].[conversation_id]
ORDER BY [t].[id]
2025-05-22 19:35:51.997 +07:00 [INF] Executing OkObjectResult, writing value of type 'server.Models.Conversation'.
2025-05-22 19:35:51.999 +07:00 [INF] Executed action server.Controllers.ConversationController.GetFirstConversation (Message_app) in 86.06ms
2025-05-22 19:35:52.000 +07:00 [INF] Executed endpoint 'server.Controllers.ConversationController.GetFirstConversation (Message_app)'
2025-05-22 19:35:52.000 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.5:5053/api/Conversation/get_first_conversation/42 - 200 null application/json; charset=utf-8 92.4696ms
2025-05-22 19:35:52.041 +07:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.5:5053/api/Participant/get_participants/42 - null null
2025-05-22 19:35:52.041 +07:00 [INF] Executing endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-22 19:35:52.043 +07:00 [INF] Route matched with {action = "GetParticipants", controller = "Participant"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetParticipants(Int32) on controller server.Controllers.ParticipantController (Message_app).
2025-05-22 19:35:52.060 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__conversation_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[id], [p].[adder], [p].[conversation_id], [p].[img_url], [p].[is_deleted], [p].[joined_at], [p].[name], [p].[role], [p].[user_id]
FROM [Participants] AS [p]
WHERE [p].[conversation_id] = @__conversation_id_0
2025-05-22 19:35:52.062 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType20`1[[System.Collections.Generic.List`1[[server.Models.Participants, Message_app, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-22 19:35:52.066 +07:00 [INF] Executed action server.Controllers.ParticipantController.GetParticipants (Message_app) in 22.2527ms
2025-05-22 19:35:52.066 +07:00 [INF] Executed endpoint 'server.Controllers.ParticipantController.GetParticipants (Message_app)'
2025-05-22 19:35:52.066 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.5:5053/api/Participant/get_participants/42 - 200 null application/json; charset=utf-8 25.5043ms
2025-05-22 19:35:54.267 +07:00 [INF] Handling message from user 4: zxx
2025-05-22 19:35:54.279 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[id], [c].[created_at], [c].[img_url], [c].[is_group], [c].[lastMessage], [c].[lastMessageSender], [c].[lastMessageTime], [c].[name]
FROM [Conversations] AS [c]
WHERE [c].[id] = @__p_0
2025-05-22 19:35:54.331 +07:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2025-05-22 19:35:54.351 +07:00 [INF] Executed DbCommand (19ms) [Parameters=[@p0='?' (Size = 500), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = Int32), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Messages] ([content], [conversation_id], [created_at], [isFile], [isRecalled], [is_read], [sender_id], [type])
OUTPUT INSERTED.[id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-05-22 19:35:54.357 +07:00 [INF] Message saved to DB with ID: 378
2025-05-22 19:35:54.358 +07:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2025-05-22 19:35:54.363 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@p7='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = DateTime2), @p6='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Conversations] SET [created_at] = @p0, [img_url] = @p1, [is_group] = @p2, [lastMessage] = @p3, [lastMessageSender] = @p4, [lastMessageTime] = @p5, [name] = @p6
OUTPUT 1
WHERE [id] = @p7;
2025-05-22 19:35:54.370 +07:00 [INF] Transaction committed for message: 378
2025-05-22 19:35:54.375 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__conversation_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[user_id]
FROM [Participants] AS [p]
WHERE [p].[conversation_id] = @__conversation_id_0 AND [p].[is_deleted] = CAST(0 AS bit)
2025-05-22 19:35:54.379 +07:00 [INF] Saved message 378 to Redis
2025-05-22 19:35:54.381 +07:00 [INF] Added message 378 to conversation 42
2025-05-22 19:35:54.386 +07:00 [INF] Published message to channel conversation:42
2025-05-22 19:35:54.560 +07:00 [INF] Request starting HTTP/1.1 POST http://192.168.1.5:5053/api/Notification/send - application/json 66
2025-05-22 19:35:54.560 +07:00 [INF] Request starting HTTP/1.1 POST http://192.168.1.5:5053/api/Notification/send - application/json 66
2025-05-22 19:35:54.561 +07:00 [INF] Request starting HTTP/1.1 POST http://192.168.1.5:5053/api/Notification/send - application/json 66
2025-05-22 19:35:54.561 +07:00 [INF] Executing endpoint 'FcmBackend.Controllers.NotificationController.SendNotification (Message_app)'
2025-05-22 19:35:54.561 +07:00 [INF] Executing endpoint 'FcmBackend.Controllers.NotificationController.SendNotification (Message_app)'
2025-05-22 19:35:54.562 +07:00 [INF] Executing endpoint 'FcmBackend.Controllers.NotificationController.SendNotification (Message_app)'
2025-05-22 19:35:54.568 +07:00 [INF] Route matched with {action = "SendNotification", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendNotification(NotificationRequest) on controller FcmBackend.Controllers.NotificationController (Message_app).
2025-05-22 19:35:54.569 +07:00 [INF] Route matched with {action = "SendNotification", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendNotification(NotificationRequest) on controller FcmBackend.Controllers.NotificationController (Message_app).
2025-05-22 19:35:54.569 +07:00 [INF] Route matched with {action = "SendNotification", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendNotification(NotificationRequest) on controller FcmBackend.Controllers.NotificationController (Message_app).
2025-05-22 19:35:54.576 +07:00 [INF] Sending notification to userId: 5, title: Tin nhắn mới trong nhóm, body: zxx
2025-05-22 19:35:54.576 +07:00 [INF] Sending notification to userId: 2, title: Tin nhắn mới trong nhóm, body: zxx
2025-05-22 19:35:54.576 +07:00 [INF] Sending notification to userId: 3, title: Tin nhắn mới trong nhóm, body: zxx
2025-05-22 19:35:54.593 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__Parse_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[fcmToken]
FROM [Users] AS [u]
WHERE [u].[id] = @__Parse_0
2025-05-22 19:35:54.593 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__Parse_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[fcmToken]
FROM [Users] AS [u]
WHERE [u].[id] = @__Parse_0
2025-05-22 19:35:54.594 +07:00 [ERR] FCM token not found for userId: 3
2025-05-22 19:35:54.594 +07:00 [ERR] FCM token not found for userId: 5
2025-05-22 19:35:54.594 +07:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2025-05-22 19:35:54.594 +07:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2025-05-22 19:35:54.595 +07:00 [INF] Executed action FcmBackend.Controllers.NotificationController.SendNotification (Message_app) in 25.3541ms
2025-05-22 19:35:54.595 +07:00 [INF] Executed action FcmBackend.Controllers.NotificationController.SendNotification (Message_app) in 25.3189ms
2025-05-22 19:35:54.595 +07:00 [INF] Executed endpoint 'FcmBackend.Controllers.NotificationController.SendNotification (Message_app)'
2025-05-22 19:35:54.595 +07:00 [INF] Executed endpoint 'FcmBackend.Controllers.NotificationController.SendNotification (Message_app)'
2025-05-22 19:35:54.595 +07:00 [INF] Request finished HTTP/1.1 POST http://192.168.1.5:5053/api/Notification/send - 500 null text/plain; charset=utf-8 34.2239ms
2025-05-22 19:35:54.595 +07:00 [INF] Request finished HTTP/1.1 POST http://192.168.1.5:5053/api/Notification/send - 500 null text/plain; charset=utf-8 34.7456ms
2025-05-22 19:35:54.603 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__Parse_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[fcmToken]
FROM [Users] AS [u]
WHERE [u].[id] = @__Parse_0
2025-05-22 19:35:56.338 +07:00 [ERR] Error sending notification to userId: 2 : SenderId mismatch
2025-05-22 19:35:56.338 +07:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2025-05-22 19:35:56.338 +07:00 [INF] Executed action FcmBackend.Controllers.NotificationController.SendNotification (Message_app) in 1769.7602ms
2025-05-22 19:35:56.338 +07:00 [INF] Executed endpoint 'FcmBackend.Controllers.NotificationController.SendNotification (Message_app)'
2025-05-22 19:35:56.338 +07:00 [INF] Request finished HTTP/1.1 POST http://192.168.1.5:5053/api/Notification/send - 500 null text/plain; charset=utf-8 1777.8809ms
2025-05-22 19:36:17.272 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5053/api/Auth/login - null null
2025-05-22 19:36:17.272 +07:00 [INF] CORS policy execution successful.
2025-05-22 19:36:17.272 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5053/api/Auth/login - 204 null null 0.3703ms
2025-05-22 19:36:17.273 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5053/api/Auth/login - application/json 58
2025-05-22 19:36:17.274 +07:00 [INF] CORS policy execution successful.
2025-05-22 19:36:17.274 +07:00 [INF] CORS policy execution successful.
2025-05-22 19:36:17.274 +07:00 [INF] Executing endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 19:36:17.274 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(server.DTO.AuthDTO.LoginDTO) on controller Message_app.Controllers.AuthController (Message_app).
2025-05-22 19:36:17.280 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[avatar_url], [u].[bio], [u].[birthday], [u].[created_at], [u].[email], [u].[fcmToken], [u].[gender], [u].[interests], [u].[location], [u].[password], [u].[passwordSalt], [u].[username]
FROM [Users] AS [u]
WHERE [u].[email] = @__email_0
2025-05-22 19:36:17.282 +07:00 [INF] Executing OkObjectResult, writing value of type 'server.DTO.AuthDTO.LoginRespose'.
2025-05-22 19:36:17.282 +07:00 [INF] Executed action Message_app.Controllers.AuthController.Login (Message_app) in 7.9251ms
2025-05-22 19:36:17.282 +07:00 [INF] Executed endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 19:36:17.282 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5053/api/Auth/login - 200 null application/json; charset=utf-8 8.5484ms
2025-05-22 19:36:17.294 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__client_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[conversation_id]
FROM [Participants] AS [p]
WHERE [p].[user_id] = @__client_UserId_0 AND [p].[is_deleted] = CAST(0 AS bit)
2025-05-22 19:36:17.295 +07:00 [INF] User 2 already subscribed to channel conversation:3
2025-05-22 19:36:17.295 +07:00 [INF] User 2 already subscribed to channel conversation:4
2025-05-22 19:36:17.295 +07:00 [INF] User 2 already subscribed to channel conversation:19
2025-05-22 19:36:17.295 +07:00 [INF] User 2 already subscribed to channel conversation:1
2025-05-22 19:36:17.295 +07:00 [INF] User 2 already subscribed to channel conversation:25
2025-05-22 19:36:17.295 +07:00 [INF] User 2 already subscribed to channel conversation:26
2025-05-22 19:36:17.295 +07:00 [INF] User 2 already subscribed to channel conversation:27
2025-05-22 19:36:17.295 +07:00 [INF] User 2 already subscribed to channel conversation:28
2025-05-22 19:36:17.295 +07:00 [INF] User 2 already subscribed to channel conversation:29
2025-05-22 19:36:17.295 +07:00 [INF] User 2 already subscribed to channel conversation:32
2025-05-22 19:36:17.295 +07:00 [INF] User 2 already subscribed to channel conversation:33
2025-05-22 19:36:17.295 +07:00 [INF] User 2 already subscribed to channel conversation:34
2025-05-22 19:36:17.295 +07:00 [INF] User 2 already subscribed to channel conversation:35
2025-05-22 19:36:17.295 +07:00 [INF] User 2 already subscribed to channel conversation:36
2025-05-22 19:36:17.295 +07:00 [INF] User 2 already subscribed to channel conversation:37
2025-05-22 19:36:17.295 +07:00 [INF] User 2 already subscribed to channel conversation:38
2025-05-22 19:36:17.295 +07:00 [INF] User 2 already subscribed to channel conversation:39
2025-05-22 19:36:17.295 +07:00 [INF] User 2 already subscribed to channel conversation:41
2025-05-22 19:36:17.295 +07:00 [INF] User 2 already subscribed to channel conversation:40
2025-05-22 19:36:17.295 +07:00 [INF] User 2 already subscribed to channel conversation:42
2025-05-22 19:36:17.295 +07:00 [INF] User 2 already subscribed to channel conversation:44
2025-05-22 19:36:17.295 +07:00 [INF] User 2 already subscribed to channel conversation:43
2025-05-22 19:36:17.295 +07:00 [INF] User 2 already subscribed to channel conversation:45
2025-05-22 19:39:38.805 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-22 19:39:38.822 +07:00 [ERR] An unhandled exception has occurred while executing the request.
System.Net.WebSockets.WebSocketException (0x80004005): The remote party closed the WebSocket connection without completing the close handshake.
   at System.Net.WebSockets.ManagedWebSocket.ThrowEOFUnexpected()
   at System.Net.WebSockets.ManagedWebSocket.EnsureBufferContainsAsync(Int32 minimumRequiredBytes, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.WebSockets.ManagedWebSocket.ReceiveAsyncPrivate[TResult](Memory`1 payloadBuffer, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at server.Services.WebSocketService.webSocket.Receiver(Client client) in C:\Users\Thao\source\Flutter\Message_app\server\Services\WebSocketService\websocket.cs:line 220
   at server.Services.WebSocketService.webSocket.HandleWebSocket(HttpContext context) in C:\Users\Thao\source\Flutter\Message_app\server\Services\WebSocketService\websocket.cs:line 203
   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() in C:\Users\Thao\source\Flutter\Message_app\server\Program.cs:line 107
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-05-22 19:39:38.961 +07:00 [WRN] The response has already started, the error page middleware will not be executed.
2025-05-22 19:39:38.968 +07:00 [ERR] Connection id "0HNCP5JECB56H", Request id "0HNCP5JECB56H:00000001": An unhandled exception was thrown by the application.
System.Net.WebSockets.WebSocketException (0x80004005): The remote party closed the WebSocket connection without completing the close handshake.
   at System.Net.WebSockets.ManagedWebSocket.ThrowEOFUnexpected()
   at System.Net.WebSockets.ManagedWebSocket.EnsureBufferContainsAsync(Int32 minimumRequiredBytes, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.WebSockets.ManagedWebSocket.ReceiveAsyncPrivate[TResult](Memory`1 payloadBuffer, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at server.Services.WebSocketService.webSocket.Receiver(Client client) in C:\Users\Thao\source\Flutter\Message_app\server\Services\WebSocketService\websocket.cs:line 220
   at server.Services.WebSocketService.webSocket.HandleWebSocket(HttpContext context) in C:\Users\Thao\source\Flutter\Message_app\server\Services\WebSocketService\websocket.cs:line 203
   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() in C:\Users\Thao\source\Flutter\Message_app\server\Program.cs:line 107
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-05-22 19:39:39.010 +07:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.5:5053/ws/chat?userId=2 - 101 null null 302603.0059ms
2025-05-22 20:03:24.412 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-22 20:03:24.415 +07:00 [ERR] An unhandled exception has occurred while executing the request.
StackExchange.Redis.RedisServerException: WRONGTYPE Operation against a key holding the wrong kind of value
   at server.Services.WebSocketService.webSocket.CleanupClient(Client client) in C:\Users\Thao\source\Flutter\Message_app\server\Services\WebSocketService\websocket.cs:line 547
   at server.Services.WebSocketService.webSocket.HandleWebSocket(HttpContext context) in C:\Users\Thao\source\Flutter\Message_app\server\Services\WebSocketService\websocket.cs:line 205
   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() in C:\Users\Thao\source\Flutter\Message_app\server\Program.cs:line 107
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-05-22 20:03:24.436 +07:00 [WRN] The response has already started, the error page middleware will not be executed.
2025-05-22 20:03:24.437 +07:00 [ERR] Connection id "0HNCP5JECB56Q", Request id "0HNCP5JECB56Q:00000001": An unhandled exception was thrown by the application.
StackExchange.Redis.RedisServerException: WRONGTYPE Operation against a key holding the wrong kind of value
   at server.Services.WebSocketService.webSocket.CleanupClient(Client client) in C:\Users\Thao\source\Flutter\Message_app\server\Services\WebSocketService\websocket.cs:line 547
   at server.Services.WebSocketService.webSocket.HandleWebSocket(HttpContext context) in C:\Users\Thao\source\Flutter\Message_app\server\Services\WebSocketService\websocket.cs:line 205
   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() in C:\Users\Thao\source\Flutter\Message_app\server\Program.cs:line 107
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-05-22 20:03:24.444 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=3 - 101 null null 1683878.1427ms
2025-05-22 20:04:48.508 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5053/api/Auth/login - null null
2025-05-22 20:04:48.524 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:04:48.535 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5053/api/Auth/login - 204 null null 24.6815ms
2025-05-22 20:04:48.536 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5053/api/Auth/login - application/json 60
2025-05-22 20:04:48.538 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:04:48.545 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:04:48.556 +07:00 [INF] Executing endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 20:04:48.570 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(server.DTO.AuthDTO.LoginDTO) on controller Message_app.Controllers.AuthController (Message_app).
2025-05-22 20:04:48.824 +07:00 [INF] Executed DbCommand (105ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[avatar_url], [u].[bio], [u].[birthday], [u].[created_at], [u].[email], [u].[fcmToken], [u].[gender], [u].[interests], [u].[location], [u].[password], [u].[passwordSalt], [u].[username]
FROM [Users] AS [u]
WHERE [u].[email] = @__email_0
2025-05-22 20:04:48.844 +07:00 [INF] Executing OkObjectResult, writing value of type 'server.DTO.AuthDTO.LoginRespose'.
2025-05-22 20:04:48.849 +07:00 [INF] Executed action Message_app.Controllers.AuthController.Login (Message_app) in 277.7691ms
2025-05-22 20:04:48.849 +07:00 [INF] Executed endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 20:04:48.850 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5053/api/Auth/login - 200 null application/json; charset=utf-8 313.5422ms
2025-05-22 20:04:48.877 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5053/ws/chat?userId=3 - null null
2025-05-22 20:04:48.883 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:04:48.884 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:04:48.884 +07:00 [INF] Executing endpoint '/ws/chat'
2025-05-22 20:04:48.927 +07:00 [INF] Executed DbCommand (25ms) [Parameters=[@__client_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[conversation_id]
FROM [Participants] AS [p]
WHERE [p].[user_id] = @__client_UserId_0 AND [p].[is_deleted] = CAST(0 AS bit)
2025-05-22 20:04:48.931 +07:00 [INF] User 3 subscribed to channel conversation:1
2025-05-22 20:04:48.931 +07:00 [INF] User 3 subscribed to channel conversation:2
2025-05-22 20:04:48.931 +07:00 [INF] User 3 subscribed to channel conversation:9
2025-05-22 20:04:48.932 +07:00 [INF] User 3 subscribed to channel conversation:19
2025-05-22 20:04:48.932 +07:00 [INF] User 3 subscribed to channel conversation:25
2025-05-22 20:04:48.932 +07:00 [INF] User 3 subscribed to channel conversation:26
2025-05-22 20:04:48.933 +07:00 [INF] User 3 subscribed to channel conversation:27
2025-05-22 20:04:48.933 +07:00 [INF] User 3 subscribed to channel conversation:28
2025-05-22 20:04:48.933 +07:00 [INF] User 3 subscribed to channel conversation:29
2025-05-22 20:04:48.933 +07:00 [INF] User 3 subscribed to channel conversation:32
2025-05-22 20:04:48.933 +07:00 [INF] User 3 subscribed to channel conversation:34
2025-05-22 20:04:48.933 +07:00 [INF] User 3 subscribed to channel conversation:35
2025-05-22 20:04:48.933 +07:00 [INF] User 3 subscribed to channel conversation:36
2025-05-22 20:04:48.933 +07:00 [INF] User 3 subscribed to channel conversation:37
2025-05-22 20:04:48.934 +07:00 [INF] User 3 subscribed to channel conversation:38
2025-05-22 20:04:48.934 +07:00 [INF] User 3 subscribed to channel conversation:39
2025-05-22 20:04:48.934 +07:00 [INF] User 3 subscribed to channel conversation:40
2025-05-22 20:04:48.934 +07:00 [INF] User 3 subscribed to channel conversation:42
2025-05-22 20:04:48.934 +07:00 [INF] User 3 subscribed to channel conversation:43
2025-05-22 20:04:48.934 +07:00 [INF] User 3 subscribed to channel conversation:44
2025-05-22 20:04:48.934 +07:00 [INF] User 3 subscribed to channel conversation:45
2025-05-22 20:05:10.081 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5053/api/Auth/login - null null
2025-05-22 20:05:10.081 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:05:10.081 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5053/api/Auth/login - 204 null null 0.763ms
2025-05-22 20:05:10.085 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5053/api/Auth/login - application/json 60
2025-05-22 20:05:10.085 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:05:10.086 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:05:10.086 +07:00 [INF] Executing endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 20:05:10.087 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(server.DTO.AuthDTO.LoginDTO) on controller Message_app.Controllers.AuthController (Message_app).
2025-05-22 20:05:10.117 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[avatar_url], [u].[bio], [u].[birthday], [u].[created_at], [u].[email], [u].[fcmToken], [u].[gender], [u].[interests], [u].[location], [u].[password], [u].[passwordSalt], [u].[username]
FROM [Users] AS [u]
WHERE [u].[email] = @__email_0
2025-05-22 20:05:10.119 +07:00 [INF] Executing OkObjectResult, writing value of type 'server.DTO.AuthDTO.LoginRespose'.
2025-05-22 20:05:10.122 +07:00 [INF] Executed action Message_app.Controllers.AuthController.Login (Message_app) in 35.4946ms
2025-05-22 20:05:10.123 +07:00 [INF] Executed endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 20:05:10.123 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5053/api/Auth/login - 200 null application/json; charset=utf-8 38.1869ms
2025-05-22 20:05:10.157 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__client_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[conversation_id]
FROM [Participants] AS [p]
WHERE [p].[user_id] = @__client_UserId_0 AND [p].[is_deleted] = CAST(0 AS bit)
2025-05-22 20:05:10.162 +07:00 [INF] User 3 already subscribed to channel conversation:1
2025-05-22 20:05:10.162 +07:00 [INF] User 3 already subscribed to channel conversation:2
2025-05-22 20:05:10.162 +07:00 [INF] User 3 already subscribed to channel conversation:9
2025-05-22 20:05:10.162 +07:00 [INF] User 3 already subscribed to channel conversation:19
2025-05-22 20:05:10.162 +07:00 [INF] User 3 already subscribed to channel conversation:25
2025-05-22 20:05:10.162 +07:00 [INF] User 3 already subscribed to channel conversation:26
2025-05-22 20:05:10.162 +07:00 [INF] User 3 already subscribed to channel conversation:27
2025-05-22 20:05:10.163 +07:00 [INF] User 3 already subscribed to channel conversation:28
2025-05-22 20:05:10.163 +07:00 [INF] User 3 already subscribed to channel conversation:29
2025-05-22 20:05:10.163 +07:00 [INF] User 3 already subscribed to channel conversation:32
2025-05-22 20:05:10.163 +07:00 [INF] User 3 already subscribed to channel conversation:34
2025-05-22 20:05:10.163 +07:00 [INF] User 3 already subscribed to channel conversation:35
2025-05-22 20:05:10.163 +07:00 [INF] User 3 already subscribed to channel conversation:36
2025-05-22 20:05:10.163 +07:00 [INF] User 3 already subscribed to channel conversation:37
2025-05-22 20:05:10.163 +07:00 [INF] User 3 already subscribed to channel conversation:38
2025-05-22 20:05:10.163 +07:00 [INF] User 3 already subscribed to channel conversation:39
2025-05-22 20:05:10.163 +07:00 [INF] User 3 already subscribed to channel conversation:40
2025-05-22 20:05:10.163 +07:00 [INF] User 3 already subscribed to channel conversation:42
2025-05-22 20:05:10.164 +07:00 [INF] User 3 already subscribed to channel conversation:43
2025-05-22 20:05:10.164 +07:00 [INF] User 3 already subscribed to channel conversation:44
2025-05-22 20:05:10.164 +07:00 [INF] User 3 already subscribed to channel conversation:45
2025-05-22 20:05:12.161 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5053/api/Auth/login - application/json 60
2025-05-22 20:05:12.161 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:05:12.162 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:05:12.162 +07:00 [INF] Executing endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 20:05:12.162 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(server.DTO.AuthDTO.LoginDTO) on controller Message_app.Controllers.AuthController (Message_app).
2025-05-22 20:05:12.168 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[avatar_url], [u].[bio], [u].[birthday], [u].[created_at], [u].[email], [u].[fcmToken], [u].[gender], [u].[interests], [u].[location], [u].[password], [u].[passwordSalt], [u].[username]
FROM [Users] AS [u]
WHERE [u].[email] = @__email_0
2025-05-22 20:05:12.169 +07:00 [INF] Executing OkObjectResult, writing value of type 'server.DTO.AuthDTO.LoginRespose'.
2025-05-22 20:05:12.169 +07:00 [INF] Executed action Message_app.Controllers.AuthController.Login (Message_app) in 6.876ms
2025-05-22 20:05:12.169 +07:00 [INF] Executed endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 20:05:12.170 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5053/api/Auth/login - 200 null application/json; charset=utf-8 8.3549ms
2025-05-22 20:05:12.179 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__client_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[conversation_id]
FROM [Participants] AS [p]
WHERE [p].[user_id] = @__client_UserId_0 AND [p].[is_deleted] = CAST(0 AS bit)
2025-05-22 20:05:12.180 +07:00 [INF] User 3 already subscribed to channel conversation:1
2025-05-22 20:05:12.180 +07:00 [INF] User 3 already subscribed to channel conversation:2
2025-05-22 20:05:12.180 +07:00 [INF] User 3 already subscribed to channel conversation:9
2025-05-22 20:05:12.180 +07:00 [INF] User 3 already subscribed to channel conversation:19
2025-05-22 20:05:12.180 +07:00 [INF] User 3 already subscribed to channel conversation:25
2025-05-22 20:05:12.180 +07:00 [INF] User 3 already subscribed to channel conversation:26
2025-05-22 20:05:12.180 +07:00 [INF] User 3 already subscribed to channel conversation:27
2025-05-22 20:05:12.180 +07:00 [INF] User 3 already subscribed to channel conversation:28
2025-05-22 20:05:12.180 +07:00 [INF] User 3 already subscribed to channel conversation:29
2025-05-22 20:05:12.180 +07:00 [INF] User 3 already subscribed to channel conversation:32
2025-05-22 20:05:12.180 +07:00 [INF] User 3 already subscribed to channel conversation:34
2025-05-22 20:05:12.180 +07:00 [INF] User 3 already subscribed to channel conversation:35
2025-05-22 20:05:12.180 +07:00 [INF] User 3 already subscribed to channel conversation:36
2025-05-22 20:05:12.180 +07:00 [INF] User 3 already subscribed to channel conversation:37
2025-05-22 20:05:12.181 +07:00 [INF] User 3 already subscribed to channel conversation:38
2025-05-22 20:05:12.181 +07:00 [INF] User 3 already subscribed to channel conversation:39
2025-05-22 20:05:12.181 +07:00 [INF] User 3 already subscribed to channel conversation:40
2025-05-22 20:05:12.181 +07:00 [INF] User 3 already subscribed to channel conversation:42
2025-05-22 20:05:12.181 +07:00 [INF] User 3 already subscribed to channel conversation:43
2025-05-22 20:05:12.181 +07:00 [INF] User 3 already subscribed to channel conversation:44
2025-05-22 20:05:12.181 +07:00 [INF] User 3 already subscribed to channel conversation:45
2025-05-22 20:05:12.404 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5053/api/Auth/login - application/json 60
2025-05-22 20:05:12.404 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:05:12.404 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:05:12.404 +07:00 [INF] Executing endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 20:05:12.405 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(server.DTO.AuthDTO.LoginDTO) on controller Message_app.Controllers.AuthController (Message_app).
2025-05-22 20:05:12.409 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[avatar_url], [u].[bio], [u].[birthday], [u].[created_at], [u].[email], [u].[fcmToken], [u].[gender], [u].[interests], [u].[location], [u].[password], [u].[passwordSalt], [u].[username]
FROM [Users] AS [u]
WHERE [u].[email] = @__email_0
2025-05-22 20:05:12.411 +07:00 [INF] Executing OkObjectResult, writing value of type 'server.DTO.AuthDTO.LoginRespose'.
2025-05-22 20:05:12.411 +07:00 [INF] Executed action Message_app.Controllers.AuthController.Login (Message_app) in 6.4107ms
2025-05-22 20:05:12.411 +07:00 [INF] Executed endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 20:05:12.411 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5053/api/Auth/login - 200 null application/json; charset=utf-8 7.4284ms
2025-05-22 20:05:12.429 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__client_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[conversation_id]
FROM [Participants] AS [p]
WHERE [p].[user_id] = @__client_UserId_0 AND [p].[is_deleted] = CAST(0 AS bit)
2025-05-22 20:05:12.429 +07:00 [INF] User 3 already subscribed to channel conversation:1
2025-05-22 20:05:12.429 +07:00 [INF] User 3 already subscribed to channel conversation:2
2025-05-22 20:05:12.429 +07:00 [INF] User 3 already subscribed to channel conversation:9
2025-05-22 20:05:12.429 +07:00 [INF] User 3 already subscribed to channel conversation:19
2025-05-22 20:05:12.429 +07:00 [INF] User 3 already subscribed to channel conversation:25
2025-05-22 20:05:12.429 +07:00 [INF] User 3 already subscribed to channel conversation:26
2025-05-22 20:05:12.429 +07:00 [INF] User 3 already subscribed to channel conversation:27
2025-05-22 20:05:12.429 +07:00 [INF] User 3 already subscribed to channel conversation:28
2025-05-22 20:05:12.429 +07:00 [INF] User 3 already subscribed to channel conversation:29
2025-05-22 20:05:12.430 +07:00 [INF] User 3 already subscribed to channel conversation:32
2025-05-22 20:05:12.430 +07:00 [INF] User 3 already subscribed to channel conversation:34
2025-05-22 20:05:12.430 +07:00 [INF] User 3 already subscribed to channel conversation:35
2025-05-22 20:05:12.430 +07:00 [INF] User 3 already subscribed to channel conversation:36
2025-05-22 20:05:12.430 +07:00 [INF] User 3 already subscribed to channel conversation:37
2025-05-22 20:05:12.430 +07:00 [INF] User 3 already subscribed to channel conversation:38
2025-05-22 20:05:12.430 +07:00 [INF] User 3 already subscribed to channel conversation:39
2025-05-22 20:05:12.430 +07:00 [INF] User 3 already subscribed to channel conversation:40
2025-05-22 20:05:12.430 +07:00 [INF] User 3 already subscribed to channel conversation:42
2025-05-22 20:05:12.430 +07:00 [INF] User 3 already subscribed to channel conversation:43
2025-05-22 20:05:12.431 +07:00 [INF] User 3 already subscribed to channel conversation:44
2025-05-22 20:05:12.431 +07:00 [INF] User 3 already subscribed to channel conversation:45
2025-05-22 20:05:12.524 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5053/api/Auth/login - application/json 60
2025-05-22 20:05:12.524 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:05:12.524 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:05:12.540 +07:00 [INF] Executing endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 20:05:12.540 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(server.DTO.AuthDTO.LoginDTO) on controller Message_app.Controllers.AuthController (Message_app).
2025-05-22 20:05:12.554 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[avatar_url], [u].[bio], [u].[birthday], [u].[created_at], [u].[email], [u].[fcmToken], [u].[gender], [u].[interests], [u].[location], [u].[password], [u].[passwordSalt], [u].[username]
FROM [Users] AS [u]
WHERE [u].[email] = @__email_0
2025-05-22 20:05:12.555 +07:00 [INF] Executing OkObjectResult, writing value of type 'server.DTO.AuthDTO.LoginRespose'.
2025-05-22 20:05:12.555 +07:00 [INF] Executed action Message_app.Controllers.AuthController.Login (Message_app) in 6.527ms
2025-05-22 20:05:12.555 +07:00 [INF] Executed endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 20:05:12.556 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5053/api/Auth/login - 200 null application/json; charset=utf-8 31.6622ms
2025-05-22 20:05:12.584 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__client_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[conversation_id]
FROM [Participants] AS [p]
WHERE [p].[user_id] = @__client_UserId_0 AND [p].[is_deleted] = CAST(0 AS bit)
2025-05-22 20:05:12.585 +07:00 [INF] User 3 already subscribed to channel conversation:1
2025-05-22 20:05:12.585 +07:00 [INF] User 3 already subscribed to channel conversation:2
2025-05-22 20:05:12.585 +07:00 [INF] User 3 already subscribed to channel conversation:9
2025-05-22 20:05:12.585 +07:00 [INF] User 3 already subscribed to channel conversation:19
2025-05-22 20:05:12.585 +07:00 [INF] User 3 already subscribed to channel conversation:25
2025-05-22 20:05:12.585 +07:00 [INF] User 3 already subscribed to channel conversation:26
2025-05-22 20:05:12.585 +07:00 [INF] User 3 already subscribed to channel conversation:27
2025-05-22 20:05:12.585 +07:00 [INF] User 3 already subscribed to channel conversation:28
2025-05-22 20:05:12.585 +07:00 [INF] User 3 already subscribed to channel conversation:29
2025-05-22 20:05:12.585 +07:00 [INF] User 3 already subscribed to channel conversation:32
2025-05-22 20:05:12.585 +07:00 [INF] User 3 already subscribed to channel conversation:34
2025-05-22 20:05:12.585 +07:00 [INF] User 3 already subscribed to channel conversation:35
2025-05-22 20:05:12.585 +07:00 [INF] User 3 already subscribed to channel conversation:36
2025-05-22 20:05:12.585 +07:00 [INF] User 3 already subscribed to channel conversation:37
2025-05-22 20:05:12.585 +07:00 [INF] User 3 already subscribed to channel conversation:38
2025-05-22 20:05:12.585 +07:00 [INF] User 3 already subscribed to channel conversation:39
2025-05-22 20:05:12.585 +07:00 [INF] User 3 already subscribed to channel conversation:40
2025-05-22 20:05:12.585 +07:00 [INF] User 3 already subscribed to channel conversation:42
2025-05-22 20:05:12.585 +07:00 [INF] User 3 already subscribed to channel conversation:43
2025-05-22 20:05:12.585 +07:00 [INF] User 3 already subscribed to channel conversation:44
2025-05-22 20:05:12.585 +07:00 [INF] User 3 already subscribed to channel conversation:45
2025-05-22 20:05:12.754 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5053/api/Auth/login - application/json 60
2025-05-22 20:05:12.754 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:05:12.755 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:05:12.755 +07:00 [INF] Executing endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 20:05:12.755 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(server.DTO.AuthDTO.LoginDTO) on controller Message_app.Controllers.AuthController (Message_app).
2025-05-22 20:05:12.759 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[avatar_url], [u].[bio], [u].[birthday], [u].[created_at], [u].[email], [u].[fcmToken], [u].[gender], [u].[interests], [u].[location], [u].[password], [u].[passwordSalt], [u].[username]
FROM [Users] AS [u]
WHERE [u].[email] = @__email_0
2025-05-22 20:05:12.760 +07:00 [INF] Executing OkObjectResult, writing value of type 'server.DTO.AuthDTO.LoginRespose'.
2025-05-22 20:05:12.761 +07:00 [INF] Executed action Message_app.Controllers.AuthController.Login (Message_app) in 5.2566ms
2025-05-22 20:05:12.761 +07:00 [INF] Executed endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 20:05:12.761 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5053/api/Auth/login - 200 null application/json; charset=utf-8 6.5607ms
2025-05-22 20:05:12.783 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__client_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[conversation_id]
FROM [Participants] AS [p]
WHERE [p].[user_id] = @__client_UserId_0 AND [p].[is_deleted] = CAST(0 AS bit)
2025-05-22 20:05:12.783 +07:00 [INF] User 3 already subscribed to channel conversation:1
2025-05-22 20:05:12.783 +07:00 [INF] User 3 already subscribed to channel conversation:2
2025-05-22 20:05:12.783 +07:00 [INF] User 3 already subscribed to channel conversation:9
2025-05-22 20:05:12.783 +07:00 [INF] User 3 already subscribed to channel conversation:19
2025-05-22 20:05:12.784 +07:00 [INF] User 3 already subscribed to channel conversation:25
2025-05-22 20:05:12.784 +07:00 [INF] User 3 already subscribed to channel conversation:26
2025-05-22 20:05:12.784 +07:00 [INF] User 3 already subscribed to channel conversation:27
2025-05-22 20:05:12.784 +07:00 [INF] User 3 already subscribed to channel conversation:28
2025-05-22 20:05:12.784 +07:00 [INF] User 3 already subscribed to channel conversation:29
2025-05-22 20:05:12.784 +07:00 [INF] User 3 already subscribed to channel conversation:32
2025-05-22 20:05:12.784 +07:00 [INF] User 3 already subscribed to channel conversation:34
2025-05-22 20:05:12.784 +07:00 [INF] User 3 already subscribed to channel conversation:35
2025-05-22 20:05:12.784 +07:00 [INF] User 3 already subscribed to channel conversation:36
2025-05-22 20:05:12.784 +07:00 [INF] User 3 already subscribed to channel conversation:37
2025-05-22 20:05:12.784 +07:00 [INF] User 3 already subscribed to channel conversation:38
2025-05-22 20:05:12.784 +07:00 [INF] User 3 already subscribed to channel conversation:39
2025-05-22 20:05:12.784 +07:00 [INF] User 3 already subscribed to channel conversation:40
2025-05-22 20:05:12.784 +07:00 [INF] User 3 already subscribed to channel conversation:42
2025-05-22 20:05:12.784 +07:00 [INF] User 3 already subscribed to channel conversation:43
2025-05-22 20:05:12.784 +07:00 [INF] User 3 already subscribed to channel conversation:44
2025-05-22 20:05:12.784 +07:00 [INF] User 3 already subscribed to channel conversation:45
2025-05-22 20:05:12.889 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5053/api/Auth/login - application/json 60
2025-05-22 20:05:12.889 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:05:12.889 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:05:12.890 +07:00 [INF] Executing endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 20:05:12.890 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(server.DTO.AuthDTO.LoginDTO) on controller Message_app.Controllers.AuthController (Message_app).
2025-05-22 20:05:12.895 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[avatar_url], [u].[bio], [u].[birthday], [u].[created_at], [u].[email], [u].[fcmToken], [u].[gender], [u].[interests], [u].[location], [u].[password], [u].[passwordSalt], [u].[username]
FROM [Users] AS [u]
WHERE [u].[email] = @__email_0
2025-05-22 20:05:12.896 +07:00 [INF] Executing OkObjectResult, writing value of type 'server.DTO.AuthDTO.LoginRespose'.
2025-05-22 20:05:12.897 +07:00 [INF] Executed action Message_app.Controllers.AuthController.Login (Message_app) in 7.0046ms
2025-05-22 20:05:12.897 +07:00 [INF] Executed endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 20:05:12.897 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5053/api/Auth/login - 200 null application/json; charset=utf-8 8.1974ms
2025-05-22 20:05:12.916 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__client_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[conversation_id]
FROM [Participants] AS [p]
WHERE [p].[user_id] = @__client_UserId_0 AND [p].[is_deleted] = CAST(0 AS bit)
2025-05-22 20:05:12.916 +07:00 [INF] User 3 already subscribed to channel conversation:1
2025-05-22 20:05:12.917 +07:00 [INF] User 3 already subscribed to channel conversation:2
2025-05-22 20:05:12.917 +07:00 [INF] User 3 already subscribed to channel conversation:9
2025-05-22 20:05:12.917 +07:00 [INF] User 3 already subscribed to channel conversation:19
2025-05-22 20:05:12.917 +07:00 [INF] User 3 already subscribed to channel conversation:25
2025-05-22 20:05:12.917 +07:00 [INF] User 3 already subscribed to channel conversation:26
2025-05-22 20:05:12.917 +07:00 [INF] User 3 already subscribed to channel conversation:27
2025-05-22 20:05:12.917 +07:00 [INF] User 3 already subscribed to channel conversation:28
2025-05-22 20:05:12.917 +07:00 [INF] User 3 already subscribed to channel conversation:29
2025-05-22 20:05:12.917 +07:00 [INF] User 3 already subscribed to channel conversation:32
2025-05-22 20:05:12.917 +07:00 [INF] User 3 already subscribed to channel conversation:34
2025-05-22 20:05:12.917 +07:00 [INF] User 3 already subscribed to channel conversation:35
2025-05-22 20:05:12.917 +07:00 [INF] User 3 already subscribed to channel conversation:36
2025-05-22 20:05:12.917 +07:00 [INF] User 3 already subscribed to channel conversation:37
2025-05-22 20:05:12.917 +07:00 [INF] User 3 already subscribed to channel conversation:38
2025-05-22 20:05:12.917 +07:00 [INF] User 3 already subscribed to channel conversation:39
2025-05-22 20:05:12.917 +07:00 [INF] User 3 already subscribed to channel conversation:40
2025-05-22 20:05:12.917 +07:00 [INF] User 3 already subscribed to channel conversation:42
2025-05-22 20:05:12.917 +07:00 [INF] User 3 already subscribed to channel conversation:43
2025-05-22 20:05:12.917 +07:00 [INF] User 3 already subscribed to channel conversation:44
2025-05-22 20:05:12.918 +07:00 [INF] User 3 already subscribed to channel conversation:45
2025-05-22 20:05:13.046 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5053/api/Auth/login - application/json 60
2025-05-22 20:05:13.047 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:05:13.048 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:05:13.048 +07:00 [INF] Executing endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 20:05:13.049 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(server.DTO.AuthDTO.LoginDTO) on controller Message_app.Controllers.AuthController (Message_app).
2025-05-22 20:05:13.052 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[avatar_url], [u].[bio], [u].[birthday], [u].[created_at], [u].[email], [u].[fcmToken], [u].[gender], [u].[interests], [u].[location], [u].[password], [u].[passwordSalt], [u].[username]
FROM [Users] AS [u]
WHERE [u].[email] = @__email_0
2025-05-22 20:05:13.053 +07:00 [INF] Executing OkObjectResult, writing value of type 'server.DTO.AuthDTO.LoginRespose'.
2025-05-22 20:05:13.054 +07:00 [INF] Executed action Message_app.Controllers.AuthController.Login (Message_app) in 4.9723ms
2025-05-22 20:05:13.054 +07:00 [INF] Executed endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 20:05:13.054 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5053/api/Auth/login - 200 null application/json; charset=utf-8 8.3418ms
2025-05-22 20:05:13.071 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__client_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[conversation_id]
FROM [Participants] AS [p]
WHERE [p].[user_id] = @__client_UserId_0 AND [p].[is_deleted] = CAST(0 AS bit)
2025-05-22 20:05:13.072 +07:00 [INF] User 3 already subscribed to channel conversation:1
2025-05-22 20:05:13.072 +07:00 [INF] User 3 already subscribed to channel conversation:2
2025-05-22 20:05:13.072 +07:00 [INF] User 3 already subscribed to channel conversation:9
2025-05-22 20:05:13.072 +07:00 [INF] User 3 already subscribed to channel conversation:19
2025-05-22 20:05:13.072 +07:00 [INF] User 3 already subscribed to channel conversation:25
2025-05-22 20:05:13.072 +07:00 [INF] User 3 already subscribed to channel conversation:26
2025-05-22 20:05:13.072 +07:00 [INF] User 3 already subscribed to channel conversation:27
2025-05-22 20:05:13.072 +07:00 [INF] User 3 already subscribed to channel conversation:28
2025-05-22 20:05:13.072 +07:00 [INF] User 3 already subscribed to channel conversation:29
2025-05-22 20:05:13.072 +07:00 [INF] User 3 already subscribed to channel conversation:32
2025-05-22 20:05:13.073 +07:00 [INF] User 3 already subscribed to channel conversation:34
2025-05-22 20:05:13.073 +07:00 [INF] User 3 already subscribed to channel conversation:35
2025-05-22 20:05:13.074 +07:00 [INF] User 3 already subscribed to channel conversation:36
2025-05-22 20:05:13.074 +07:00 [INF] User 3 already subscribed to channel conversation:37
2025-05-22 20:05:13.074 +07:00 [INF] User 3 already subscribed to channel conversation:38
2025-05-22 20:05:13.074 +07:00 [INF] User 3 already subscribed to channel conversation:39
2025-05-22 20:05:13.074 +07:00 [INF] User 3 already subscribed to channel conversation:40
2025-05-22 20:05:13.074 +07:00 [INF] User 3 already subscribed to channel conversation:42
2025-05-22 20:05:13.074 +07:00 [INF] User 3 already subscribed to channel conversation:43
2025-05-22 20:05:13.074 +07:00 [INF] User 3 already subscribed to channel conversation:44
2025-05-22 20:05:13.074 +07:00 [INF] User 3 already subscribed to channel conversation:45
2025-05-22 20:05:13.211 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5053/api/Auth/login - application/json 60
2025-05-22 20:05:13.214 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:05:13.216 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:05:13.216 +07:00 [INF] Executing endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 20:05:13.216 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(server.DTO.AuthDTO.LoginDTO) on controller Message_app.Controllers.AuthController (Message_app).
2025-05-22 20:05:13.241 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[avatar_url], [u].[bio], [u].[birthday], [u].[created_at], [u].[email], [u].[fcmToken], [u].[gender], [u].[interests], [u].[location], [u].[password], [u].[passwordSalt], [u].[username]
FROM [Users] AS [u]
WHERE [u].[email] = @__email_0
2025-05-22 20:05:13.257 +07:00 [INF] Executing OkObjectResult, writing value of type 'server.DTO.AuthDTO.LoginRespose'.
2025-05-22 20:05:13.258 +07:00 [INF] Executed action Message_app.Controllers.AuthController.Login (Message_app) in 41.1844ms
2025-05-22 20:05:13.258 +07:00 [INF] Executed endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 20:05:13.258 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5053/api/Auth/login - 200 null application/json; charset=utf-8 46.7159ms
2025-05-22 20:05:13.454 +07:00 [INF] Executed DbCommand (30ms) [Parameters=[@__client_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[conversation_id]
FROM [Participants] AS [p]
WHERE [p].[user_id] = @__client_UserId_0 AND [p].[is_deleted] = CAST(0 AS bit)
2025-05-22 20:05:13.454 +07:00 [INF] User 3 already subscribed to channel conversation:1
2025-05-22 20:05:13.454 +07:00 [INF] User 3 already subscribed to channel conversation:2
2025-05-22 20:05:13.454 +07:00 [INF] User 3 already subscribed to channel conversation:9
2025-05-22 20:05:13.454 +07:00 [INF] User 3 already subscribed to channel conversation:19
2025-05-22 20:05:13.454 +07:00 [INF] User 3 already subscribed to channel conversation:25
2025-05-22 20:05:13.454 +07:00 [INF] User 3 already subscribed to channel conversation:26
2025-05-22 20:05:13.455 +07:00 [INF] User 3 already subscribed to channel conversation:27
2025-05-22 20:05:13.455 +07:00 [INF] User 3 already subscribed to channel conversation:28
2025-05-22 20:05:13.455 +07:00 [INF] User 3 already subscribed to channel conversation:29
2025-05-22 20:05:13.455 +07:00 [INF] User 3 already subscribed to channel conversation:32
2025-05-22 20:05:13.455 +07:00 [INF] User 3 already subscribed to channel conversation:34
2025-05-22 20:05:13.455 +07:00 [INF] User 3 already subscribed to channel conversation:35
2025-05-22 20:05:13.455 +07:00 [INF] User 3 already subscribed to channel conversation:36
2025-05-22 20:05:13.455 +07:00 [INF] User 3 already subscribed to channel conversation:37
2025-05-22 20:05:13.455 +07:00 [INF] User 3 already subscribed to channel conversation:38
2025-05-22 20:05:13.455 +07:00 [INF] User 3 already subscribed to channel conversation:39
2025-05-22 20:05:13.455 +07:00 [INF] User 3 already subscribed to channel conversation:40
2025-05-22 20:05:13.455 +07:00 [INF] User 3 already subscribed to channel conversation:42
2025-05-22 20:05:13.455 +07:00 [INF] User 3 already subscribed to channel conversation:43
2025-05-22 20:05:13.455 +07:00 [INF] User 3 already subscribed to channel conversation:44
2025-05-22 20:05:13.455 +07:00 [INF] User 3 already subscribed to channel conversation:45
2025-05-22 20:05:13.487 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5053/api/Auth/login - application/json 60
2025-05-22 20:05:13.488 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:05:13.488 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:05:13.490 +07:00 [INF] Executing endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 20:05:13.490 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(server.DTO.AuthDTO.LoginDTO) on controller Message_app.Controllers.AuthController (Message_app).
2025-05-22 20:05:13.541 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5053/api/Auth/login - application/json 60
2025-05-22 20:05:13.541 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:05:13.541 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:05:13.541 +07:00 [INF] Executing endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 20:05:13.542 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(server.DTO.AuthDTO.LoginDTO) on controller Message_app.Controllers.AuthController (Message_app).
2025-05-22 20:05:13.608 +07:00 [INF] Executed DbCommand (111ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[avatar_url], [u].[bio], [u].[birthday], [u].[created_at], [u].[email], [u].[fcmToken], [u].[gender], [u].[interests], [u].[location], [u].[password], [u].[passwordSalt], [u].[username]
FROM [Users] AS [u]
WHERE [u].[email] = @__email_0
2025-05-22 20:05:13.612 +07:00 [INF] Executing OkObjectResult, writing value of type 'server.DTO.AuthDTO.LoginRespose'.
2025-05-22 20:05:13.612 +07:00 [INF] Executed action Message_app.Controllers.AuthController.Login (Message_app) in 121.6374ms
2025-05-22 20:05:13.612 +07:00 [INF] Executed endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 20:05:13.612 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5053/api/Auth/login - 200 null application/json; charset=utf-8 124.9564ms
2025-05-22 20:05:13.695 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5053/api/Auth/login - application/json 60
2025-05-22 20:05:13.696 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:05:13.698 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:05:13.698 +07:00 [INF] Executing endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 20:05:13.700 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(server.DTO.AuthDTO.LoginDTO) on controller Message_app.Controllers.AuthController (Message_app).
2025-05-22 20:05:13.701 +07:00 [INF] Executed DbCommand (46ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[avatar_url], [u].[bio], [u].[birthday], [u].[created_at], [u].[email], [u].[fcmToken], [u].[gender], [u].[interests], [u].[location], [u].[password], [u].[passwordSalt], [u].[username]
FROM [Users] AS [u]
WHERE [u].[email] = @__email_0
2025-05-22 20:05:13.703 +07:00 [INF] Executing OkObjectResult, writing value of type 'server.DTO.AuthDTO.LoginRespose'.
2025-05-22 20:05:13.704 +07:00 [INF] Executed action Message_app.Controllers.AuthController.Login (Message_app) in 162.0177ms
2025-05-22 20:05:13.704 +07:00 [INF] Executed endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 20:05:13.704 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5053/api/Auth/login - 200 null application/json; charset=utf-8 162.8815ms
2025-05-22 20:05:13.707 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[avatar_url], [u].[bio], [u].[birthday], [u].[created_at], [u].[email], [u].[fcmToken], [u].[gender], [u].[interests], [u].[location], [u].[password], [u].[passwordSalt], [u].[username]
FROM [Users] AS [u]
WHERE [u].[email] = @__email_0
2025-05-22 20:05:13.707 +07:00 [INF] Executing OkObjectResult, writing value of type 'server.DTO.AuthDTO.LoginRespose'.
2025-05-22 20:05:13.708 +07:00 [INF] Executed action Message_app.Controllers.AuthController.Login (Message_app) in 7.4895ms
2025-05-22 20:05:13.708 +07:00 [INF] Executed endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 20:05:13.708 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5053/api/Auth/login - 200 null application/json; charset=utf-8 12.5223ms
2025-05-22 20:05:13.923 +07:00 [INF] Executed DbCommand (43ms) [Parameters=[@__client_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[conversation_id]
FROM [Participants] AS [p]
WHERE [p].[user_id] = @__client_UserId_0 AND [p].[is_deleted] = CAST(0 AS bit)
2025-05-22 20:05:13.923 +07:00 [INF] User 3 already subscribed to channel conversation:1
2025-05-22 20:05:13.923 +07:00 [INF] User 3 already subscribed to channel conversation:2
2025-05-22 20:05:13.926 +07:00 [INF] User 3 already subscribed to channel conversation:9
2025-05-22 20:05:13.926 +07:00 [INF] User 3 already subscribed to channel conversation:19
2025-05-22 20:05:13.926 +07:00 [INF] User 3 already subscribed to channel conversation:25
2025-05-22 20:05:13.927 +07:00 [INF] User 3 already subscribed to channel conversation:26
2025-05-22 20:05:13.927 +07:00 [INF] User 3 already subscribed to channel conversation:27
2025-05-22 20:05:13.927 +07:00 [INF] User 3 already subscribed to channel conversation:28
2025-05-22 20:05:13.928 +07:00 [INF] User 3 already subscribed to channel conversation:29
2025-05-22 20:05:13.928 +07:00 [INF] User 3 already subscribed to channel conversation:32
2025-05-22 20:05:13.928 +07:00 [INF] User 3 already subscribed to channel conversation:34
2025-05-22 20:05:13.928 +07:00 [INF] User 3 already subscribed to channel conversation:35
2025-05-22 20:05:13.928 +07:00 [INF] User 3 already subscribed to channel conversation:36
2025-05-22 20:05:13.928 +07:00 [INF] User 3 already subscribed to channel conversation:37
2025-05-22 20:05:13.928 +07:00 [INF] User 3 already subscribed to channel conversation:38
2025-05-22 20:05:13.928 +07:00 [INF] User 3 already subscribed to channel conversation:39
2025-05-22 20:05:13.928 +07:00 [INF] User 3 already subscribed to channel conversation:40
2025-05-22 20:05:13.928 +07:00 [INF] User 3 already subscribed to channel conversation:42
2025-05-22 20:05:13.928 +07:00 [INF] User 3 already subscribed to channel conversation:43
2025-05-22 20:05:13.928 +07:00 [INF] User 3 already subscribed to channel conversation:44
2025-05-22 20:05:13.928 +07:00 [INF] User 3 already subscribed to channel conversation:45
2025-05-22 20:05:14.053 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__client_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[conversation_id]
FROM [Participants] AS [p]
WHERE [p].[user_id] = @__client_UserId_0 AND [p].[is_deleted] = CAST(0 AS bit)
2025-05-22 20:05:14.053 +07:00 [INF] User 3 already subscribed to channel conversation:1
2025-05-22 20:05:14.053 +07:00 [INF] User 3 already subscribed to channel conversation:2
2025-05-22 20:05:14.053 +07:00 [INF] User 3 already subscribed to channel conversation:9
2025-05-22 20:05:14.053 +07:00 [INF] User 3 already subscribed to channel conversation:19
2025-05-22 20:05:14.053 +07:00 [INF] User 3 already subscribed to channel conversation:25
2025-05-22 20:05:14.053 +07:00 [INF] User 3 already subscribed to channel conversation:26
2025-05-22 20:05:14.053 +07:00 [INF] User 3 already subscribed to channel conversation:27
2025-05-22 20:05:14.053 +07:00 [INF] User 3 already subscribed to channel conversation:28
2025-05-22 20:05:14.053 +07:00 [INF] User 3 already subscribed to channel conversation:29
2025-05-22 20:05:14.053 +07:00 [INF] User 3 already subscribed to channel conversation:32
2025-05-22 20:05:14.053 +07:00 [INF] User 3 already subscribed to channel conversation:34
2025-05-22 20:05:14.053 +07:00 [INF] User 3 already subscribed to channel conversation:35
2025-05-22 20:05:14.053 +07:00 [INF] User 3 already subscribed to channel conversation:36
2025-05-22 20:05:14.053 +07:00 [INF] User 3 already subscribed to channel conversation:37
2025-05-22 20:05:14.053 +07:00 [INF] User 3 already subscribed to channel conversation:38
2025-05-22 20:05:14.053 +07:00 [INF] User 3 already subscribed to channel conversation:39
2025-05-22 20:05:14.053 +07:00 [INF] User 3 already subscribed to channel conversation:40
2025-05-22 20:05:14.053 +07:00 [INF] User 3 already subscribed to channel conversation:42
2025-05-22 20:05:14.054 +07:00 [INF] User 3 already subscribed to channel conversation:43
2025-05-22 20:05:14.054 +07:00 [INF] User 3 already subscribed to channel conversation:44
2025-05-22 20:05:14.054 +07:00 [INF] User 3 already subscribed to channel conversation:45
2025-05-22 20:05:14.069 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5053/api/Auth/login - application/json 60
2025-05-22 20:05:14.069 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:05:14.069 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:05:14.070 +07:00 [INF] Executing endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 20:05:14.070 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(server.DTO.AuthDTO.LoginDTO) on controller Message_app.Controllers.AuthController (Message_app).
2025-05-22 20:05:14.070 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5053/api/Auth/login - application/json 60
2025-05-22 20:05:14.071 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:05:14.074 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:05:14.074 +07:00 [INF] Executing endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 20:05:14.075 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(server.DTO.AuthDTO.LoginDTO) on controller Message_app.Controllers.AuthController (Message_app).
2025-05-22 20:05:14.074 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__client_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[conversation_id]
FROM [Participants] AS [p]
WHERE [p].[user_id] = @__client_UserId_0 AND [p].[is_deleted] = CAST(0 AS bit)
2025-05-22 20:05:14.078 +07:00 [INF] User 3 already subscribed to channel conversation:1
2025-05-22 20:05:14.078 +07:00 [INF] User 3 already subscribed to channel conversation:2
2025-05-22 20:05:14.078 +07:00 [INF] User 3 already subscribed to channel conversation:9
2025-05-22 20:05:14.078 +07:00 [INF] User 3 already subscribed to channel conversation:19
2025-05-22 20:05:14.078 +07:00 [INF] User 3 already subscribed to channel conversation:25
2025-05-22 20:05:14.078 +07:00 [INF] User 3 already subscribed to channel conversation:26
2025-05-22 20:05:14.078 +07:00 [INF] User 3 already subscribed to channel conversation:27
2025-05-22 20:05:14.078 +07:00 [INF] User 3 already subscribed to channel conversation:28
2025-05-22 20:05:14.078 +07:00 [INF] User 3 already subscribed to channel conversation:29
2025-05-22 20:05:14.079 +07:00 [INF] User 3 already subscribed to channel conversation:32
2025-05-22 20:05:14.079 +07:00 [INF] User 3 already subscribed to channel conversation:34
2025-05-22 20:05:14.079 +07:00 [INF] User 3 already subscribed to channel conversation:35
2025-05-22 20:05:14.079 +07:00 [INF] User 3 already subscribed to channel conversation:36
2025-05-22 20:05:14.079 +07:00 [INF] User 3 already subscribed to channel conversation:37
2025-05-22 20:05:14.079 +07:00 [INF] User 3 already subscribed to channel conversation:38
2025-05-22 20:05:14.079 +07:00 [INF] User 3 already subscribed to channel conversation:39
2025-05-22 20:05:14.084 +07:00 [INF] User 3 already subscribed to channel conversation:40
2025-05-22 20:05:14.085 +07:00 [INF] User 3 already subscribed to channel conversation:42
2025-05-22 20:05:14.085 +07:00 [INF] User 3 already subscribed to channel conversation:43
2025-05-22 20:05:14.085 +07:00 [INF] User 3 already subscribed to channel conversation:44
2025-05-22 20:05:14.085 +07:00 [INF] User 3 already subscribed to channel conversation:45
2025-05-22 20:05:14.148 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5053/api/Auth/login - application/json 60
2025-05-22 20:05:14.149 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:05:14.149 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:05:14.149 +07:00 [INF] Executing endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 20:05:14.149 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(server.DTO.AuthDTO.LoginDTO) on controller Message_app.Controllers.AuthController (Message_app).
2025-05-22 20:05:14.262 +07:00 [INF] Executed DbCommand (179ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[avatar_url], [u].[bio], [u].[birthday], [u].[created_at], [u].[email], [u].[fcmToken], [u].[gender], [u].[interests], [u].[location], [u].[password], [u].[passwordSalt], [u].[username]
FROM [Users] AS [u]
WHERE [u].[email] = @__email_0
2025-05-22 20:05:14.264 +07:00 [INF] Executing OkObjectResult, writing value of type 'server.DTO.AuthDTO.LoginRespose'.
2025-05-22 20:05:14.264 +07:00 [INF] Executed action Message_app.Controllers.AuthController.Login (Message_app) in 189.7877ms
2025-05-22 20:05:14.265 +07:00 [INF] Executed endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 20:05:14.265 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5053/api/Auth/login - 200 null application/json; charset=utf-8 194.5083ms
2025-05-22 20:05:14.266 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5053/api/Auth/login - application/json 60
2025-05-22 20:05:14.266 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:05:14.266 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:05:14.266 +07:00 [INF] Executing endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 20:05:14.266 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(server.DTO.AuthDTO.LoginDTO) on controller Message_app.Controllers.AuthController (Message_app).
2025-05-22 20:05:14.285 +07:00 [INF] Executed DbCommand (209ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[avatar_url], [u].[bio], [u].[birthday], [u].[created_at], [u].[email], [u].[fcmToken], [u].[gender], [u].[interests], [u].[location], [u].[password], [u].[passwordSalt], [u].[username]
FROM [Users] AS [u]
WHERE [u].[email] = @__email_0
2025-05-22 20:05:14.286 +07:00 [INF] Executing OkObjectResult, writing value of type 'server.DTO.AuthDTO.LoginRespose'.
2025-05-22 20:05:14.286 +07:00 [INF] Executed action Message_app.Controllers.AuthController.Login (Message_app) in 215.8949ms
2025-05-22 20:05:14.286 +07:00 [INF] Executed endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 20:05:14.286 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5053/api/Auth/login - 200 null application/json; charset=utf-8 217.0268ms
2025-05-22 20:05:14.291 +07:00 [INF] Executed DbCommand (16ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[avatar_url], [u].[bio], [u].[birthday], [u].[created_at], [u].[email], [u].[fcmToken], [u].[gender], [u].[interests], [u].[location], [u].[password], [u].[passwordSalt], [u].[username]
FROM [Users] AS [u]
WHERE [u].[email] = @__email_0
2025-05-22 20:05:14.298 +07:00 [INF] Executing OkObjectResult, writing value of type 'server.DTO.AuthDTO.LoginRespose'.
2025-05-22 20:05:14.298 +07:00 [INF] Executed action Message_app.Controllers.AuthController.Login (Message_app) in 32.1055ms
2025-05-22 20:05:14.298 +07:00 [INF] Executed endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 20:05:14.299 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5053/api/Auth/login - 200 null application/json; charset=utf-8 32.9303ms
2025-05-22 20:05:14.300 +07:00 [INF] Executed DbCommand (51ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[avatar_url], [u].[bio], [u].[birthday], [u].[created_at], [u].[email], [u].[fcmToken], [u].[gender], [u].[interests], [u].[location], [u].[password], [u].[passwordSalt], [u].[username]
FROM [Users] AS [u]
WHERE [u].[email] = @__email_0
2025-05-22 20:05:14.304 +07:00 [INF] Executing OkObjectResult, writing value of type 'server.DTO.AuthDTO.LoginRespose'.
2025-05-22 20:05:14.304 +07:00 [INF] Executed action Message_app.Controllers.AuthController.Login (Message_app) in 155.4506ms
2025-05-22 20:05:14.304 +07:00 [INF] Executed endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 20:05:14.305 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5053/api/Auth/login - 200 null application/json; charset=utf-8 156.4503ms
2025-05-22 20:05:14.382 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5053/api/Auth/login - application/json 60
2025-05-22 20:05:14.382 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:05:14.383 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:05:14.383 +07:00 [INF] Executing endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 20:05:14.383 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(server.DTO.AuthDTO.LoginDTO) on controller Message_app.Controllers.AuthController (Message_app).
2025-05-22 20:05:14.450 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5053/api/Auth/login - application/json 60
2025-05-22 20:05:14.450 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:05:14.450 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:05:14.450 +07:00 [INF] Executing endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 20:05:14.453 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(server.DTO.AuthDTO.LoginDTO) on controller Message_app.Controllers.AuthController (Message_app).
2025-05-22 20:05:14.475 +07:00 [INF] Executed DbCommand (19ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[avatar_url], [u].[bio], [u].[birthday], [u].[created_at], [u].[email], [u].[fcmToken], [u].[gender], [u].[interests], [u].[location], [u].[password], [u].[passwordSalt], [u].[username]
FROM [Users] AS [u]
WHERE [u].[email] = @__email_0
2025-05-22 20:05:14.479 +07:00 [INF] Executing OkObjectResult, writing value of type 'server.DTO.AuthDTO.LoginRespose'.
2025-05-22 20:05:14.479 +07:00 [INF] Executed action Message_app.Controllers.AuthController.Login (Message_app) in 26.6719ms
2025-05-22 20:05:14.479 +07:00 [INF] Executed endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 20:05:14.480 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5053/api/Auth/login - 200 null application/json; charset=utf-8 29.7331ms
2025-05-22 20:05:14.487 +07:00 [INF] Executed DbCommand (85ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[avatar_url], [u].[bio], [u].[birthday], [u].[created_at], [u].[email], [u].[fcmToken], [u].[gender], [u].[interests], [u].[location], [u].[password], [u].[passwordSalt], [u].[username]
FROM [Users] AS [u]
WHERE [u].[email] = @__email_0
2025-05-22 20:05:14.488 +07:00 [INF] Executing OkObjectResult, writing value of type 'server.DTO.AuthDTO.LoginRespose'.
2025-05-22 20:05:14.488 +07:00 [INF] Executed action Message_app.Controllers.AuthController.Login (Message_app) in 105.3825ms
2025-05-22 20:05:14.488 +07:00 [INF] Executed endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 20:05:14.489 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5053/api/Auth/login - 200 null application/json; charset=utf-8 106.3492ms
2025-05-22 20:05:14.494 +07:00 [INF] Executed DbCommand (99ms) [Parameters=[@__client_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[conversation_id]
FROM [Participants] AS [p]
WHERE [p].[user_id] = @__client_UserId_0 AND [p].[is_deleted] = CAST(0 AS bit)
2025-05-22 20:05:14.497 +07:00 [INF] User 3 already subscribed to channel conversation:1
2025-05-22 20:05:14.497 +07:00 [INF] User 3 already subscribed to channel conversation:2
2025-05-22 20:05:14.497 +07:00 [INF] User 3 already subscribed to channel conversation:9
2025-05-22 20:05:14.497 +07:00 [INF] User 3 already subscribed to channel conversation:19
2025-05-22 20:05:14.497 +07:00 [INF] User 3 already subscribed to channel conversation:25
2025-05-22 20:05:14.497 +07:00 [INF] User 3 already subscribed to channel conversation:26
2025-05-22 20:05:14.497 +07:00 [INF] User 3 already subscribed to channel conversation:27
2025-05-22 20:05:14.497 +07:00 [INF] User 3 already subscribed to channel conversation:28
2025-05-22 20:05:14.497 +07:00 [INF] User 3 already subscribed to channel conversation:29
2025-05-22 20:05:14.497 +07:00 [INF] User 3 already subscribed to channel conversation:32
2025-05-22 20:05:14.497 +07:00 [INF] User 3 already subscribed to channel conversation:34
2025-05-22 20:05:14.497 +07:00 [INF] User 3 already subscribed to channel conversation:35
2025-05-22 20:05:14.497 +07:00 [INF] User 3 already subscribed to channel conversation:36
2025-05-22 20:05:14.497 +07:00 [INF] User 3 already subscribed to channel conversation:37
2025-05-22 20:05:14.497 +07:00 [INF] User 3 already subscribed to channel conversation:38
2025-05-22 20:05:14.497 +07:00 [INF] User 3 already subscribed to channel conversation:39
2025-05-22 20:05:14.497 +07:00 [INF] User 3 already subscribed to channel conversation:40
2025-05-22 20:05:14.498 +07:00 [INF] User 3 already subscribed to channel conversation:42
2025-05-22 20:05:14.498 +07:00 [INF] User 3 already subscribed to channel conversation:43
2025-05-22 20:05:14.498 +07:00 [INF] User 3 already subscribed to channel conversation:44
2025-05-22 20:05:14.498 +07:00 [INF] User 3 already subscribed to channel conversation:45
2025-05-22 20:05:14.503 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__client_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[conversation_id]
FROM [Participants] AS [p]
WHERE [p].[user_id] = @__client_UserId_0 AND [p].[is_deleted] = CAST(0 AS bit)
2025-05-22 20:05:14.503 +07:00 [INF] User 3 already subscribed to channel conversation:1
2025-05-22 20:05:14.503 +07:00 [INF] User 3 already subscribed to channel conversation:2
2025-05-22 20:05:14.503 +07:00 [INF] User 3 already subscribed to channel conversation:9
2025-05-22 20:05:14.504 +07:00 [INF] User 3 already subscribed to channel conversation:19
2025-05-22 20:05:14.504 +07:00 [INF] User 3 already subscribed to channel conversation:25
2025-05-22 20:05:14.504 +07:00 [INF] User 3 already subscribed to channel conversation:26
2025-05-22 20:05:14.504 +07:00 [INF] User 3 already subscribed to channel conversation:27
2025-05-22 20:05:14.504 +07:00 [INF] User 3 already subscribed to channel conversation:28
2025-05-22 20:05:14.504 +07:00 [INF] User 3 already subscribed to channel conversation:29
2025-05-22 20:05:14.504 +07:00 [INF] User 3 already subscribed to channel conversation:32
2025-05-22 20:05:14.504 +07:00 [INF] User 3 already subscribed to channel conversation:34
2025-05-22 20:05:14.504 +07:00 [INF] User 3 already subscribed to channel conversation:35
2025-05-22 20:05:14.504 +07:00 [INF] User 3 already subscribed to channel conversation:36
2025-05-22 20:05:14.505 +07:00 [INF] User 3 already subscribed to channel conversation:37
2025-05-22 20:05:14.505 +07:00 [INF] User 3 already subscribed to channel conversation:38
2025-05-22 20:05:14.505 +07:00 [INF] User 3 already subscribed to channel conversation:39
2025-05-22 20:05:14.505 +07:00 [INF] User 3 already subscribed to channel conversation:40
2025-05-22 20:05:14.505 +07:00 [INF] User 3 already subscribed to channel conversation:42
2025-05-22 20:05:14.505 +07:00 [INF] User 3 already subscribed to channel conversation:43
2025-05-22 20:05:14.506 +07:00 [INF] User 3 already subscribed to channel conversation:44
2025-05-22 20:05:14.506 +07:00 [INF] User 3 already subscribed to channel conversation:45
2025-05-22 20:05:14.511 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__client_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[conversation_id]
FROM [Participants] AS [p]
WHERE [p].[user_id] = @__client_UserId_0 AND [p].[is_deleted] = CAST(0 AS bit)
2025-05-22 20:05:14.513 +07:00 [INF] User 3 already subscribed to channel conversation:1
2025-05-22 20:05:14.514 +07:00 [INF] User 3 already subscribed to channel conversation:2
2025-05-22 20:05:14.514 +07:00 [INF] User 3 already subscribed to channel conversation:9
2025-05-22 20:05:14.514 +07:00 [INF] User 3 already subscribed to channel conversation:19
2025-05-22 20:05:14.514 +07:00 [INF] User 3 already subscribed to channel conversation:25
2025-05-22 20:05:14.514 +07:00 [INF] User 3 already subscribed to channel conversation:26
2025-05-22 20:05:14.514 +07:00 [INF] User 3 already subscribed to channel conversation:27
2025-05-22 20:05:14.514 +07:00 [INF] User 3 already subscribed to channel conversation:28
2025-05-22 20:05:14.515 +07:00 [INF] User 3 already subscribed to channel conversation:29
2025-05-22 20:05:14.515 +07:00 [INF] User 3 already subscribed to channel conversation:32
2025-05-22 20:05:14.515 +07:00 [INF] User 3 already subscribed to channel conversation:34
2025-05-22 20:05:14.515 +07:00 [INF] User 3 already subscribed to channel conversation:35
2025-05-22 20:05:14.515 +07:00 [INF] User 3 already subscribed to channel conversation:36
2025-05-22 20:05:14.522 +07:00 [INF] User 3 already subscribed to channel conversation:37
2025-05-22 20:05:14.522 +07:00 [INF] User 3 already subscribed to channel conversation:38
2025-05-22 20:05:14.522 +07:00 [INF] User 3 already subscribed to channel conversation:39
2025-05-22 20:05:14.522 +07:00 [INF] User 3 already subscribed to channel conversation:40
2025-05-22 20:05:14.522 +07:00 [INF] User 3 already subscribed to channel conversation:42
2025-05-22 20:05:14.522 +07:00 [INF] User 3 already subscribed to channel conversation:43
2025-05-22 20:05:14.522 +07:00 [INF] User 3 already subscribed to channel conversation:44
2025-05-22 20:05:14.522 +07:00 [INF] User 3 already subscribed to channel conversation:45
2025-05-22 20:05:14.531 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__client_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[conversation_id]
FROM [Participants] AS [p]
WHERE [p].[user_id] = @__client_UserId_0 AND [p].[is_deleted] = CAST(0 AS bit)
2025-05-22 20:05:14.538 +07:00 [INF] User 3 already subscribed to channel conversation:1
2025-05-22 20:05:14.538 +07:00 [INF] User 3 already subscribed to channel conversation:2
2025-05-22 20:05:14.539 +07:00 [INF] User 3 already subscribed to channel conversation:9
2025-05-22 20:05:14.539 +07:00 [INF] User 3 already subscribed to channel conversation:19
2025-05-22 20:05:14.539 +07:00 [INF] User 3 already subscribed to channel conversation:25
2025-05-22 20:05:14.539 +07:00 [INF] User 3 already subscribed to channel conversation:26
2025-05-22 20:05:14.539 +07:00 [INF] User 3 already subscribed to channel conversation:27
2025-05-22 20:05:14.539 +07:00 [INF] User 3 already subscribed to channel conversation:28
2025-05-22 20:05:14.539 +07:00 [INF] User 3 already subscribed to channel conversation:29
2025-05-22 20:05:14.539 +07:00 [INF] User 3 already subscribed to channel conversation:32
2025-05-22 20:05:14.539 +07:00 [INF] User 3 already subscribed to channel conversation:34
2025-05-22 20:05:14.549 +07:00 [INF] User 3 already subscribed to channel conversation:35
2025-05-22 20:05:14.549 +07:00 [INF] User 3 already subscribed to channel conversation:36
2025-05-22 20:05:14.549 +07:00 [INF] User 3 already subscribed to channel conversation:37
2025-05-22 20:05:14.549 +07:00 [INF] User 3 already subscribed to channel conversation:38
2025-05-22 20:05:14.549 +07:00 [INF] User 3 already subscribed to channel conversation:39
2025-05-22 20:05:14.550 +07:00 [INF] User 3 already subscribed to channel conversation:40
2025-05-22 20:05:14.550 +07:00 [INF] User 3 already subscribed to channel conversation:42
2025-05-22 20:05:14.550 +07:00 [INF] User 3 already subscribed to channel conversation:43
2025-05-22 20:05:14.550 +07:00 [INF] User 3 already subscribed to channel conversation:44
2025-05-22 20:05:14.550 +07:00 [INF] User 3 already subscribed to channel conversation:45
2025-05-22 20:05:14.597 +07:00 [INF] Executed DbCommand (15ms) [Parameters=[@__client_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[conversation_id]
FROM [Participants] AS [p]
WHERE [p].[user_id] = @__client_UserId_0 AND [p].[is_deleted] = CAST(0 AS bit)
2025-05-22 20:05:14.598 +07:00 [INF] User 3 already subscribed to channel conversation:1
2025-05-22 20:05:14.599 +07:00 [INF] User 3 already subscribed to channel conversation:2
2025-05-22 20:05:14.599 +07:00 [INF] User 3 already subscribed to channel conversation:9
2025-05-22 20:05:14.599 +07:00 [INF] User 3 already subscribed to channel conversation:19
2025-05-22 20:05:14.599 +07:00 [INF] User 3 already subscribed to channel conversation:25
2025-05-22 20:05:14.599 +07:00 [INF] User 3 already subscribed to channel conversation:26
2025-05-22 20:05:14.599 +07:00 [INF] User 3 already subscribed to channel conversation:27
2025-05-22 20:05:14.599 +07:00 [INF] User 3 already subscribed to channel conversation:28
2025-05-22 20:05:14.599 +07:00 [INF] User 3 already subscribed to channel conversation:29
2025-05-22 20:05:14.599 +07:00 [INF] User 3 already subscribed to channel conversation:32
2025-05-22 20:05:14.599 +07:00 [INF] User 3 already subscribed to channel conversation:34
2025-05-22 20:05:14.599 +07:00 [INF] User 3 already subscribed to channel conversation:35
2025-05-22 20:05:14.599 +07:00 [INF] User 3 already subscribed to channel conversation:36
2025-05-22 20:05:14.599 +07:00 [INF] User 3 already subscribed to channel conversation:37
2025-05-22 20:05:14.599 +07:00 [INF] User 3 already subscribed to channel conversation:38
2025-05-22 20:05:14.599 +07:00 [INF] User 3 already subscribed to channel conversation:39
2025-05-22 20:05:14.599 +07:00 [INF] User 3 already subscribed to channel conversation:40
2025-05-22 20:05:14.599 +07:00 [INF] User 3 already subscribed to channel conversation:42
2025-05-22 20:05:14.600 +07:00 [INF] User 3 already subscribed to channel conversation:43
2025-05-22 20:05:14.600 +07:00 [INF] User 3 already subscribed to channel conversation:44
2025-05-22 20:05:14.600 +07:00 [INF] User 3 already subscribed to channel conversation:45
2025-05-22 20:05:14.647 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5053/api/Auth/login - application/json 60
2025-05-22 20:05:14.648 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:05:14.648 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:05:14.648 +07:00 [INF] Executing endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 20:05:14.648 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(server.DTO.AuthDTO.LoginDTO) on controller Message_app.Controllers.AuthController (Message_app).
2025-05-22 20:05:14.656 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__client_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[conversation_id]
FROM [Participants] AS [p]
WHERE [p].[user_id] = @__client_UserId_0 AND [p].[is_deleted] = CAST(0 AS bit)
2025-05-22 20:05:14.657 +07:00 [INF] User 3 already subscribed to channel conversation:1
2025-05-22 20:05:14.657 +07:00 [INF] User 3 already subscribed to channel conversation:2
2025-05-22 20:05:14.657 +07:00 [INF] User 3 already subscribed to channel conversation:9
2025-05-22 20:05:14.658 +07:00 [INF] User 3 already subscribed to channel conversation:19
2025-05-22 20:05:14.658 +07:00 [INF] User 3 already subscribed to channel conversation:25
2025-05-22 20:05:14.658 +07:00 [INF] User 3 already subscribed to channel conversation:26
2025-05-22 20:05:14.661 +07:00 [INF] User 3 already subscribed to channel conversation:27
2025-05-22 20:05:14.661 +07:00 [INF] User 3 already subscribed to channel conversation:28
2025-05-22 20:05:14.661 +07:00 [INF] User 3 already subscribed to channel conversation:29
2025-05-22 20:05:14.662 +07:00 [INF] User 3 already subscribed to channel conversation:32
2025-05-22 20:05:14.662 +07:00 [INF] User 3 already subscribed to channel conversation:34
2025-05-22 20:05:14.662 +07:00 [INF] User 3 already subscribed to channel conversation:35
2025-05-22 20:05:14.662 +07:00 [INF] User 3 already subscribed to channel conversation:36
2025-05-22 20:05:14.662 +07:00 [INF] User 3 already subscribed to channel conversation:37
2025-05-22 20:05:14.662 +07:00 [INF] User 3 already subscribed to channel conversation:38
2025-05-22 20:05:14.662 +07:00 [INF] User 3 already subscribed to channel conversation:39
2025-05-22 20:05:14.663 +07:00 [INF] User 3 already subscribed to channel conversation:40
2025-05-22 20:05:14.663 +07:00 [INF] User 3 already subscribed to channel conversation:42
2025-05-22 20:05:14.663 +07:00 [INF] User 3 already subscribed to channel conversation:43
2025-05-22 20:05:14.663 +07:00 [INF] User 3 already subscribed to channel conversation:44
2025-05-22 20:05:14.663 +07:00 [INF] User 3 already subscribed to channel conversation:45
2025-05-22 20:05:14.783 +07:00 [INF] Executed DbCommand (131ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[avatar_url], [u].[bio], [u].[birthday], [u].[created_at], [u].[email], [u].[fcmToken], [u].[gender], [u].[interests], [u].[location], [u].[password], [u].[passwordSalt], [u].[username]
FROM [Users] AS [u]
WHERE [u].[email] = @__email_0
2025-05-22 20:05:14.785 +07:00 [INF] Executing OkObjectResult, writing value of type 'server.DTO.AuthDTO.LoginRespose'.
2025-05-22 20:05:14.786 +07:00 [INF] Executed action Message_app.Controllers.AuthController.Login (Message_app) in 138.4283ms
2025-05-22 20:05:14.786 +07:00 [INF] Executed endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 20:05:14.786 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5053/api/Auth/login - 200 null application/json; charset=utf-8 139.0533ms
2025-05-22 20:05:15.058 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5053/api/Auth/login - application/json 60
2025-05-22 20:05:15.058 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:05:15.058 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:05:15.061 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5053/api/Auth/login - application/json 60
2025-05-22 20:05:15.058 +07:00 [INF] Executing endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 20:05:15.062 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(server.DTO.AuthDTO.LoginDTO) on controller Message_app.Controllers.AuthController (Message_app).
2025-05-22 20:05:15.061 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:05:15.062 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:05:15.063 +07:00 [INF] Executing endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 20:05:15.063 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(server.DTO.AuthDTO.LoginDTO) on controller Message_app.Controllers.AuthController (Message_app).
2025-05-22 20:05:15.101 +07:00 [INF] Executed DbCommand (31ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[avatar_url], [u].[bio], [u].[birthday], [u].[created_at], [u].[email], [u].[fcmToken], [u].[gender], [u].[interests], [u].[location], [u].[password], [u].[passwordSalt], [u].[username]
FROM [Users] AS [u]
WHERE [u].[email] = @__email_0
2025-05-22 20:05:15.101 +07:00 [INF] Executed DbCommand (33ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[avatar_url], [u].[bio], [u].[birthday], [u].[created_at], [u].[email], [u].[fcmToken], [u].[gender], [u].[interests], [u].[location], [u].[password], [u].[passwordSalt], [u].[username]
FROM [Users] AS [u]
WHERE [u].[email] = @__email_0
2025-05-22 20:05:15.103 +07:00 [INF] Executing OkObjectResult, writing value of type 'server.DTO.AuthDTO.LoginRespose'.
2025-05-22 20:05:15.103 +07:00 [INF] Executed action Message_app.Controllers.AuthController.Login (Message_app) in 40.0072ms
2025-05-22 20:05:15.103 +07:00 [INF] Executed endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 20:05:15.103 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5053/api/Auth/login - 200 null application/json; charset=utf-8 41.9068ms
2025-05-22 20:05:15.104 +07:00 [INF] Executing OkObjectResult, writing value of type 'server.DTO.AuthDTO.LoginRespose'.
2025-05-22 20:05:15.104 +07:00 [INF] Executed action Message_app.Controllers.AuthController.Login (Message_app) in 41.8719ms
2025-05-22 20:05:15.104 +07:00 [INF] Executed endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 20:05:15.104 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5053/api/Auth/login - 200 null application/json; charset=utf-8 46.4187ms
2025-05-22 20:05:15.106 +07:00 [INF] Executed DbCommand (26ms) [Parameters=[@__client_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[conversation_id]
FROM [Participants] AS [p]
WHERE [p].[user_id] = @__client_UserId_0 AND [p].[is_deleted] = CAST(0 AS bit)
2025-05-22 20:05:15.106 +07:00 [INF] User 3 already subscribed to channel conversation:1
2025-05-22 20:05:15.106 +07:00 [INF] User 3 already subscribed to channel conversation:2
2025-05-22 20:05:15.106 +07:00 [INF] User 3 already subscribed to channel conversation:9
2025-05-22 20:05:15.106 +07:00 [INF] User 3 already subscribed to channel conversation:19
2025-05-22 20:05:15.106 +07:00 [INF] User 3 already subscribed to channel conversation:25
2025-05-22 20:05:15.106 +07:00 [INF] User 3 already subscribed to channel conversation:26
2025-05-22 20:05:15.106 +07:00 [INF] User 3 already subscribed to channel conversation:27
2025-05-22 20:05:15.106 +07:00 [INF] User 3 already subscribed to channel conversation:28
2025-05-22 20:05:15.108 +07:00 [INF] User 3 already subscribed to channel conversation:29
2025-05-22 20:05:15.108 +07:00 [INF] User 3 already subscribed to channel conversation:32
2025-05-22 20:05:15.108 +07:00 [INF] User 3 already subscribed to channel conversation:34
2025-05-22 20:05:15.108 +07:00 [INF] User 3 already subscribed to channel conversation:35
2025-05-22 20:05:15.108 +07:00 [INF] User 3 already subscribed to channel conversation:36
2025-05-22 20:05:15.108 +07:00 [INF] User 3 already subscribed to channel conversation:37
2025-05-22 20:05:15.108 +07:00 [INF] User 3 already subscribed to channel conversation:38
2025-05-22 20:05:15.108 +07:00 [INF] User 3 already subscribed to channel conversation:39
2025-05-22 20:05:15.108 +07:00 [INF] User 3 already subscribed to channel conversation:40
2025-05-22 20:05:15.108 +07:00 [INF] User 3 already subscribed to channel conversation:42
2025-05-22 20:05:15.108 +07:00 [INF] User 3 already subscribed to channel conversation:43
2025-05-22 20:05:15.108 +07:00 [INF] User 3 already subscribed to channel conversation:44
2025-05-22 20:05:15.108 +07:00 [INF] User 3 already subscribed to channel conversation:45
2025-05-22 20:05:15.137 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5053/api/Auth/login - null null
2025-05-22 20:05:15.137 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:05:15.137 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5053/api/Auth/login - 204 null null 0.3833ms
2025-05-22 20:05:15.139 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5053/api/Auth/login - application/json 60
2025-05-22 20:05:15.139 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:05:15.139 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:05:15.139 +07:00 [INF] Executing endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 20:05:15.139 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(server.DTO.AuthDTO.LoginDTO) on controller Message_app.Controllers.AuthController (Message_app).
2025-05-22 20:05:15.154 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[avatar_url], [u].[bio], [u].[birthday], [u].[created_at], [u].[email], [u].[fcmToken], [u].[gender], [u].[interests], [u].[location], [u].[password], [u].[passwordSalt], [u].[username]
FROM [Users] AS [u]
WHERE [u].[email] = @__email_0
2025-05-22 20:05:15.155 +07:00 [INF] Executing OkObjectResult, writing value of type 'server.DTO.AuthDTO.LoginRespose'.
2025-05-22 20:05:15.155 +07:00 [INF] Executed action Message_app.Controllers.AuthController.Login (Message_app) in 15.9182ms
2025-05-22 20:05:15.155 +07:00 [INF] Executed endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 20:05:15.155 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5053/api/Auth/login - 200 null application/json; charset=utf-8 16.5569ms
2025-05-22 20:05:15.191 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5053/api/Auth/login - application/json 60
2025-05-22 20:05:15.191 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:05:15.192 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:05:15.192 +07:00 [INF] Executing endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 20:05:15.195 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(server.DTO.AuthDTO.LoginDTO) on controller Message_app.Controllers.AuthController (Message_app).
2025-05-22 20:05:15.199 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[avatar_url], [u].[bio], [u].[birthday], [u].[created_at], [u].[email], [u].[fcmToken], [u].[gender], [u].[interests], [u].[location], [u].[password], [u].[passwordSalt], [u].[username]
FROM [Users] AS [u]
WHERE [u].[email] = @__email_0
2025-05-22 20:05:15.200 +07:00 [INF] Executing OkObjectResult, writing value of type 'server.DTO.AuthDTO.LoginRespose'.
2025-05-22 20:05:15.201 +07:00 [INF] Executed action Message_app.Controllers.AuthController.Login (Message_app) in 6.0937ms
2025-05-22 20:05:15.201 +07:00 [INF] Executed endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 20:05:15.201 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5053/api/Auth/login - 200 null application/json; charset=utf-8 10.4389ms
2025-05-22 20:05:15.217 +07:00 [INF] Executed DbCommand (20ms) [Parameters=[@__client_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[conversation_id]
FROM [Participants] AS [p]
WHERE [p].[user_id] = @__client_UserId_0 AND [p].[is_deleted] = CAST(0 AS bit)
2025-05-22 20:05:15.217 +07:00 [INF] User 3 already subscribed to channel conversation:1
2025-05-22 20:05:15.217 +07:00 [INF] User 3 already subscribed to channel conversation:2
2025-05-22 20:05:15.218 +07:00 [INF] User 3 already subscribed to channel conversation:9
2025-05-22 20:05:15.218 +07:00 [INF] User 3 already subscribed to channel conversation:19
2025-05-22 20:05:15.218 +07:00 [INF] User 3 already subscribed to channel conversation:25
2025-05-22 20:05:15.218 +07:00 [INF] User 3 already subscribed to channel conversation:26
2025-05-22 20:05:15.218 +07:00 [INF] User 3 already subscribed to channel conversation:27
2025-05-22 20:05:15.218 +07:00 [INF] User 3 already subscribed to channel conversation:28
2025-05-22 20:05:15.218 +07:00 [INF] User 3 already subscribed to channel conversation:29
2025-05-22 20:05:15.218 +07:00 [INF] User 3 already subscribed to channel conversation:32
2025-05-22 20:05:15.218 +07:00 [INF] User 3 already subscribed to channel conversation:34
2025-05-22 20:05:15.218 +07:00 [INF] User 3 already subscribed to channel conversation:35
2025-05-22 20:05:15.218 +07:00 [INF] User 3 already subscribed to channel conversation:36
2025-05-22 20:05:15.218 +07:00 [INF] User 3 already subscribed to channel conversation:37
2025-05-22 20:05:15.218 +07:00 [INF] User 3 already subscribed to channel conversation:38
2025-05-22 20:05:15.218 +07:00 [INF] User 3 already subscribed to channel conversation:39
2025-05-22 20:05:15.218 +07:00 [INF] User 3 already subscribed to channel conversation:40
2025-05-22 20:05:15.218 +07:00 [INF] User 3 already subscribed to channel conversation:42
2025-05-22 20:05:15.218 +07:00 [INF] User 3 already subscribed to channel conversation:43
2025-05-22 20:05:15.218 +07:00 [INF] User 3 already subscribed to channel conversation:44
2025-05-22 20:05:15.218 +07:00 [INF] User 3 already subscribed to channel conversation:45
2025-05-22 20:05:15.262 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5053/api/Auth/login - application/json 60
2025-05-22 20:05:15.262 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:05:15.262 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:05:15.262 +07:00 [INF] Executing endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 20:05:15.263 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(server.DTO.AuthDTO.LoginDTO) on controller Message_app.Controllers.AuthController (Message_app).
2025-05-22 20:05:15.265 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__client_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[conversation_id]
FROM [Participants] AS [p]
WHERE [p].[user_id] = @__client_UserId_0 AND [p].[is_deleted] = CAST(0 AS bit)
2025-05-22 20:05:15.266 +07:00 [INF] User 3 already subscribed to channel conversation:1
2025-05-22 20:05:15.267 +07:00 [INF] User 3 already subscribed to channel conversation:2
2025-05-22 20:05:15.267 +07:00 [INF] User 3 already subscribed to channel conversation:9
2025-05-22 20:05:15.267 +07:00 [INF] User 3 already subscribed to channel conversation:19
2025-05-22 20:05:15.267 +07:00 [INF] User 3 already subscribed to channel conversation:25
2025-05-22 20:05:15.267 +07:00 [INF] User 3 already subscribed to channel conversation:26
2025-05-22 20:05:15.267 +07:00 [INF] User 3 already subscribed to channel conversation:27
2025-05-22 20:05:15.267 +07:00 [INF] User 3 already subscribed to channel conversation:28
2025-05-22 20:05:15.267 +07:00 [INF] User 3 already subscribed to channel conversation:29
2025-05-22 20:05:15.267 +07:00 [INF] User 3 already subscribed to channel conversation:32
2025-05-22 20:05:15.267 +07:00 [INF] User 3 already subscribed to channel conversation:34
2025-05-22 20:05:15.267 +07:00 [INF] User 3 already subscribed to channel conversation:35
2025-05-22 20:05:15.267 +07:00 [INF] User 3 already subscribed to channel conversation:36
2025-05-22 20:05:15.267 +07:00 [INF] User 3 already subscribed to channel conversation:37
2025-05-22 20:05:15.267 +07:00 [INF] User 3 already subscribed to channel conversation:38
2025-05-22 20:05:15.267 +07:00 [INF] User 3 already subscribed to channel conversation:39
2025-05-22 20:05:15.267 +07:00 [INF] User 3 already subscribed to channel conversation:40
2025-05-22 20:05:15.267 +07:00 [INF] User 3 already subscribed to channel conversation:42
2025-05-22 20:05:15.268 +07:00 [INF] User 3 already subscribed to channel conversation:43
2025-05-22 20:05:15.268 +07:00 [INF] User 3 already subscribed to channel conversation:44
2025-05-22 20:05:15.268 +07:00 [INF] User 3 already subscribed to channel conversation:45
2025-05-22 20:05:15.268 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[avatar_url], [u].[bio], [u].[birthday], [u].[created_at], [u].[email], [u].[fcmToken], [u].[gender], [u].[interests], [u].[location], [u].[password], [u].[passwordSalt], [u].[username]
FROM [Users] AS [u]
WHERE [u].[email] = @__email_0
2025-05-22 20:05:15.270 +07:00 [INF] Executing OkObjectResult, writing value of type 'server.DTO.AuthDTO.LoginRespose'.
2025-05-22 20:05:15.271 +07:00 [INF] Executed action Message_app.Controllers.AuthController.Login (Message_app) in 8.1641ms
2025-05-22 20:05:15.271 +07:00 [INF] Executed endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 20:05:15.271 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5053/api/Auth/login - 200 null application/json; charset=utf-8 8.8805ms
2025-05-22 20:05:15.272 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__client_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[conversation_id]
FROM [Participants] AS [p]
WHERE [p].[user_id] = @__client_UserId_0 AND [p].[is_deleted] = CAST(0 AS bit)
2025-05-22 20:05:15.272 +07:00 [INF] User 3 already subscribed to channel conversation:1
2025-05-22 20:05:15.272 +07:00 [INF] User 3 already subscribed to channel conversation:2
2025-05-22 20:05:15.272 +07:00 [INF] User 3 already subscribed to channel conversation:9
2025-05-22 20:05:15.272 +07:00 [INF] User 3 already subscribed to channel conversation:19
2025-05-22 20:05:15.272 +07:00 [INF] User 3 already subscribed to channel conversation:25
2025-05-22 20:05:15.272 +07:00 [INF] User 3 already subscribed to channel conversation:26
2025-05-22 20:05:15.272 +07:00 [INF] User 3 already subscribed to channel conversation:27
2025-05-22 20:05:15.272 +07:00 [INF] User 3 already subscribed to channel conversation:28
2025-05-22 20:05:15.272 +07:00 [INF] User 3 already subscribed to channel conversation:29
2025-05-22 20:05:15.272 +07:00 [INF] User 3 already subscribed to channel conversation:32
2025-05-22 20:05:15.272 +07:00 [INF] User 3 already subscribed to channel conversation:34
2025-05-22 20:05:15.272 +07:00 [INF] User 3 already subscribed to channel conversation:35
2025-05-22 20:05:15.272 +07:00 [INF] User 3 already subscribed to channel conversation:36
2025-05-22 20:05:15.272 +07:00 [INF] User 3 already subscribed to channel conversation:37
2025-05-22 20:05:15.272 +07:00 [INF] User 3 already subscribed to channel conversation:38
2025-05-22 20:05:15.272 +07:00 [INF] User 3 already subscribed to channel conversation:39
2025-05-22 20:05:15.272 +07:00 [INF] User 3 already subscribed to channel conversation:40
2025-05-22 20:05:15.272 +07:00 [INF] User 3 already subscribed to channel conversation:42
2025-05-22 20:05:15.272 +07:00 [INF] User 3 already subscribed to channel conversation:43
2025-05-22 20:05:15.272 +07:00 [INF] User 3 already subscribed to channel conversation:44
2025-05-22 20:05:15.273 +07:00 [INF] User 3 already subscribed to channel conversation:45
2025-05-22 20:05:15.444 +07:00 [INF] Executed DbCommand (47ms) [Parameters=[@__client_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[conversation_id]
FROM [Participants] AS [p]
WHERE [p].[user_id] = @__client_UserId_0 AND [p].[is_deleted] = CAST(0 AS bit)
2025-05-22 20:05:15.445 +07:00 [INF] User 3 already subscribed to channel conversation:1
2025-05-22 20:05:15.445 +07:00 [INF] User 3 already subscribed to channel conversation:2
2025-05-22 20:05:15.445 +07:00 [INF] User 3 already subscribed to channel conversation:9
2025-05-22 20:05:15.445 +07:00 [INF] User 3 already subscribed to channel conversation:19
2025-05-22 20:05:15.446 +07:00 [INF] User 3 already subscribed to channel conversation:25
2025-05-22 20:05:15.447 +07:00 [INF] User 3 already subscribed to channel conversation:26
2025-05-22 20:05:15.447 +07:00 [INF] User 3 already subscribed to channel conversation:27
2025-05-22 20:05:15.447 +07:00 [INF] User 3 already subscribed to channel conversation:28
2025-05-22 20:05:15.447 +07:00 [INF] User 3 already subscribed to channel conversation:29
2025-05-22 20:05:15.447 +07:00 [INF] User 3 already subscribed to channel conversation:32
2025-05-22 20:05:15.447 +07:00 [INF] User 3 already subscribed to channel conversation:34
2025-05-22 20:05:15.447 +07:00 [INF] User 3 already subscribed to channel conversation:35
2025-05-22 20:05:15.447 +07:00 [INF] User 3 already subscribed to channel conversation:36
2025-05-22 20:05:15.447 +07:00 [INF] User 3 already subscribed to channel conversation:37
2025-05-22 20:05:15.447 +07:00 [INF] User 3 already subscribed to channel conversation:38
2025-05-22 20:05:15.447 +07:00 [INF] User 3 already subscribed to channel conversation:39
2025-05-22 20:05:15.447 +07:00 [INF] User 3 already subscribed to channel conversation:40
2025-05-22 20:05:15.447 +07:00 [INF] User 3 already subscribed to channel conversation:42
2025-05-22 20:05:15.447 +07:00 [INF] User 3 already subscribed to channel conversation:43
2025-05-22 20:05:15.447 +07:00 [INF] User 3 already subscribed to channel conversation:44
2025-05-22 20:05:15.447 +07:00 [INF] User 3 already subscribed to channel conversation:45
2025-05-22 20:05:15.580 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5053/api/Auth/login - application/json 60
2025-05-22 20:05:15.580 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:05:15.580 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:05:15.580 +07:00 [INF] Executing endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 20:05:15.580 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(server.DTO.AuthDTO.LoginDTO) on controller Message_app.Controllers.AuthController (Message_app).
2025-05-22 20:05:15.629 +07:00 [INF] Executed DbCommand (45ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[avatar_url], [u].[bio], [u].[birthday], [u].[created_at], [u].[email], [u].[fcmToken], [u].[gender], [u].[interests], [u].[location], [u].[password], [u].[passwordSalt], [u].[username]
FROM [Users] AS [u]
WHERE [u].[email] = @__email_0
2025-05-22 20:05:15.631 +07:00 [INF] Executing OkObjectResult, writing value of type 'server.DTO.AuthDTO.LoginRespose'.
2025-05-22 20:05:15.631 +07:00 [INF] Executed action Message_app.Controllers.AuthController.Login (Message_app) in 50.8335ms
2025-05-22 20:05:15.632 +07:00 [INF] Executed endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 20:05:15.632 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5053/api/Auth/login - 200 null application/json; charset=utf-8 51.924ms
2025-05-22 20:05:15.671 +07:00 [INF] Executed DbCommand (30ms) [Parameters=[@__client_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[conversation_id]
FROM [Participants] AS [p]
WHERE [p].[user_id] = @__client_UserId_0 AND [p].[is_deleted] = CAST(0 AS bit)
2025-05-22 20:05:15.671 +07:00 [INF] User 3 already subscribed to channel conversation:1
2025-05-22 20:05:15.671 +07:00 [INF] User 3 already subscribed to channel conversation:2
2025-05-22 20:05:15.671 +07:00 [INF] User 3 already subscribed to channel conversation:9
2025-05-22 20:05:15.671 +07:00 [INF] User 3 already subscribed to channel conversation:19
2025-05-22 20:05:15.671 +07:00 [INF] User 3 already subscribed to channel conversation:25
2025-05-22 20:05:15.672 +07:00 [INF] User 3 already subscribed to channel conversation:26
2025-05-22 20:05:15.672 +07:00 [INF] User 3 already subscribed to channel conversation:27
2025-05-22 20:05:15.672 +07:00 [INF] User 3 already subscribed to channel conversation:28
2025-05-22 20:05:15.672 +07:00 [INF] User 3 already subscribed to channel conversation:29
2025-05-22 20:05:15.672 +07:00 [INF] User 3 already subscribed to channel conversation:32
2025-05-22 20:05:15.672 +07:00 [INF] User 3 already subscribed to channel conversation:34
2025-05-22 20:05:15.672 +07:00 [INF] User 3 already subscribed to channel conversation:35
2025-05-22 20:05:15.672 +07:00 [INF] User 3 already subscribed to channel conversation:36
2025-05-22 20:05:15.672 +07:00 [INF] User 3 already subscribed to channel conversation:37
2025-05-22 20:05:15.672 +07:00 [INF] User 3 already subscribed to channel conversation:38
2025-05-22 20:05:15.672 +07:00 [INF] User 3 already subscribed to channel conversation:39
2025-05-22 20:05:15.672 +07:00 [INF] User 3 already subscribed to channel conversation:40
2025-05-22 20:05:15.672 +07:00 [INF] User 3 already subscribed to channel conversation:42
2025-05-22 20:05:15.673 +07:00 [INF] User 3 already subscribed to channel conversation:43
2025-05-22 20:05:15.673 +07:00 [INF] User 3 already subscribed to channel conversation:44
2025-05-22 20:05:15.673 +07:00 [INF] User 3 already subscribed to channel conversation:45
2025-05-22 20:05:15.674 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5053/api/Auth/login - application/json 60
2025-05-22 20:05:15.675 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:05:15.675 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:05:15.675 +07:00 [INF] Executing endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 20:05:15.675 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(server.DTO.AuthDTO.LoginDTO) on controller Message_app.Controllers.AuthController (Message_app).
2025-05-22 20:05:15.690 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5053/api/Auth/login - application/json 60
2025-05-22 20:05:15.690 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:05:15.690 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:05:15.691 +07:00 [INF] Executing endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 20:05:15.691 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(server.DTO.AuthDTO.LoginDTO) on controller Message_app.Controllers.AuthController (Message_app).
2025-05-22 20:05:15.698 +07:00 [INF] Executed DbCommand (20ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[avatar_url], [u].[bio], [u].[birthday], [u].[created_at], [u].[email], [u].[fcmToken], [u].[gender], [u].[interests], [u].[location], [u].[password], [u].[passwordSalt], [u].[username]
FROM [Users] AS [u]
WHERE [u].[email] = @__email_0
2025-05-22 20:05:15.700 +07:00 [INF] Executing OkObjectResult, writing value of type 'server.DTO.AuthDTO.LoginRespose'.
2025-05-22 20:05:15.700 +07:00 [INF] Executed action Message_app.Controllers.AuthController.Login (Message_app) in 24.9243ms
2025-05-22 20:05:15.700 +07:00 [INF] Executed endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 20:05:15.701 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5053/api/Auth/login - 200 null application/json; charset=utf-8 26.9062ms
2025-05-22 20:05:15.700 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[avatar_url], [u].[bio], [u].[birthday], [u].[created_at], [u].[email], [u].[fcmToken], [u].[gender], [u].[interests], [u].[location], [u].[password], [u].[passwordSalt], [u].[username]
FROM [Users] AS [u]
WHERE [u].[email] = @__email_0
2025-05-22 20:05:15.705 +07:00 [INF] Executing OkObjectResult, writing value of type 'server.DTO.AuthDTO.LoginRespose'.
2025-05-22 20:05:15.705 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__client_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[conversation_id]
FROM [Participants] AS [p]
WHERE [p].[user_id] = @__client_UserId_0 AND [p].[is_deleted] = CAST(0 AS bit)
2025-05-22 20:05:15.705 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5053/api/Auth/login - application/json 60
2025-05-22 20:05:15.705 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:05:15.705 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:05:15.705 +07:00 [INF] Executed action Message_app.Controllers.AuthController.Login (Message_app) in 13.9783ms
2025-05-22 20:05:15.705 +07:00 [INF] Executing endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 20:05:15.705 +07:00 [INF] Executed endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 20:05:15.705 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5053/api/Auth/login - 200 null application/json; charset=utf-8 15.6885ms
2025-05-22 20:05:15.705 +07:00 [INF] User 3 already subscribed to channel conversation:1
2025-05-22 20:05:15.705 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(server.DTO.AuthDTO.LoginDTO) on controller Message_app.Controllers.AuthController (Message_app).
2025-05-22 20:05:15.705 +07:00 [INF] User 3 already subscribed to channel conversation:2
2025-05-22 20:05:15.705 +07:00 [INF] User 3 already subscribed to channel conversation:9
2025-05-22 20:05:15.705 +07:00 [INF] User 3 already subscribed to channel conversation:19
2025-05-22 20:05:15.706 +07:00 [INF] User 3 already subscribed to channel conversation:25
2025-05-22 20:05:15.706 +07:00 [INF] User 3 already subscribed to channel conversation:26
2025-05-22 20:05:15.706 +07:00 [INF] User 3 already subscribed to channel conversation:27
2025-05-22 20:05:15.706 +07:00 [INF] User 3 already subscribed to channel conversation:28
2025-05-22 20:05:15.706 +07:00 [INF] User 3 already subscribed to channel conversation:29
2025-05-22 20:05:15.706 +07:00 [INF] User 3 already subscribed to channel conversation:32
2025-05-22 20:05:15.706 +07:00 [INF] User 3 already subscribed to channel conversation:34
2025-05-22 20:05:15.706 +07:00 [INF] User 3 already subscribed to channel conversation:35
2025-05-22 20:05:15.706 +07:00 [INF] User 3 already subscribed to channel conversation:36
2025-05-22 20:05:15.706 +07:00 [INF] User 3 already subscribed to channel conversation:37
2025-05-22 20:05:15.706 +07:00 [INF] User 3 already subscribed to channel conversation:38
2025-05-22 20:05:15.706 +07:00 [INF] User 3 already subscribed to channel conversation:39
2025-05-22 20:05:15.706 +07:00 [INF] User 3 already subscribed to channel conversation:40
2025-05-22 20:05:15.706 +07:00 [INF] User 3 already subscribed to channel conversation:42
2025-05-22 20:05:15.706 +07:00 [INF] User 3 already subscribed to channel conversation:43
2025-05-22 20:05:15.706 +07:00 [INF] User 3 already subscribed to channel conversation:44
2025-05-22 20:05:15.706 +07:00 [INF] User 3 already subscribed to channel conversation:45
2025-05-22 20:05:15.712 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[avatar_url], [u].[bio], [u].[birthday], [u].[created_at], [u].[email], [u].[fcmToken], [u].[gender], [u].[interests], [u].[location], [u].[password], [u].[passwordSalt], [u].[username]
FROM [Users] AS [u]
WHERE [u].[email] = @__email_0
2025-05-22 20:05:15.713 +07:00 [INF] Executing OkObjectResult, writing value of type 'server.DTO.AuthDTO.LoginRespose'.
2025-05-22 20:05:15.714 +07:00 [INF] Executed action Message_app.Controllers.AuthController.Login (Message_app) in 8.0367ms
2025-05-22 20:05:15.714 +07:00 [INF] Executed endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 20:05:15.714 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5053/api/Auth/login - 200 null application/json; charset=utf-8 8.8914ms
2025-05-22 20:05:15.837 +07:00 [INF] Executed DbCommand (16ms) [Parameters=[@__client_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[conversation_id]
FROM [Participants] AS [p]
WHERE [p].[user_id] = @__client_UserId_0 AND [p].[is_deleted] = CAST(0 AS bit)
2025-05-22 20:05:15.838 +07:00 [INF] User 3 already subscribed to channel conversation:1
2025-05-22 20:05:15.838 +07:00 [INF] User 3 already subscribed to channel conversation:2
2025-05-22 20:05:15.838 +07:00 [INF] User 3 already subscribed to channel conversation:9
2025-05-22 20:05:15.838 +07:00 [INF] User 3 already subscribed to channel conversation:19
2025-05-22 20:05:15.838 +07:00 [INF] User 3 already subscribed to channel conversation:25
2025-05-22 20:05:15.838 +07:00 [INF] User 3 already subscribed to channel conversation:26
2025-05-22 20:05:15.838 +07:00 [INF] User 3 already subscribed to channel conversation:27
2025-05-22 20:05:15.838 +07:00 [INF] User 3 already subscribed to channel conversation:28
2025-05-22 20:05:15.838 +07:00 [INF] User 3 already subscribed to channel conversation:29
2025-05-22 20:05:15.838 +07:00 [INF] User 3 already subscribed to channel conversation:32
2025-05-22 20:05:15.838 +07:00 [INF] User 3 already subscribed to channel conversation:34
2025-05-22 20:05:15.838 +07:00 [INF] User 3 already subscribed to channel conversation:35
2025-05-22 20:05:15.838 +07:00 [INF] User 3 already subscribed to channel conversation:36
2025-05-22 20:05:15.838 +07:00 [INF] User 3 already subscribed to channel conversation:37
2025-05-22 20:05:15.838 +07:00 [INF] User 3 already subscribed to channel conversation:38
2025-05-22 20:05:15.838 +07:00 [INF] User 3 already subscribed to channel conversation:39
2025-05-22 20:05:15.838 +07:00 [INF] User 3 already subscribed to channel conversation:40
2025-05-22 20:05:15.838 +07:00 [INF] User 3 already subscribed to channel conversation:42
2025-05-22 20:05:15.838 +07:00 [INF] User 3 already subscribed to channel conversation:43
2025-05-22 20:05:15.838 +07:00 [INF] User 3 already subscribed to channel conversation:44
2025-05-22 20:05:15.838 +07:00 [INF] User 3 already subscribed to channel conversation:45
2025-05-22 20:05:15.844 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__client_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[conversation_id]
FROM [Participants] AS [p]
WHERE [p].[user_id] = @__client_UserId_0 AND [p].[is_deleted] = CAST(0 AS bit)
2025-05-22 20:05:15.844 +07:00 [INF] User 3 already subscribed to channel conversation:1
2025-05-22 20:05:15.845 +07:00 [INF] User 3 already subscribed to channel conversation:2
2025-05-22 20:05:15.845 +07:00 [INF] User 3 already subscribed to channel conversation:9
2025-05-22 20:05:15.845 +07:00 [INF] User 3 already subscribed to channel conversation:19
2025-05-22 20:05:15.846 +07:00 [INF] User 3 already subscribed to channel conversation:25
2025-05-22 20:05:15.849 +07:00 [INF] User 3 already subscribed to channel conversation:26
2025-05-22 20:05:15.849 +07:00 [INF] User 3 already subscribed to channel conversation:27
2025-05-22 20:05:15.849 +07:00 [INF] User 3 already subscribed to channel conversation:28
2025-05-22 20:05:15.849 +07:00 [INF] User 3 already subscribed to channel conversation:29
2025-05-22 20:05:15.849 +07:00 [INF] User 3 already subscribed to channel conversation:32
2025-05-22 20:05:15.849 +07:00 [INF] User 3 already subscribed to channel conversation:34
2025-05-22 20:05:15.849 +07:00 [INF] User 3 already subscribed to channel conversation:35
2025-05-22 20:05:15.850 +07:00 [INF] User 3 already subscribed to channel conversation:36
2025-05-22 20:05:15.850 +07:00 [INF] User 3 already subscribed to channel conversation:37
2025-05-22 20:05:15.850 +07:00 [INF] User 3 already subscribed to channel conversation:38
2025-05-22 20:05:15.850 +07:00 [INF] User 3 already subscribed to channel conversation:39
2025-05-22 20:05:15.850 +07:00 [INF] User 3 already subscribed to channel conversation:40
2025-05-22 20:05:15.850 +07:00 [INF] User 3 already subscribed to channel conversation:42
2025-05-22 20:05:15.850 +07:00 [INF] User 3 already subscribed to channel conversation:43
2025-05-22 20:05:15.850 +07:00 [INF] User 3 already subscribed to channel conversation:44
2025-05-22 20:05:15.850 +07:00 [INF] User 3 already subscribed to channel conversation:45
2025-05-22 20:05:15.861 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__client_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[conversation_id]
FROM [Participants] AS [p]
WHERE [p].[user_id] = @__client_UserId_0 AND [p].[is_deleted] = CAST(0 AS bit)
2025-05-22 20:05:15.861 +07:00 [INF] User 3 already subscribed to channel conversation:1
2025-05-22 20:05:15.862 +07:00 [INF] User 3 already subscribed to channel conversation:2
2025-05-22 20:05:15.862 +07:00 [INF] User 3 already subscribed to channel conversation:9
2025-05-22 20:05:15.862 +07:00 [INF] User 3 already subscribed to channel conversation:19
2025-05-22 20:05:15.862 +07:00 [INF] User 3 already subscribed to channel conversation:25
2025-05-22 20:05:15.862 +07:00 [INF] User 3 already subscribed to channel conversation:26
2025-05-22 20:05:15.862 +07:00 [INF] User 3 already subscribed to channel conversation:27
2025-05-22 20:05:15.862 +07:00 [INF] User 3 already subscribed to channel conversation:28
2025-05-22 20:05:15.862 +07:00 [INF] User 3 already subscribed to channel conversation:29
2025-05-22 20:05:15.862 +07:00 [INF] User 3 already subscribed to channel conversation:32
2025-05-22 20:05:15.862 +07:00 [INF] User 3 already subscribed to channel conversation:34
2025-05-22 20:05:15.862 +07:00 [INF] User 3 already subscribed to channel conversation:35
2025-05-22 20:05:15.862 +07:00 [INF] User 3 already subscribed to channel conversation:36
2025-05-22 20:05:15.862 +07:00 [INF] User 3 already subscribed to channel conversation:37
2025-05-22 20:05:15.862 +07:00 [INF] User 3 already subscribed to channel conversation:38
2025-05-22 20:05:15.862 +07:00 [INF] User 3 already subscribed to channel conversation:39
2025-05-22 20:05:15.862 +07:00 [INF] User 3 already subscribed to channel conversation:40
2025-05-22 20:05:15.862 +07:00 [INF] User 3 already subscribed to channel conversation:42
2025-05-22 20:05:15.862 +07:00 [INF] User 3 already subscribed to channel conversation:43
2025-05-22 20:05:15.862 +07:00 [INF] User 3 already subscribed to channel conversation:44
2025-05-22 20:05:15.862 +07:00 [INF] User 3 already subscribed to channel conversation:45
2025-05-22 20:05:15.885 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5053/api/Auth/login - application/json 60
2025-05-22 20:05:15.911 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:05:15.916 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:05:15.917 +07:00 [INF] Executing endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 20:05:15.917 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(server.DTO.AuthDTO.LoginDTO) on controller Message_app.Controllers.AuthController (Message_app).
2025-05-22 20:05:15.945 +07:00 [INF] Executed DbCommand (23ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[avatar_url], [u].[bio], [u].[birthday], [u].[created_at], [u].[email], [u].[fcmToken], [u].[gender], [u].[interests], [u].[location], [u].[password], [u].[passwordSalt], [u].[username]
FROM [Users] AS [u]
WHERE [u].[email] = @__email_0
2025-05-22 20:05:15.947 +07:00 [INF] Executing OkObjectResult, writing value of type 'server.DTO.AuthDTO.LoginRespose'.
2025-05-22 20:05:15.947 +07:00 [INF] Executed action Message_app.Controllers.AuthController.Login (Message_app) in 30.3612ms
2025-05-22 20:05:15.948 +07:00 [INF] Executed endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 20:05:15.948 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5053/api/Auth/login - 200 null application/json; charset=utf-8 62.5016ms
2025-05-22 20:05:15.954 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5053/api/Auth/login - application/json 60
2025-05-22 20:05:15.954 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:05:15.956 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:05:15.956 +07:00 [INF] Executing endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 20:05:15.956 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(server.DTO.AuthDTO.LoginDTO) on controller Message_app.Controllers.AuthController (Message_app).
2025-05-22 20:05:15.961 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[avatar_url], [u].[bio], [u].[birthday], [u].[created_at], [u].[email], [u].[fcmToken], [u].[gender], [u].[interests], [u].[location], [u].[password], [u].[passwordSalt], [u].[username]
FROM [Users] AS [u]
WHERE [u].[email] = @__email_0
2025-05-22 20:05:15.965 +07:00 [INF] Executing OkObjectResult, writing value of type 'server.DTO.AuthDTO.LoginRespose'.
2025-05-22 20:05:15.965 +07:00 [INF] Executed action Message_app.Controllers.AuthController.Login (Message_app) in 8.6848ms
2025-05-22 20:05:15.965 +07:00 [INF] Executed endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 20:05:15.965 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5053/api/Auth/login - 200 null application/json; charset=utf-8 10.952ms
2025-05-22 20:05:16.081 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5053/api/Auth/login - application/json 60
2025-05-22 20:05:16.082 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:05:16.084 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:05:16.085 +07:00 [INF] Executing endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 20:05:16.083 +07:00 [INF] Executed DbCommand (17ms) [Parameters=[@__client_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[conversation_id]
FROM [Participants] AS [p]
WHERE [p].[user_id] = @__client_UserId_0 AND [p].[is_deleted] = CAST(0 AS bit)
2025-05-22 20:05:16.086 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(server.DTO.AuthDTO.LoginDTO) on controller Message_app.Controllers.AuthController (Message_app).
2025-05-22 20:05:16.086 +07:00 [INF] User 3 already subscribed to channel conversation:1
2025-05-22 20:05:16.086 +07:00 [INF] User 3 already subscribed to channel conversation:2
2025-05-22 20:05:16.087 +07:00 [INF] User 3 already subscribed to channel conversation:9
2025-05-22 20:05:16.087 +07:00 [INF] User 3 already subscribed to channel conversation:19
2025-05-22 20:05:16.087 +07:00 [INF] User 3 already subscribed to channel conversation:25
2025-05-22 20:05:16.087 +07:00 [INF] User 3 already subscribed to channel conversation:26
2025-05-22 20:05:16.087 +07:00 [INF] User 3 already subscribed to channel conversation:27
2025-05-22 20:05:16.087 +07:00 [INF] User 3 already subscribed to channel conversation:28
2025-05-22 20:05:16.087 +07:00 [INF] User 3 already subscribed to channel conversation:29
2025-05-22 20:05:16.087 +07:00 [INF] User 3 already subscribed to channel conversation:32
2025-05-22 20:05:16.087 +07:00 [INF] User 3 already subscribed to channel conversation:34
2025-05-22 20:05:16.087 +07:00 [INF] User 3 already subscribed to channel conversation:35
2025-05-22 20:05:16.087 +07:00 [INF] User 3 already subscribed to channel conversation:36
2025-05-22 20:05:16.087 +07:00 [INF] User 3 already subscribed to channel conversation:37
2025-05-22 20:05:16.087 +07:00 [INF] User 3 already subscribed to channel conversation:38
2025-05-22 20:05:16.087 +07:00 [INF] User 3 already subscribed to channel conversation:39
2025-05-22 20:05:16.088 +07:00 [INF] User 3 already subscribed to channel conversation:40
2025-05-22 20:05:16.088 +07:00 [INF] User 3 already subscribed to channel conversation:42
2025-05-22 20:05:16.088 +07:00 [INF] User 3 already subscribed to channel conversation:43
2025-05-22 20:05:16.088 +07:00 [INF] User 3 already subscribed to channel conversation:44
2025-05-22 20:05:16.088 +07:00 [INF] User 3 already subscribed to channel conversation:45
2025-05-22 20:05:16.096 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__client_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[conversation_id]
FROM [Participants] AS [p]
WHERE [p].[user_id] = @__client_UserId_0 AND [p].[is_deleted] = CAST(0 AS bit)
2025-05-22 20:05:16.097 +07:00 [INF] User 3 already subscribed to channel conversation:1
2025-05-22 20:05:16.097 +07:00 [INF] User 3 already subscribed to channel conversation:2
2025-05-22 20:05:16.097 +07:00 [INF] User 3 already subscribed to channel conversation:9
2025-05-22 20:05:16.097 +07:00 [INF] User 3 already subscribed to channel conversation:19
2025-05-22 20:05:16.097 +07:00 [INF] User 3 already subscribed to channel conversation:25
2025-05-22 20:05:16.097 +07:00 [INF] User 3 already subscribed to channel conversation:26
2025-05-22 20:05:16.097 +07:00 [INF] User 3 already subscribed to channel conversation:27
2025-05-22 20:05:16.097 +07:00 [INF] User 3 already subscribed to channel conversation:28
2025-05-22 20:05:16.097 +07:00 [INF] User 3 already subscribed to channel conversation:29
2025-05-22 20:05:16.097 +07:00 [INF] User 3 already subscribed to channel conversation:32
2025-05-22 20:05:16.097 +07:00 [INF] User 3 already subscribed to channel conversation:34
2025-05-22 20:05:16.097 +07:00 [INF] User 3 already subscribed to channel conversation:35
2025-05-22 20:05:16.097 +07:00 [INF] User 3 already subscribed to channel conversation:36
2025-05-22 20:05:16.097 +07:00 [INF] User 3 already subscribed to channel conversation:37
2025-05-22 20:05:16.097 +07:00 [INF] User 3 already subscribed to channel conversation:38
2025-05-22 20:05:16.097 +07:00 [INF] User 3 already subscribed to channel conversation:39
2025-05-22 20:05:16.097 +07:00 [INF] User 3 already subscribed to channel conversation:40
2025-05-22 20:05:16.097 +07:00 [INF] User 3 already subscribed to channel conversation:42
2025-05-22 20:05:16.097 +07:00 [INF] User 3 already subscribed to channel conversation:43
2025-05-22 20:05:16.097 +07:00 [INF] User 3 already subscribed to channel conversation:44
2025-05-22 20:05:16.097 +07:00 [INF] User 3 already subscribed to channel conversation:45
2025-05-22 20:05:16.103 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[avatar_url], [u].[bio], [u].[birthday], [u].[created_at], [u].[email], [u].[fcmToken], [u].[gender], [u].[interests], [u].[location], [u].[password], [u].[passwordSalt], [u].[username]
FROM [Users] AS [u]
WHERE [u].[email] = @__email_0
2025-05-22 20:05:16.106 +07:00 [INF] Executing OkObjectResult, writing value of type 'server.DTO.AuthDTO.LoginRespose'.
2025-05-22 20:05:16.107 +07:00 [INF] Executed action Message_app.Controllers.AuthController.Login (Message_app) in 20.5271ms
2025-05-22 20:05:16.107 +07:00 [INF] Executed endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 20:05:16.107 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5053/api/Auth/login - 200 null application/json; charset=utf-8 26.1061ms
2025-05-22 20:05:16.274 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__client_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[conversation_id]
FROM [Participants] AS [p]
WHERE [p].[user_id] = @__client_UserId_0 AND [p].[is_deleted] = CAST(0 AS bit)
2025-05-22 20:05:16.275 +07:00 [INF] User 3 already subscribed to channel conversation:1
2025-05-22 20:05:16.275 +07:00 [INF] User 3 already subscribed to channel conversation:2
2025-05-22 20:05:16.275 +07:00 [INF] User 3 already subscribed to channel conversation:9
2025-05-22 20:05:16.275 +07:00 [INF] User 3 already subscribed to channel conversation:19
2025-05-22 20:05:16.275 +07:00 [INF] User 3 already subscribed to channel conversation:25
2025-05-22 20:05:16.275 +07:00 [INF] User 3 already subscribed to channel conversation:26
2025-05-22 20:05:16.275 +07:00 [INF] User 3 already subscribed to channel conversation:27
2025-05-22 20:05:16.275 +07:00 [INF] User 3 already subscribed to channel conversation:28
2025-05-22 20:05:16.275 +07:00 [INF] User 3 already subscribed to channel conversation:29
2025-05-22 20:05:16.275 +07:00 [INF] User 3 already subscribed to channel conversation:32
2025-05-22 20:05:16.275 +07:00 [INF] User 3 already subscribed to channel conversation:34
2025-05-22 20:05:16.276 +07:00 [INF] User 3 already subscribed to channel conversation:35
2025-05-22 20:05:16.276 +07:00 [INF] User 3 already subscribed to channel conversation:36
2025-05-22 20:05:16.276 +07:00 [INF] User 3 already subscribed to channel conversation:37
2025-05-22 20:05:16.276 +07:00 [INF] User 3 already subscribed to channel conversation:38
2025-05-22 20:05:16.276 +07:00 [INF] User 3 already subscribed to channel conversation:39
2025-05-22 20:05:16.276 +07:00 [INF] User 3 already subscribed to channel conversation:40
2025-05-22 20:05:16.276 +07:00 [INF] User 3 already subscribed to channel conversation:42
2025-05-22 20:05:16.276 +07:00 [INF] User 3 already subscribed to channel conversation:43
2025-05-22 20:05:16.276 +07:00 [INF] User 3 already subscribed to channel conversation:44
2025-05-22 20:05:16.276 +07:00 [INF] User 3 already subscribed to channel conversation:45
2025-05-22 20:05:16.323 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5053/api/Auth/login - application/json 60
2025-05-22 20:05:16.323 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:05:16.323 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:05:16.323 +07:00 [INF] Executing endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 20:05:16.324 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(server.DTO.AuthDTO.LoginDTO) on controller Message_app.Controllers.AuthController (Message_app).
2025-05-22 20:05:16.325 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5053/api/Auth/login - application/json 60
2025-05-22 20:05:16.326 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:05:16.326 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:05:16.326 +07:00 [INF] Executing endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 20:05:16.326 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(server.DTO.AuthDTO.LoginDTO) on controller Message_app.Controllers.AuthController (Message_app).
2025-05-22 20:05:16.339 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[avatar_url], [u].[bio], [u].[birthday], [u].[created_at], [u].[email], [u].[fcmToken], [u].[gender], [u].[interests], [u].[location], [u].[password], [u].[passwordSalt], [u].[username]
FROM [Users] AS [u]
WHERE [u].[email] = @__email_0
2025-05-22 20:05:16.340 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[avatar_url], [u].[bio], [u].[birthday], [u].[created_at], [u].[email], [u].[fcmToken], [u].[gender], [u].[interests], [u].[location], [u].[password], [u].[passwordSalt], [u].[username]
FROM [Users] AS [u]
WHERE [u].[email] = @__email_0
2025-05-22 20:05:16.340 +07:00 [INF] Executing OkObjectResult, writing value of type 'server.DTO.AuthDTO.LoginRespose'.
2025-05-22 20:05:16.340 +07:00 [INF] Executed action Message_app.Controllers.AuthController.Login (Message_app) in 14.2209ms
2025-05-22 20:05:16.340 +07:00 [INF] Executed endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 20:05:16.340 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5053/api/Auth/login - 200 null application/json; charset=utf-8 14.883ms
2025-05-22 20:05:16.341 +07:00 [INF] Executing OkObjectResult, writing value of type 'server.DTO.AuthDTO.LoginRespose'.
2025-05-22 20:05:16.341 +07:00 [INF] Executed action Message_app.Controllers.AuthController.Login (Message_app) in 17.3952ms
2025-05-22 20:05:16.341 +07:00 [INF] Executed endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 20:05:16.341 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5053/api/Auth/login - 200 null application/json; charset=utf-8 18.4628ms
2025-05-22 20:05:16.441 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__client_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[conversation_id]
FROM [Participants] AS [p]
WHERE [p].[user_id] = @__client_UserId_0 AND [p].[is_deleted] = CAST(0 AS bit)
2025-05-22 20:05:16.441 +07:00 [INF] User 3 already subscribed to channel conversation:1
2025-05-22 20:05:16.442 +07:00 [INF] User 3 already subscribed to channel conversation:2
2025-05-22 20:05:16.442 +07:00 [INF] User 3 already subscribed to channel conversation:9
2025-05-22 20:05:16.442 +07:00 [INF] User 3 already subscribed to channel conversation:19
2025-05-22 20:05:16.442 +07:00 [INF] User 3 already subscribed to channel conversation:25
2025-05-22 20:05:16.443 +07:00 [INF] User 3 already subscribed to channel conversation:26
2025-05-22 20:05:16.443 +07:00 [INF] User 3 already subscribed to channel conversation:27
2025-05-22 20:05:16.443 +07:00 [INF] User 3 already subscribed to channel conversation:28
2025-05-22 20:05:16.443 +07:00 [INF] User 3 already subscribed to channel conversation:29
2025-05-22 20:05:16.443 +07:00 [INF] User 3 already subscribed to channel conversation:32
2025-05-22 20:05:16.443 +07:00 [INF] User 3 already subscribed to channel conversation:34
2025-05-22 20:05:16.443 +07:00 [INF] User 3 already subscribed to channel conversation:35
2025-05-22 20:05:16.443 +07:00 [INF] User 3 already subscribed to channel conversation:36
2025-05-22 20:05:16.443 +07:00 [INF] User 3 already subscribed to channel conversation:37
2025-05-22 20:05:16.443 +07:00 [INF] User 3 already subscribed to channel conversation:38
2025-05-22 20:05:16.443 +07:00 [INF] User 3 already subscribed to channel conversation:39
2025-05-22 20:05:16.443 +07:00 [INF] User 3 already subscribed to channel conversation:40
2025-05-22 20:05:16.443 +07:00 [INF] User 3 already subscribed to channel conversation:42
2025-05-22 20:05:16.443 +07:00 [INF] User 3 already subscribed to channel conversation:43
2025-05-22 20:05:16.443 +07:00 [INF] User 3 already subscribed to channel conversation:44
2025-05-22 20:05:16.443 +07:00 [INF] User 3 already subscribed to channel conversation:45
2025-05-22 20:05:16.507 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5053/api/Auth/login - application/json 60
2025-05-22 20:05:16.507 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:05:16.507 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:05:16.508 +07:00 [INF] Executing endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 20:05:16.508 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(server.DTO.AuthDTO.LoginDTO) on controller Message_app.Controllers.AuthController (Message_app).
2025-05-22 20:05:16.518 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[@__client_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[conversation_id]
FROM [Participants] AS [p]
WHERE [p].[user_id] = @__client_UserId_0 AND [p].[is_deleted] = CAST(0 AS bit)
2025-05-22 20:05:16.519 +07:00 [INF] User 3 already subscribed to channel conversation:1
2025-05-22 20:05:16.519 +07:00 [INF] User 3 already subscribed to channel conversation:2
2025-05-22 20:05:16.519 +07:00 [INF] User 3 already subscribed to channel conversation:9
2025-05-22 20:05:16.520 +07:00 [INF] User 3 already subscribed to channel conversation:19
2025-05-22 20:05:16.520 +07:00 [INF] User 3 already subscribed to channel conversation:25
2025-05-22 20:05:16.520 +07:00 [INF] User 3 already subscribed to channel conversation:26
2025-05-22 20:05:16.520 +07:00 [INF] User 3 already subscribed to channel conversation:27
2025-05-22 20:05:16.520 +07:00 [INF] User 3 already subscribed to channel conversation:28
2025-05-22 20:05:16.520 +07:00 [INF] User 3 already subscribed to channel conversation:29
2025-05-22 20:05:16.520 +07:00 [INF] User 3 already subscribed to channel conversation:32
2025-05-22 20:05:16.520 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[avatar_url], [u].[bio], [u].[birthday], [u].[created_at], [u].[email], [u].[fcmToken], [u].[gender], [u].[interests], [u].[location], [u].[password], [u].[passwordSalt], [u].[username]
FROM [Users] AS [u]
WHERE [u].[email] = @__email_0
2025-05-22 20:05:16.520 +07:00 [INF] User 3 already subscribed to channel conversation:34
2025-05-22 20:05:16.520 +07:00 [INF] User 3 already subscribed to channel conversation:35
2025-05-22 20:05:16.520 +07:00 [INF] User 3 already subscribed to channel conversation:36
2025-05-22 20:05:16.520 +07:00 [INF] User 3 already subscribed to channel conversation:37
2025-05-22 20:05:16.520 +07:00 [INF] User 3 already subscribed to channel conversation:38
2025-05-22 20:05:16.521 +07:00 [INF] User 3 already subscribed to channel conversation:39
2025-05-22 20:05:16.521 +07:00 [INF] User 3 already subscribed to channel conversation:40
2025-05-22 20:05:16.521 +07:00 [INF] User 3 already subscribed to channel conversation:42
2025-05-22 20:05:16.521 +07:00 [INF] User 3 already subscribed to channel conversation:43
2025-05-22 20:05:16.521 +07:00 [INF] User 3 already subscribed to channel conversation:44
2025-05-22 20:05:16.521 +07:00 [INF] User 3 already subscribed to channel conversation:45
2025-05-22 20:05:16.522 +07:00 [INF] Executing OkObjectResult, writing value of type 'server.DTO.AuthDTO.LoginRespose'.
2025-05-22 20:05:16.523 +07:00 [INF] Executed action Message_app.Controllers.AuthController.Login (Message_app) in 14.6704ms
2025-05-22 20:05:16.523 +07:00 [INF] Executed endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 20:05:16.523 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5053/api/Auth/login - 200 null application/json; charset=utf-8 15.6697ms
2025-05-22 20:05:16.668 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5053/api/Auth/login - application/json 60
2025-05-22 20:05:16.668 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:05:16.669 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:05:16.669 +07:00 [INF] Executing endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 20:05:16.669 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(server.DTO.AuthDTO.LoginDTO) on controller Message_app.Controllers.AuthController (Message_app).
2025-05-22 20:05:16.681 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[avatar_url], [u].[bio], [u].[birthday], [u].[created_at], [u].[email], [u].[fcmToken], [u].[gender], [u].[interests], [u].[location], [u].[password], [u].[passwordSalt], [u].[username]
FROM [Users] AS [u]
WHERE [u].[email] = @__email_0
2025-05-22 20:05:16.683 +07:00 [INF] Executing OkObjectResult, writing value of type 'server.DTO.AuthDTO.LoginRespose'.
2025-05-22 20:05:16.684 +07:00 [INF] Executed action Message_app.Controllers.AuthController.Login (Message_app) in 14.7392ms
2025-05-22 20:05:16.684 +07:00 [INF] Executed endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 20:05:16.684 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5053/api/Auth/login - 200 null application/json; charset=utf-8 15.6775ms
2025-05-22 20:05:16.685 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[@__client_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[conversation_id]
FROM [Participants] AS [p]
WHERE [p].[user_id] = @__client_UserId_0 AND [p].[is_deleted] = CAST(0 AS bit)
2025-05-22 20:05:16.685 +07:00 [INF] User 3 already subscribed to channel conversation:1
2025-05-22 20:05:16.685 +07:00 [INF] User 3 already subscribed to channel conversation:2
2025-05-22 20:05:16.685 +07:00 [INF] User 3 already subscribed to channel conversation:9
2025-05-22 20:05:16.685 +07:00 [INF] User 3 already subscribed to channel conversation:19
2025-05-22 20:05:16.685 +07:00 [INF] User 3 already subscribed to channel conversation:25
2025-05-22 20:05:16.685 +07:00 [INF] User 3 already subscribed to channel conversation:26
2025-05-22 20:05:16.685 +07:00 [INF] User 3 already subscribed to channel conversation:27
2025-05-22 20:05:16.685 +07:00 [INF] User 3 already subscribed to channel conversation:28
2025-05-22 20:05:16.685 +07:00 [INF] User 3 already subscribed to channel conversation:29
2025-05-22 20:05:16.685 +07:00 [INF] User 3 already subscribed to channel conversation:32
2025-05-22 20:05:16.685 +07:00 [INF] User 3 already subscribed to channel conversation:34
2025-05-22 20:05:16.685 +07:00 [INF] User 3 already subscribed to channel conversation:35
2025-05-22 20:05:16.686 +07:00 [INF] User 3 already subscribed to channel conversation:36
2025-05-22 20:05:16.686 +07:00 [INF] User 3 already subscribed to channel conversation:37
2025-05-22 20:05:16.686 +07:00 [INF] User 3 already subscribed to channel conversation:38
2025-05-22 20:05:16.686 +07:00 [INF] User 3 already subscribed to channel conversation:39
2025-05-22 20:05:16.686 +07:00 [INF] User 3 already subscribed to channel conversation:40
2025-05-22 20:05:16.686 +07:00 [INF] User 3 already subscribed to channel conversation:42
2025-05-22 20:05:16.686 +07:00 [INF] User 3 already subscribed to channel conversation:43
2025-05-22 20:05:16.686 +07:00 [INF] User 3 already subscribed to channel conversation:44
2025-05-22 20:05:16.686 +07:00 [INF] User 3 already subscribed to channel conversation:45
2025-05-22 20:05:16.688 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5053/api/Auth/login - application/json 60
2025-05-22 20:05:16.689 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:05:16.689 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:05:16.689 +07:00 [INF] Executing endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 20:05:16.689 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(server.DTO.AuthDTO.LoginDTO) on controller Message_app.Controllers.AuthController (Message_app).
2025-05-22 20:05:16.702 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[avatar_url], [u].[bio], [u].[birthday], [u].[created_at], [u].[email], [u].[fcmToken], [u].[gender], [u].[interests], [u].[location], [u].[password], [u].[passwordSalt], [u].[username]
FROM [Users] AS [u]
WHERE [u].[email] = @__email_0
2025-05-22 20:05:16.703 +07:00 [INF] Executing OkObjectResult, writing value of type 'server.DTO.AuthDTO.LoginRespose'.
2025-05-22 20:05:16.704 +07:00 [INF] Executed action Message_app.Controllers.AuthController.Login (Message_app) in 14.6425ms
2025-05-22 20:05:16.705 +07:00 [INF] Executed endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 20:05:16.705 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5053/api/Auth/login - 200 null application/json; charset=utf-8 16.4599ms
2025-05-22 20:05:16.734 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__client_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[conversation_id]
FROM [Participants] AS [p]
WHERE [p].[user_id] = @__client_UserId_0 AND [p].[is_deleted] = CAST(0 AS bit)
2025-05-22 20:05:16.735 +07:00 [INF] User 3 already subscribed to channel conversation:1
2025-05-22 20:05:16.735 +07:00 [INF] User 3 already subscribed to channel conversation:2
2025-05-22 20:05:16.735 +07:00 [INF] User 3 already subscribed to channel conversation:9
2025-05-22 20:05:16.735 +07:00 [INF] User 3 already subscribed to channel conversation:19
2025-05-22 20:05:16.735 +07:00 [INF] User 3 already subscribed to channel conversation:25
2025-05-22 20:05:16.735 +07:00 [INF] User 3 already subscribed to channel conversation:26
2025-05-22 20:05:16.735 +07:00 [INF] User 3 already subscribed to channel conversation:27
2025-05-22 20:05:16.735 +07:00 [INF] User 3 already subscribed to channel conversation:28
2025-05-22 20:05:16.735 +07:00 [INF] User 3 already subscribed to channel conversation:29
2025-05-22 20:05:16.735 +07:00 [INF] User 3 already subscribed to channel conversation:32
2025-05-22 20:05:16.735 +07:00 [INF] User 3 already subscribed to channel conversation:34
2025-05-22 20:05:16.735 +07:00 [INF] User 3 already subscribed to channel conversation:35
2025-05-22 20:05:16.735 +07:00 [INF] User 3 already subscribed to channel conversation:36
2025-05-22 20:05:16.735 +07:00 [INF] User 3 already subscribed to channel conversation:37
2025-05-22 20:05:16.735 +07:00 [INF] User 3 already subscribed to channel conversation:38
2025-05-22 20:05:16.735 +07:00 [INF] User 3 already subscribed to channel conversation:39
2025-05-22 20:05:16.735 +07:00 [INF] User 3 already subscribed to channel conversation:40
2025-05-22 20:05:16.735 +07:00 [INF] User 3 already subscribed to channel conversation:42
2025-05-22 20:05:16.735 +07:00 [INF] User 3 already subscribed to channel conversation:43
2025-05-22 20:05:16.735 +07:00 [INF] User 3 already subscribed to channel conversation:44
2025-05-22 20:05:16.735 +07:00 [INF] User 3 already subscribed to channel conversation:45
2025-05-22 20:05:16.759 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__client_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[conversation_id]
FROM [Participants] AS [p]
WHERE [p].[user_id] = @__client_UserId_0 AND [p].[is_deleted] = CAST(0 AS bit)
2025-05-22 20:05:16.759 +07:00 [INF] User 3 already subscribed to channel conversation:1
2025-05-22 20:05:16.759 +07:00 [INF] User 3 already subscribed to channel conversation:2
2025-05-22 20:05:16.759 +07:00 [INF] User 3 already subscribed to channel conversation:9
2025-05-22 20:05:16.759 +07:00 [INF] User 3 already subscribed to channel conversation:19
2025-05-22 20:05:16.759 +07:00 [INF] User 3 already subscribed to channel conversation:25
2025-05-22 20:05:16.759 +07:00 [INF] User 3 already subscribed to channel conversation:26
2025-05-22 20:05:16.759 +07:00 [INF] User 3 already subscribed to channel conversation:27
2025-05-22 20:05:16.759 +07:00 [INF] User 3 already subscribed to channel conversation:28
2025-05-22 20:05:16.760 +07:00 [INF] User 3 already subscribed to channel conversation:29
2025-05-22 20:05:16.760 +07:00 [INF] User 3 already subscribed to channel conversation:32
2025-05-22 20:05:16.760 +07:00 [INF] User 3 already subscribed to channel conversation:34
2025-05-22 20:05:16.760 +07:00 [INF] User 3 already subscribed to channel conversation:35
2025-05-22 20:05:16.760 +07:00 [INF] User 3 already subscribed to channel conversation:36
2025-05-22 20:05:16.760 +07:00 [INF] User 3 already subscribed to channel conversation:37
2025-05-22 20:05:16.760 +07:00 [INF] User 3 already subscribed to channel conversation:38
2025-05-22 20:05:16.760 +07:00 [INF] User 3 already subscribed to channel conversation:39
2025-05-22 20:05:16.760 +07:00 [INF] User 3 already subscribed to channel conversation:40
2025-05-22 20:05:16.760 +07:00 [INF] User 3 already subscribed to channel conversation:42
2025-05-22 20:05:16.760 +07:00 [INF] User 3 already subscribed to channel conversation:43
2025-05-22 20:05:16.760 +07:00 [INF] User 3 already subscribed to channel conversation:44
2025-05-22 20:05:16.760 +07:00 [INF] User 3 already subscribed to channel conversation:45
2025-05-22 20:05:17.024 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5053/api/Auth/login - application/json 60
2025-05-22 20:05:17.024 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:05:17.024 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:05:17.024 +07:00 [INF] Executing endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 20:05:17.024 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(server.DTO.AuthDTO.LoginDTO) on controller Message_app.Controllers.AuthController (Message_app).
2025-05-22 20:05:17.033 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[avatar_url], [u].[bio], [u].[birthday], [u].[created_at], [u].[email], [u].[fcmToken], [u].[gender], [u].[interests], [u].[location], [u].[password], [u].[passwordSalt], [u].[username]
FROM [Users] AS [u]
WHERE [u].[email] = @__email_0
2025-05-22 20:05:17.033 +07:00 [INF] Executing OkObjectResult, writing value of type 'server.DTO.AuthDTO.LoginRespose'.
2025-05-22 20:05:17.034 +07:00 [INF] Executed action Message_app.Controllers.AuthController.Login (Message_app) in 9.2729ms
2025-05-22 20:05:17.034 +07:00 [INF] Executed endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 20:05:17.034 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5053/api/Auth/login - 200 null application/json; charset=utf-8 10.1063ms
2025-05-22 20:05:17.049 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__client_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[conversation_id]
FROM [Participants] AS [p]
WHERE [p].[user_id] = @__client_UserId_0 AND [p].[is_deleted] = CAST(0 AS bit)
2025-05-22 20:05:17.049 +07:00 [INF] User 3 already subscribed to channel conversation:1
2025-05-22 20:05:17.049 +07:00 [INF] User 3 already subscribed to channel conversation:2
2025-05-22 20:05:17.049 +07:00 [INF] User 3 already subscribed to channel conversation:9
2025-05-22 20:05:17.049 +07:00 [INF] User 3 already subscribed to channel conversation:19
2025-05-22 20:05:17.050 +07:00 [INF] User 3 already subscribed to channel conversation:25
2025-05-22 20:05:17.050 +07:00 [INF] User 3 already subscribed to channel conversation:26
2025-05-22 20:05:17.050 +07:00 [INF] User 3 already subscribed to channel conversation:27
2025-05-22 20:05:17.050 +07:00 [INF] User 3 already subscribed to channel conversation:28
2025-05-22 20:05:17.050 +07:00 [INF] User 3 already subscribed to channel conversation:29
2025-05-22 20:05:17.050 +07:00 [INF] User 3 already subscribed to channel conversation:32
2025-05-22 20:05:17.050 +07:00 [INF] User 3 already subscribed to channel conversation:34
2025-05-22 20:05:17.050 +07:00 [INF] User 3 already subscribed to channel conversation:35
2025-05-22 20:05:17.050 +07:00 [INF] User 3 already subscribed to channel conversation:36
2025-05-22 20:05:17.050 +07:00 [INF] User 3 already subscribed to channel conversation:37
2025-05-22 20:05:17.050 +07:00 [INF] User 3 already subscribed to channel conversation:38
2025-05-22 20:05:17.050 +07:00 [INF] User 3 already subscribed to channel conversation:39
2025-05-22 20:05:17.050 +07:00 [INF] User 3 already subscribed to channel conversation:40
2025-05-22 20:05:17.050 +07:00 [INF] User 3 already subscribed to channel conversation:42
2025-05-22 20:05:17.050 +07:00 [INF] User 3 already subscribed to channel conversation:43
2025-05-22 20:05:17.050 +07:00 [INF] User 3 already subscribed to channel conversation:44
2025-05-22 20:05:17.050 +07:00 [INF] User 3 already subscribed to channel conversation:45
2025-05-22 20:05:17.444 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5053/api/Auth/login - application/json 60
2025-05-22 20:05:17.444 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:05:17.444 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:05:17.444 +07:00 [INF] Executing endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 20:05:17.444 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(server.DTO.AuthDTO.LoginDTO) on controller Message_app.Controllers.AuthController (Message_app).
2025-05-22 20:05:17.451 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[avatar_url], [u].[bio], [u].[birthday], [u].[created_at], [u].[email], [u].[fcmToken], [u].[gender], [u].[interests], [u].[location], [u].[password], [u].[passwordSalt], [u].[username]
FROM [Users] AS [u]
WHERE [u].[email] = @__email_0
2025-05-22 20:05:17.451 +07:00 [INF] Executing OkObjectResult, writing value of type 'server.DTO.AuthDTO.LoginRespose'.
2025-05-22 20:05:17.451 +07:00 [INF] Executed action Message_app.Controllers.AuthController.Login (Message_app) in 6.9498ms
2025-05-22 20:05:17.451 +07:00 [INF] Executed endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 20:05:17.452 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5053/api/Auth/login - 200 null application/json; charset=utf-8 7.7604ms
2025-05-22 20:05:17.482 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__client_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[conversation_id]
FROM [Participants] AS [p]
WHERE [p].[user_id] = @__client_UserId_0 AND [p].[is_deleted] = CAST(0 AS bit)
2025-05-22 20:05:17.482 +07:00 [INF] User 3 already subscribed to channel conversation:1
2025-05-22 20:05:17.482 +07:00 [INF] User 3 already subscribed to channel conversation:2
2025-05-22 20:05:17.482 +07:00 [INF] User 3 already subscribed to channel conversation:9
2025-05-22 20:05:17.482 +07:00 [INF] User 3 already subscribed to channel conversation:19
2025-05-22 20:05:17.482 +07:00 [INF] User 3 already subscribed to channel conversation:25
2025-05-22 20:05:17.482 +07:00 [INF] User 3 already subscribed to channel conversation:26
2025-05-22 20:05:17.482 +07:00 [INF] User 3 already subscribed to channel conversation:27
2025-05-22 20:05:17.482 +07:00 [INF] User 3 already subscribed to channel conversation:28
2025-05-22 20:05:17.482 +07:00 [INF] User 3 already subscribed to channel conversation:29
2025-05-22 20:05:17.482 +07:00 [INF] User 3 already subscribed to channel conversation:32
2025-05-22 20:05:17.482 +07:00 [INF] User 3 already subscribed to channel conversation:34
2025-05-22 20:05:17.482 +07:00 [INF] User 3 already subscribed to channel conversation:35
2025-05-22 20:05:17.482 +07:00 [INF] User 3 already subscribed to channel conversation:36
2025-05-22 20:05:17.482 +07:00 [INF] User 3 already subscribed to channel conversation:37
2025-05-22 20:05:17.482 +07:00 [INF] User 3 already subscribed to channel conversation:38
2025-05-22 20:05:17.482 +07:00 [INF] User 3 already subscribed to channel conversation:39
2025-05-22 20:05:17.482 +07:00 [INF] User 3 already subscribed to channel conversation:40
2025-05-22 20:05:17.482 +07:00 [INF] User 3 already subscribed to channel conversation:42
2025-05-22 20:05:17.483 +07:00 [INF] User 3 already subscribed to channel conversation:43
2025-05-22 20:05:17.483 +07:00 [INF] User 3 already subscribed to channel conversation:44
2025-05-22 20:05:17.483 +07:00 [INF] User 3 already subscribed to channel conversation:45
2025-05-22 20:05:17.837 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5053/api/Auth/login - application/json 60
2025-05-22 20:05:17.837 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:05:17.837 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:05:17.838 +07:00 [INF] Executing endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 20:05:17.838 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(server.DTO.AuthDTO.LoginDTO) on controller Message_app.Controllers.AuthController (Message_app).
2025-05-22 20:05:17.844 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[avatar_url], [u].[bio], [u].[birthday], [u].[created_at], [u].[email], [u].[fcmToken], [u].[gender], [u].[interests], [u].[location], [u].[password], [u].[passwordSalt], [u].[username]
FROM [Users] AS [u]
WHERE [u].[email] = @__email_0
2025-05-22 20:05:17.844 +07:00 [INF] Executing OkObjectResult, writing value of type 'server.DTO.AuthDTO.LoginRespose'.
2025-05-22 20:05:17.844 +07:00 [INF] Executed action Message_app.Controllers.AuthController.Login (Message_app) in 6.7214ms
2025-05-22 20:05:17.844 +07:00 [INF] Executed endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 20:05:17.845 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5053/api/Auth/login - 200 null application/json; charset=utf-8 7.36ms
2025-05-22 20:05:17.865 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__client_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[conversation_id]
FROM [Participants] AS [p]
WHERE [p].[user_id] = @__client_UserId_0 AND [p].[is_deleted] = CAST(0 AS bit)
2025-05-22 20:05:17.865 +07:00 [INF] User 3 already subscribed to channel conversation:1
2025-05-22 20:05:17.865 +07:00 [INF] User 3 already subscribed to channel conversation:2
2025-05-22 20:05:17.865 +07:00 [INF] User 3 already subscribed to channel conversation:9
2025-05-22 20:05:17.866 +07:00 [INF] User 3 already subscribed to channel conversation:19
2025-05-22 20:05:17.866 +07:00 [INF] User 3 already subscribed to channel conversation:25
2025-05-22 20:05:17.866 +07:00 [INF] User 3 already subscribed to channel conversation:26
2025-05-22 20:05:17.866 +07:00 [INF] User 3 already subscribed to channel conversation:27
2025-05-22 20:05:17.866 +07:00 [INF] User 3 already subscribed to channel conversation:28
2025-05-22 20:05:17.866 +07:00 [INF] User 3 already subscribed to channel conversation:29
2025-05-22 20:05:17.866 +07:00 [INF] User 3 already subscribed to channel conversation:32
2025-05-22 20:05:17.866 +07:00 [INF] User 3 already subscribed to channel conversation:34
2025-05-22 20:05:17.866 +07:00 [INF] User 3 already subscribed to channel conversation:35
2025-05-22 20:05:17.866 +07:00 [INF] User 3 already subscribed to channel conversation:36
2025-05-22 20:05:17.866 +07:00 [INF] User 3 already subscribed to channel conversation:37
2025-05-22 20:05:17.866 +07:00 [INF] User 3 already subscribed to channel conversation:38
2025-05-22 20:05:17.866 +07:00 [INF] User 3 already subscribed to channel conversation:39
2025-05-22 20:05:17.866 +07:00 [INF] User 3 already subscribed to channel conversation:40
2025-05-22 20:05:17.866 +07:00 [INF] User 3 already subscribed to channel conversation:42
2025-05-22 20:05:17.866 +07:00 [INF] User 3 already subscribed to channel conversation:43
2025-05-22 20:05:17.866 +07:00 [INF] User 3 already subscribed to channel conversation:44
2025-05-22 20:05:17.866 +07:00 [INF] User 3 already subscribed to channel conversation:45
2025-05-22 20:05:19.239 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5053/api/Auth/login - application/json 60
2025-05-22 20:05:19.239 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:05:19.239 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:05:19.240 +07:00 [INF] Executing endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 20:05:19.240 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(server.DTO.AuthDTO.LoginDTO) on controller Message_app.Controllers.AuthController (Message_app).
2025-05-22 20:05:19.247 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[avatar_url], [u].[bio], [u].[birthday], [u].[created_at], [u].[email], [u].[fcmToken], [u].[gender], [u].[interests], [u].[location], [u].[password], [u].[passwordSalt], [u].[username]
FROM [Users] AS [u]
WHERE [u].[email] = @__email_0
2025-05-22 20:05:19.247 +07:00 [INF] Executing OkObjectResult, writing value of type 'server.DTO.AuthDTO.LoginRespose'.
2025-05-22 20:05:19.247 +07:00 [INF] Executed action Message_app.Controllers.AuthController.Login (Message_app) in 7.617ms
2025-05-22 20:05:19.247 +07:00 [INF] Executed endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 20:05:19.247 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5053/api/Auth/login - 200 null application/json; charset=utf-8 8.1704ms
2025-05-22 20:05:19.281 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__client_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[conversation_id]
FROM [Participants] AS [p]
WHERE [p].[user_id] = @__client_UserId_0 AND [p].[is_deleted] = CAST(0 AS bit)
2025-05-22 20:05:19.282 +07:00 [INF] User 3 already subscribed to channel conversation:1
2025-05-22 20:05:19.282 +07:00 [INF] User 3 already subscribed to channel conversation:2
2025-05-22 20:05:19.282 +07:00 [INF] User 3 already subscribed to channel conversation:9
2025-05-22 20:05:19.282 +07:00 [INF] User 3 already subscribed to channel conversation:19
2025-05-22 20:05:19.283 +07:00 [INF] User 3 already subscribed to channel conversation:25
2025-05-22 20:05:19.283 +07:00 [INF] User 3 already subscribed to channel conversation:26
2025-05-22 20:05:19.283 +07:00 [INF] User 3 already subscribed to channel conversation:27
2025-05-22 20:05:19.283 +07:00 [INF] User 3 already subscribed to channel conversation:28
2025-05-22 20:05:19.283 +07:00 [INF] User 3 already subscribed to channel conversation:29
2025-05-22 20:05:19.283 +07:00 [INF] User 3 already subscribed to channel conversation:32
2025-05-22 20:05:19.284 +07:00 [INF] User 3 already subscribed to channel conversation:34
2025-05-22 20:05:19.284 +07:00 [INF] User 3 already subscribed to channel conversation:35
2025-05-22 20:05:19.284 +07:00 [INF] User 3 already subscribed to channel conversation:36
2025-05-22 20:05:19.284 +07:00 [INF] User 3 already subscribed to channel conversation:37
2025-05-22 20:05:19.284 +07:00 [INF] User 3 already subscribed to channel conversation:38
2025-05-22 20:05:19.284 +07:00 [INF] User 3 already subscribed to channel conversation:39
2025-05-22 20:05:19.284 +07:00 [INF] User 3 already subscribed to channel conversation:40
2025-05-22 20:05:19.284 +07:00 [INF] User 3 already subscribed to channel conversation:42
2025-05-22 20:05:19.284 +07:00 [INF] User 3 already subscribed to channel conversation:43
2025-05-22 20:05:19.284 +07:00 [INF] User 3 already subscribed to channel conversation:44
2025-05-22 20:05:19.284 +07:00 [INF] User 3 already subscribed to channel conversation:45
2025-05-22 20:05:19.372 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5053/api/Auth/login - application/json 60
2025-05-22 20:05:19.373 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:05:19.373 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:05:19.373 +07:00 [INF] Executing endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 20:05:19.373 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(server.DTO.AuthDTO.LoginDTO) on controller Message_app.Controllers.AuthController (Message_app).
2025-05-22 20:05:19.442 +07:00 [INF] Executed DbCommand (67ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[avatar_url], [u].[bio], [u].[birthday], [u].[created_at], [u].[email], [u].[fcmToken], [u].[gender], [u].[interests], [u].[location], [u].[password], [u].[passwordSalt], [u].[username]
FROM [Users] AS [u]
WHERE [u].[email] = @__email_0
2025-05-22 20:05:19.444 +07:00 [INF] Executing OkObjectResult, writing value of type 'server.DTO.AuthDTO.LoginRespose'.
2025-05-22 20:05:19.444 +07:00 [INF] Executed action Message_app.Controllers.AuthController.Login (Message_app) in 70.97ms
2025-05-22 20:05:19.444 +07:00 [INF] Executed endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 20:05:19.444 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5053/api/Auth/login - 200 null application/json; charset=utf-8 72.0746ms
2025-05-22 20:05:19.570 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__client_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[conversation_id]
FROM [Participants] AS [p]
WHERE [p].[user_id] = @__client_UserId_0 AND [p].[is_deleted] = CAST(0 AS bit)
2025-05-22 20:05:19.571 +07:00 [INF] User 3 already subscribed to channel conversation:1
2025-05-22 20:05:19.571 +07:00 [INF] User 3 already subscribed to channel conversation:2
2025-05-22 20:05:19.571 +07:00 [INF] User 3 already subscribed to channel conversation:9
2025-05-22 20:05:19.571 +07:00 [INF] User 3 already subscribed to channel conversation:19
2025-05-22 20:05:19.571 +07:00 [INF] User 3 already subscribed to channel conversation:25
2025-05-22 20:05:19.571 +07:00 [INF] User 3 already subscribed to channel conversation:26
2025-05-22 20:05:19.571 +07:00 [INF] User 3 already subscribed to channel conversation:27
2025-05-22 20:05:19.571 +07:00 [INF] User 3 already subscribed to channel conversation:28
2025-05-22 20:05:19.571 +07:00 [INF] User 3 already subscribed to channel conversation:29
2025-05-22 20:05:19.571 +07:00 [INF] User 3 already subscribed to channel conversation:32
2025-05-22 20:05:19.571 +07:00 [INF] User 3 already subscribed to channel conversation:34
2025-05-22 20:05:19.571 +07:00 [INF] User 3 already subscribed to channel conversation:35
2025-05-22 20:05:19.571 +07:00 [INF] User 3 already subscribed to channel conversation:36
2025-05-22 20:05:19.571 +07:00 [INF] User 3 already subscribed to channel conversation:37
2025-05-22 20:05:19.571 +07:00 [INF] User 3 already subscribed to channel conversation:38
2025-05-22 20:05:19.571 +07:00 [INF] User 3 already subscribed to channel conversation:39
2025-05-22 20:05:19.571 +07:00 [INF] User 3 already subscribed to channel conversation:40
2025-05-22 20:05:19.572 +07:00 [INF] User 3 already subscribed to channel conversation:42
2025-05-22 20:05:19.572 +07:00 [INF] User 3 already subscribed to channel conversation:43
2025-05-22 20:05:19.572 +07:00 [INF] User 3 already subscribed to channel conversation:44
2025-05-22 20:05:19.572 +07:00 [INF] User 3 already subscribed to channel conversation:45
2025-05-22 20:05:19.574 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5053/api/Auth/login - application/json 60
2025-05-22 20:05:19.575 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:05:19.575 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:05:19.575 +07:00 [INF] Executing endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 20:05:19.575 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(server.DTO.AuthDTO.LoginDTO) on controller Message_app.Controllers.AuthController (Message_app).
2025-05-22 20:05:19.584 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[avatar_url], [u].[bio], [u].[birthday], [u].[created_at], [u].[email], [u].[fcmToken], [u].[gender], [u].[interests], [u].[location], [u].[password], [u].[passwordSalt], [u].[username]
FROM [Users] AS [u]
WHERE [u].[email] = @__email_0
2025-05-22 20:05:19.590 +07:00 [INF] Executing OkObjectResult, writing value of type 'server.DTO.AuthDTO.LoginRespose'.
2025-05-22 20:05:19.590 +07:00 [INF] Executed action Message_app.Controllers.AuthController.Login (Message_app) in 14.5463ms
2025-05-22 20:05:19.590 +07:00 [INF] Executed endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 20:05:19.590 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5053/api/Auth/login - 200 null application/json; charset=utf-8 15.6597ms
2025-05-22 20:05:19.654 +07:00 [INF] Executed DbCommand (21ms) [Parameters=[@__client_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[conversation_id]
FROM [Participants] AS [p]
WHERE [p].[user_id] = @__client_UserId_0 AND [p].[is_deleted] = CAST(0 AS bit)
2025-05-22 20:05:19.656 +07:00 [INF] User 3 already subscribed to channel conversation:1
2025-05-22 20:05:19.658 +07:00 [INF] User 3 already subscribed to channel conversation:2
2025-05-22 20:05:19.658 +07:00 [INF] User 3 already subscribed to channel conversation:9
2025-05-22 20:05:19.658 +07:00 [INF] User 3 already subscribed to channel conversation:19
2025-05-22 20:05:19.658 +07:00 [INF] User 3 already subscribed to channel conversation:25
2025-05-22 20:05:19.658 +07:00 [INF] User 3 already subscribed to channel conversation:26
2025-05-22 20:05:19.658 +07:00 [INF] User 3 already subscribed to channel conversation:27
2025-05-22 20:05:19.658 +07:00 [INF] User 3 already subscribed to channel conversation:28
2025-05-22 20:05:19.658 +07:00 [INF] User 3 already subscribed to channel conversation:29
2025-05-22 20:05:19.658 +07:00 [INF] User 3 already subscribed to channel conversation:32
2025-05-22 20:05:19.658 +07:00 [INF] User 3 already subscribed to channel conversation:34
2025-05-22 20:05:19.658 +07:00 [INF] User 3 already subscribed to channel conversation:35
2025-05-22 20:05:19.658 +07:00 [INF] User 3 already subscribed to channel conversation:36
2025-05-22 20:05:19.659 +07:00 [INF] User 3 already subscribed to channel conversation:37
2025-05-22 20:05:19.659 +07:00 [INF] User 3 already subscribed to channel conversation:38
2025-05-22 20:05:19.659 +07:00 [INF] User 3 already subscribed to channel conversation:39
2025-05-22 20:05:19.659 +07:00 [INF] User 3 already subscribed to channel conversation:40
2025-05-22 20:05:19.659 +07:00 [INF] User 3 already subscribed to channel conversation:42
2025-05-22 20:05:19.659 +07:00 [INF] User 3 already subscribed to channel conversation:43
2025-05-22 20:05:19.659 +07:00 [INF] User 3 already subscribed to channel conversation:44
2025-05-22 20:05:19.659 +07:00 [INF] User 3 already subscribed to channel conversation:45
2025-05-22 20:05:19.741 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5053/api/Auth/login - application/json 60
2025-05-22 20:05:19.741 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:05:19.741 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:05:19.741 +07:00 [INF] Executing endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 20:05:19.741 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(server.DTO.AuthDTO.LoginDTO) on controller Message_app.Controllers.AuthController (Message_app).
2025-05-22 20:05:19.753 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[avatar_url], [u].[bio], [u].[birthday], [u].[created_at], [u].[email], [u].[fcmToken], [u].[gender], [u].[interests], [u].[location], [u].[password], [u].[passwordSalt], [u].[username]
FROM [Users] AS [u]
WHERE [u].[email] = @__email_0
2025-05-22 20:05:19.753 +07:00 [INF] Executing OkObjectResult, writing value of type 'server.DTO.AuthDTO.LoginRespose'.
2025-05-22 20:05:19.754 +07:00 [INF] Executed action Message_app.Controllers.AuthController.Login (Message_app) in 12.3147ms
2025-05-22 20:05:19.754 +07:00 [INF] Executed endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 20:05:19.754 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5053/api/Auth/login - 200 null application/json; charset=utf-8 13.1376ms
2025-05-22 20:05:19.771 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__client_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[conversation_id]
FROM [Participants] AS [p]
WHERE [p].[user_id] = @__client_UserId_0 AND [p].[is_deleted] = CAST(0 AS bit)
2025-05-22 20:05:19.771 +07:00 [INF] User 3 already subscribed to channel conversation:1
2025-05-22 20:05:19.771 +07:00 [INF] User 3 already subscribed to channel conversation:2
2025-05-22 20:05:19.771 +07:00 [INF] User 3 already subscribed to channel conversation:9
2025-05-22 20:05:19.771 +07:00 [INF] User 3 already subscribed to channel conversation:19
2025-05-22 20:05:19.771 +07:00 [INF] User 3 already subscribed to channel conversation:25
2025-05-22 20:05:19.771 +07:00 [INF] User 3 already subscribed to channel conversation:26
2025-05-22 20:05:19.771 +07:00 [INF] User 3 already subscribed to channel conversation:27
2025-05-22 20:05:19.771 +07:00 [INF] User 3 already subscribed to channel conversation:28
2025-05-22 20:05:19.771 +07:00 [INF] User 3 already subscribed to channel conversation:29
2025-05-22 20:05:19.771 +07:00 [INF] User 3 already subscribed to channel conversation:32
2025-05-22 20:05:19.771 +07:00 [INF] User 3 already subscribed to channel conversation:34
2025-05-22 20:05:19.771 +07:00 [INF] User 3 already subscribed to channel conversation:35
2025-05-22 20:05:19.771 +07:00 [INF] User 3 already subscribed to channel conversation:36
2025-05-22 20:05:19.771 +07:00 [INF] User 3 already subscribed to channel conversation:37
2025-05-22 20:05:19.771 +07:00 [INF] User 3 already subscribed to channel conversation:38
2025-05-22 20:05:19.771 +07:00 [INF] User 3 already subscribed to channel conversation:39
2025-05-22 20:05:19.771 +07:00 [INF] User 3 already subscribed to channel conversation:40
2025-05-22 20:05:19.771 +07:00 [INF] User 3 already subscribed to channel conversation:42
2025-05-22 20:05:19.771 +07:00 [INF] User 3 already subscribed to channel conversation:43
2025-05-22 20:05:19.771 +07:00 [INF] User 3 already subscribed to channel conversation:44
2025-05-22 20:05:19.771 +07:00 [INF] User 3 already subscribed to channel conversation:45
2025-05-22 20:05:19.877 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5053/api/Auth/login - application/json 60
2025-05-22 20:05:19.877 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:05:19.877 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:05:19.878 +07:00 [INF] Executing endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 20:05:19.878 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(server.DTO.AuthDTO.LoginDTO) on controller Message_app.Controllers.AuthController (Message_app).
2025-05-22 20:05:19.889 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[avatar_url], [u].[bio], [u].[birthday], [u].[created_at], [u].[email], [u].[fcmToken], [u].[gender], [u].[interests], [u].[location], [u].[password], [u].[passwordSalt], [u].[username]
FROM [Users] AS [u]
WHERE [u].[email] = @__email_0
2025-05-22 20:05:19.890 +07:00 [INF] Executing OkObjectResult, writing value of type 'server.DTO.AuthDTO.LoginRespose'.
2025-05-22 20:05:19.890 +07:00 [INF] Executed action Message_app.Controllers.AuthController.Login (Message_app) in 11.9848ms
2025-05-22 20:05:19.890 +07:00 [INF] Executed endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 20:05:19.890 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5053/api/Auth/login - 200 null application/json; charset=utf-8 13.2126ms
2025-05-22 20:05:19.957 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__client_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[conversation_id]
FROM [Participants] AS [p]
WHERE [p].[user_id] = @__client_UserId_0 AND [p].[is_deleted] = CAST(0 AS bit)
2025-05-22 20:05:19.957 +07:00 [INF] User 3 already subscribed to channel conversation:1
2025-05-22 20:05:19.957 +07:00 [INF] User 3 already subscribed to channel conversation:2
2025-05-22 20:05:19.957 +07:00 [INF] User 3 already subscribed to channel conversation:9
2025-05-22 20:05:19.957 +07:00 [INF] User 3 already subscribed to channel conversation:19
2025-05-22 20:05:19.957 +07:00 [INF] User 3 already subscribed to channel conversation:25
2025-05-22 20:05:19.957 +07:00 [INF] User 3 already subscribed to channel conversation:26
2025-05-22 20:05:19.957 +07:00 [INF] User 3 already subscribed to channel conversation:27
2025-05-22 20:05:19.957 +07:00 [INF] User 3 already subscribed to channel conversation:28
2025-05-22 20:05:19.957 +07:00 [INF] User 3 already subscribed to channel conversation:29
2025-05-22 20:05:19.957 +07:00 [INF] User 3 already subscribed to channel conversation:32
2025-05-22 20:05:19.957 +07:00 [INF] User 3 already subscribed to channel conversation:34
2025-05-22 20:05:19.957 +07:00 [INF] User 3 already subscribed to channel conversation:35
2025-05-22 20:05:19.957 +07:00 [INF] User 3 already subscribed to channel conversation:36
2025-05-22 20:05:19.957 +07:00 [INF] User 3 already subscribed to channel conversation:37
2025-05-22 20:05:19.957 +07:00 [INF] User 3 already subscribed to channel conversation:38
2025-05-22 20:05:19.957 +07:00 [INF] User 3 already subscribed to channel conversation:39
2025-05-22 20:05:19.957 +07:00 [INF] User 3 already subscribed to channel conversation:40
2025-05-22 20:05:19.957 +07:00 [INF] User 3 already subscribed to channel conversation:42
2025-05-22 20:05:19.957 +07:00 [INF] User 3 already subscribed to channel conversation:43
2025-05-22 20:05:19.957 +07:00 [INF] User 3 already subscribed to channel conversation:44
2025-05-22 20:05:19.957 +07:00 [INF] User 3 already subscribed to channel conversation:45
2025-05-22 20:05:20.195 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5053/api/Auth/login - null null
2025-05-22 20:05:20.196 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:05:20.196 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5053/api/Auth/login - 204 null null 0.4635ms
2025-05-22 20:05:20.198 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5053/api/Auth/login - application/json 60
2025-05-22 20:05:20.198 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:05:20.198 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:05:20.198 +07:00 [INF] Executing endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 20:05:20.199 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(server.DTO.AuthDTO.LoginDTO) on controller Message_app.Controllers.AuthController (Message_app).
2025-05-22 20:05:20.206 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[avatar_url], [u].[bio], [u].[birthday], [u].[created_at], [u].[email], [u].[fcmToken], [u].[gender], [u].[interests], [u].[location], [u].[password], [u].[passwordSalt], [u].[username]
FROM [Users] AS [u]
WHERE [u].[email] = @__email_0
2025-05-22 20:05:20.206 +07:00 [INF] Executing OkObjectResult, writing value of type 'server.DTO.AuthDTO.LoginRespose'.
2025-05-22 20:05:20.206 +07:00 [INF] Executed action Message_app.Controllers.AuthController.Login (Message_app) in 7.8447ms
2025-05-22 20:05:20.207 +07:00 [INF] Executed endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 20:05:20.207 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5053/api/Auth/login - 200 null application/json; charset=utf-8 8.4717ms
2025-05-22 20:05:20.272 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5053/api/Auth/login - application/json 60
2025-05-22 20:05:20.272 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:05:20.272 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:05:20.272 +07:00 [INF] Executing endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 20:05:20.272 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(server.DTO.AuthDTO.LoginDTO) on controller Message_app.Controllers.AuthController (Message_app).
2025-05-22 20:05:20.278 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[avatar_url], [u].[bio], [u].[birthday], [u].[created_at], [u].[email], [u].[fcmToken], [u].[gender], [u].[interests], [u].[location], [u].[password], [u].[passwordSalt], [u].[username]
FROM [Users] AS [u]
WHERE [u].[email] = @__email_0
2025-05-22 20:05:20.279 +07:00 [INF] Executing OkObjectResult, writing value of type 'server.DTO.AuthDTO.LoginRespose'.
2025-05-22 20:05:20.279 +07:00 [INF] Executed action Message_app.Controllers.AuthController.Login (Message_app) in 7.0236ms
2025-05-22 20:05:20.279 +07:00 [INF] Executed endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 20:05:20.280 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5053/api/Auth/login - 200 null application/json; charset=utf-8 7.8278ms
2025-05-22 20:05:20.325 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5053/api/Auth/login - application/json 60
2025-05-22 20:05:20.325 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:05:20.325 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:05:20.325 +07:00 [INF] Executing endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 20:05:20.325 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(server.DTO.AuthDTO.LoginDTO) on controller Message_app.Controllers.AuthController (Message_app).
2025-05-22 20:05:20.331 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[avatar_url], [u].[bio], [u].[birthday], [u].[created_at], [u].[email], [u].[fcmToken], [u].[gender], [u].[interests], [u].[location], [u].[password], [u].[passwordSalt], [u].[username]
FROM [Users] AS [u]
WHERE [u].[email] = @__email_0
2025-05-22 20:05:20.331 +07:00 [INF] Executing OkObjectResult, writing value of type 'server.DTO.AuthDTO.LoginRespose'.
2025-05-22 20:05:20.331 +07:00 [INF] Executed action Message_app.Controllers.AuthController.Login (Message_app) in 5.9473ms
2025-05-22 20:05:20.332 +07:00 [INF] Executed endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 20:05:20.332 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5053/api/Auth/login - 200 null application/json; charset=utf-8 7.1807ms
2025-05-22 20:05:20.333 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__client_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[conversation_id]
FROM [Participants] AS [p]
WHERE [p].[user_id] = @__client_UserId_0 AND [p].[is_deleted] = CAST(0 AS bit)
2025-05-22 20:05:20.333 +07:00 [INF] User 3 already subscribed to channel conversation:1
2025-05-22 20:05:20.333 +07:00 [INF] User 3 already subscribed to channel conversation:2
2025-05-22 20:05:20.333 +07:00 [INF] User 3 already subscribed to channel conversation:9
2025-05-22 20:05:20.333 +07:00 [INF] User 3 already subscribed to channel conversation:19
2025-05-22 20:05:20.333 +07:00 [INF] User 3 already subscribed to channel conversation:25
2025-05-22 20:05:20.333 +07:00 [INF] User 3 already subscribed to channel conversation:26
2025-05-22 20:05:20.334 +07:00 [INF] User 3 already subscribed to channel conversation:27
2025-05-22 20:05:20.334 +07:00 [INF] User 3 already subscribed to channel conversation:28
2025-05-22 20:05:20.334 +07:00 [INF] User 3 already subscribed to channel conversation:29
2025-05-22 20:05:20.334 +07:00 [INF] User 3 already subscribed to channel conversation:32
2025-05-22 20:05:20.334 +07:00 [INF] User 3 already subscribed to channel conversation:34
2025-05-22 20:05:20.334 +07:00 [INF] User 3 already subscribed to channel conversation:35
2025-05-22 20:05:20.334 +07:00 [INF] User 3 already subscribed to channel conversation:36
2025-05-22 20:05:20.334 +07:00 [INF] User 3 already subscribed to channel conversation:37
2025-05-22 20:05:20.334 +07:00 [INF] User 3 already subscribed to channel conversation:38
2025-05-22 20:05:20.334 +07:00 [INF] User 3 already subscribed to channel conversation:39
2025-05-22 20:05:20.334 +07:00 [INF] User 3 already subscribed to channel conversation:40
2025-05-22 20:05:20.334 +07:00 [INF] User 3 already subscribed to channel conversation:42
2025-05-22 20:05:20.334 +07:00 [INF] User 3 already subscribed to channel conversation:43
2025-05-22 20:05:20.334 +07:00 [INF] User 3 already subscribed to channel conversation:44
2025-05-22 20:05:20.334 +07:00 [INF] User 3 already subscribed to channel conversation:45
2025-05-22 20:05:20.337 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__client_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[conversation_id]
FROM [Participants] AS [p]
WHERE [p].[user_id] = @__client_UserId_0 AND [p].[is_deleted] = CAST(0 AS bit)
2025-05-22 20:05:20.338 +07:00 [INF] User 3 already subscribed to channel conversation:1
2025-05-22 20:05:20.338 +07:00 [INF] User 3 already subscribed to channel conversation:2
2025-05-22 20:05:20.338 +07:00 [INF] User 3 already subscribed to channel conversation:9
2025-05-22 20:05:20.338 +07:00 [INF] User 3 already subscribed to channel conversation:19
2025-05-22 20:05:20.338 +07:00 [INF] User 3 already subscribed to channel conversation:25
2025-05-22 20:05:20.338 +07:00 [INF] User 3 already subscribed to channel conversation:26
2025-05-22 20:05:20.338 +07:00 [INF] User 3 already subscribed to channel conversation:27
2025-05-22 20:05:20.338 +07:00 [INF] User 3 already subscribed to channel conversation:28
2025-05-22 20:05:20.338 +07:00 [INF] User 3 already subscribed to channel conversation:29
2025-05-22 20:05:20.338 +07:00 [INF] User 3 already subscribed to channel conversation:32
2025-05-22 20:05:20.338 +07:00 [INF] User 3 already subscribed to channel conversation:34
2025-05-22 20:05:20.338 +07:00 [INF] User 3 already subscribed to channel conversation:35
2025-05-22 20:05:20.338 +07:00 [INF] User 3 already subscribed to channel conversation:36
2025-05-22 20:05:20.338 +07:00 [INF] User 3 already subscribed to channel conversation:37
2025-05-22 20:05:20.338 +07:00 [INF] User 3 already subscribed to channel conversation:38
2025-05-22 20:05:20.338 +07:00 [INF] User 3 already subscribed to channel conversation:39
2025-05-22 20:05:20.338 +07:00 [INF] User 3 already subscribed to channel conversation:40
2025-05-22 20:05:20.338 +07:00 [INF] User 3 already subscribed to channel conversation:42
2025-05-22 20:05:20.338 +07:00 [INF] User 3 already subscribed to channel conversation:43
2025-05-22 20:05:20.338 +07:00 [INF] User 3 already subscribed to channel conversation:44
2025-05-22 20:05:20.338 +07:00 [INF] User 3 already subscribed to channel conversation:45
2025-05-22 20:05:20.348 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__client_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[conversation_id]
FROM [Participants] AS [p]
WHERE [p].[user_id] = @__client_UserId_0 AND [p].[is_deleted] = CAST(0 AS bit)
2025-05-22 20:05:20.348 +07:00 [INF] User 3 already subscribed to channel conversation:1
2025-05-22 20:05:20.348 +07:00 [INF] User 3 already subscribed to channel conversation:2
2025-05-22 20:05:20.348 +07:00 [INF] User 3 already subscribed to channel conversation:9
2025-05-22 20:05:20.348 +07:00 [INF] User 3 already subscribed to channel conversation:19
2025-05-22 20:05:20.348 +07:00 [INF] User 3 already subscribed to channel conversation:25
2025-05-22 20:05:20.348 +07:00 [INF] User 3 already subscribed to channel conversation:26
2025-05-22 20:05:20.348 +07:00 [INF] User 3 already subscribed to channel conversation:27
2025-05-22 20:05:20.349 +07:00 [INF] User 3 already subscribed to channel conversation:28
2025-05-22 20:05:20.349 +07:00 [INF] User 3 already subscribed to channel conversation:29
2025-05-22 20:05:20.349 +07:00 [INF] User 3 already subscribed to channel conversation:32
2025-05-22 20:05:20.349 +07:00 [INF] User 3 already subscribed to channel conversation:34
2025-05-22 20:05:20.349 +07:00 [INF] User 3 already subscribed to channel conversation:35
2025-05-22 20:05:20.349 +07:00 [INF] User 3 already subscribed to channel conversation:36
2025-05-22 20:05:20.349 +07:00 [INF] User 3 already subscribed to channel conversation:37
2025-05-22 20:05:20.349 +07:00 [INF] User 3 already subscribed to channel conversation:38
2025-05-22 20:05:20.349 +07:00 [INF] User 3 already subscribed to channel conversation:39
2025-05-22 20:05:20.349 +07:00 [INF] User 3 already subscribed to channel conversation:40
2025-05-22 20:05:20.349 +07:00 [INF] User 3 already subscribed to channel conversation:42
2025-05-22 20:05:20.349 +07:00 [INF] User 3 already subscribed to channel conversation:43
2025-05-22 20:05:20.349 +07:00 [INF] User 3 already subscribed to channel conversation:44
2025-05-22 20:05:20.349 +07:00 [INF] User 3 already subscribed to channel conversation:45
2025-05-22 20:05:20.506 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5053/api/Auth/login - application/json 60
2025-05-22 20:05:20.506 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:05:20.506 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:05:20.506 +07:00 [INF] Executing endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 20:05:20.507 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(server.DTO.AuthDTO.LoginDTO) on controller Message_app.Controllers.AuthController (Message_app).
2025-05-22 20:05:20.532 +07:00 [INF] Executed DbCommand (21ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[avatar_url], [u].[bio], [u].[birthday], [u].[created_at], [u].[email], [u].[fcmToken], [u].[gender], [u].[interests], [u].[location], [u].[password], [u].[passwordSalt], [u].[username]
FROM [Users] AS [u]
WHERE [u].[email] = @__email_0
2025-05-22 20:05:20.533 +07:00 [INF] Executing OkObjectResult, writing value of type 'server.DTO.AuthDTO.LoginRespose'.
2025-05-22 20:05:20.533 +07:00 [INF] Executed action Message_app.Controllers.AuthController.Login (Message_app) in 26.532ms
2025-05-22 20:05:20.533 +07:00 [INF] Executed endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 20:05:20.533 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5053/api/Auth/login - 200 null application/json; charset=utf-8 27.311ms
2025-05-22 20:05:20.555 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__client_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[conversation_id]
FROM [Participants] AS [p]
WHERE [p].[user_id] = @__client_UserId_0 AND [p].[is_deleted] = CAST(0 AS bit)
2025-05-22 20:05:20.556 +07:00 [INF] User 3 already subscribed to channel conversation:1
2025-05-22 20:05:20.556 +07:00 [INF] User 3 already subscribed to channel conversation:2
2025-05-22 20:05:20.556 +07:00 [INF] User 3 already subscribed to channel conversation:9
2025-05-22 20:05:20.556 +07:00 [INF] User 3 already subscribed to channel conversation:19
2025-05-22 20:05:20.556 +07:00 [INF] User 3 already subscribed to channel conversation:25
2025-05-22 20:05:20.556 +07:00 [INF] User 3 already subscribed to channel conversation:26
2025-05-22 20:05:20.556 +07:00 [INF] User 3 already subscribed to channel conversation:27
2025-05-22 20:05:20.556 +07:00 [INF] User 3 already subscribed to channel conversation:28
2025-05-22 20:05:20.556 +07:00 [INF] User 3 already subscribed to channel conversation:29
2025-05-22 20:05:20.556 +07:00 [INF] User 3 already subscribed to channel conversation:32
2025-05-22 20:05:20.556 +07:00 [INF] User 3 already subscribed to channel conversation:34
2025-05-22 20:05:20.556 +07:00 [INF] User 3 already subscribed to channel conversation:35
2025-05-22 20:05:20.556 +07:00 [INF] User 3 already subscribed to channel conversation:36
2025-05-22 20:05:20.556 +07:00 [INF] User 3 already subscribed to channel conversation:37
2025-05-22 20:05:20.556 +07:00 [INF] User 3 already subscribed to channel conversation:38
2025-05-22 20:05:20.556 +07:00 [INF] User 3 already subscribed to channel conversation:39
2025-05-22 20:05:20.557 +07:00 [INF] User 3 already subscribed to channel conversation:40
2025-05-22 20:05:20.557 +07:00 [INF] User 3 already subscribed to channel conversation:42
2025-05-22 20:05:20.557 +07:00 [INF] User 3 already subscribed to channel conversation:43
2025-05-22 20:05:20.557 +07:00 [INF] User 3 already subscribed to channel conversation:44
2025-05-22 20:05:20.557 +07:00 [INF] User 3 already subscribed to channel conversation:45
2025-05-22 20:05:20.641 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5053/api/Auth/login - application/json 60
2025-05-22 20:05:20.641 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:05:20.641 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:05:20.641 +07:00 [INF] Executing endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 20:05:20.641 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(server.DTO.AuthDTO.LoginDTO) on controller Message_app.Controllers.AuthController (Message_app).
2025-05-22 20:05:20.645 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[avatar_url], [u].[bio], [u].[birthday], [u].[created_at], [u].[email], [u].[fcmToken], [u].[gender], [u].[interests], [u].[location], [u].[password], [u].[passwordSalt], [u].[username]
FROM [Users] AS [u]
WHERE [u].[email] = @__email_0
2025-05-22 20:05:20.645 +07:00 [INF] Executing OkObjectResult, writing value of type 'server.DTO.AuthDTO.LoginRespose'.
2025-05-22 20:05:20.646 +07:00 [INF] Executed action Message_app.Controllers.AuthController.Login (Message_app) in 4.7503ms
2025-05-22 20:05:20.646 +07:00 [INF] Executed endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 20:05:20.646 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5053/api/Auth/login - 200 null application/json; charset=utf-8 5.5064ms
2025-05-22 20:05:20.664 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__client_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[conversation_id]
FROM [Participants] AS [p]
WHERE [p].[user_id] = @__client_UserId_0 AND [p].[is_deleted] = CAST(0 AS bit)
2025-05-22 20:05:20.664 +07:00 [INF] User 3 already subscribed to channel conversation:1
2025-05-22 20:05:20.664 +07:00 [INF] User 3 already subscribed to channel conversation:2
2025-05-22 20:05:20.665 +07:00 [INF] User 3 already subscribed to channel conversation:9
2025-05-22 20:05:20.665 +07:00 [INF] User 3 already subscribed to channel conversation:19
2025-05-22 20:05:20.665 +07:00 [INF] User 3 already subscribed to channel conversation:25
2025-05-22 20:05:20.665 +07:00 [INF] User 3 already subscribed to channel conversation:26
2025-05-22 20:05:20.665 +07:00 [INF] User 3 already subscribed to channel conversation:27
2025-05-22 20:05:20.665 +07:00 [INF] User 3 already subscribed to channel conversation:28
2025-05-22 20:05:20.665 +07:00 [INF] User 3 already subscribed to channel conversation:29
2025-05-22 20:05:20.665 +07:00 [INF] User 3 already subscribed to channel conversation:32
2025-05-22 20:05:20.665 +07:00 [INF] User 3 already subscribed to channel conversation:34
2025-05-22 20:05:20.665 +07:00 [INF] User 3 already subscribed to channel conversation:35
2025-05-22 20:05:20.665 +07:00 [INF] User 3 already subscribed to channel conversation:36
2025-05-22 20:05:20.665 +07:00 [INF] User 3 already subscribed to channel conversation:37
2025-05-22 20:05:20.665 +07:00 [INF] User 3 already subscribed to channel conversation:38
2025-05-22 20:05:20.665 +07:00 [INF] User 3 already subscribed to channel conversation:39
2025-05-22 20:05:20.665 +07:00 [INF] User 3 already subscribed to channel conversation:40
2025-05-22 20:05:20.665 +07:00 [INF] User 3 already subscribed to channel conversation:42
2025-05-22 20:05:20.665 +07:00 [INF] User 3 already subscribed to channel conversation:43
2025-05-22 20:05:20.665 +07:00 [INF] User 3 already subscribed to channel conversation:44
2025-05-22 20:05:20.665 +07:00 [INF] User 3 already subscribed to channel conversation:45
2025-05-22 20:05:20.808 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5053/api/Auth/login - application/json 60
2025-05-22 20:05:20.808 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:05:20.808 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:05:20.809 +07:00 [INF] Executing endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 20:05:20.811 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(server.DTO.AuthDTO.LoginDTO) on controller Message_app.Controllers.AuthController (Message_app).
2025-05-22 20:05:20.825 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[avatar_url], [u].[bio], [u].[birthday], [u].[created_at], [u].[email], [u].[fcmToken], [u].[gender], [u].[interests], [u].[location], [u].[password], [u].[passwordSalt], [u].[username]
FROM [Users] AS [u]
WHERE [u].[email] = @__email_0
2025-05-22 20:05:20.826 +07:00 [INF] Executing OkObjectResult, writing value of type 'server.DTO.AuthDTO.LoginRespose'.
2025-05-22 20:05:20.828 +07:00 [INF] Executed action Message_app.Controllers.AuthController.Login (Message_app) in 17.1861ms
2025-05-22 20:05:20.828 +07:00 [INF] Executed endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 20:05:20.828 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5053/api/Auth/login - 200 null application/json; charset=utf-8 20.5989ms
2025-05-22 20:05:20.960 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5053/api/Auth/login - application/json 60
2025-05-22 20:05:20.961 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:05:20.961 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:05:20.962 +07:00 [INF] Executing endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 20:05:20.962 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(server.DTO.AuthDTO.LoginDTO) on controller Message_app.Controllers.AuthController (Message_app).
2025-05-22 20:05:20.986 +07:00 [INF] Executed DbCommand (43ms) [Parameters=[@__client_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[conversation_id]
FROM [Participants] AS [p]
WHERE [p].[user_id] = @__client_UserId_0 AND [p].[is_deleted] = CAST(0 AS bit)
2025-05-22 20:05:20.986 +07:00 [INF] Executed DbCommand (22ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[avatar_url], [u].[bio], [u].[birthday], [u].[created_at], [u].[email], [u].[fcmToken], [u].[gender], [u].[interests], [u].[location], [u].[password], [u].[passwordSalt], [u].[username]
FROM [Users] AS [u]
WHERE [u].[email] = @__email_0
2025-05-22 20:05:20.987 +07:00 [INF] Executing OkObjectResult, writing value of type 'server.DTO.AuthDTO.LoginRespose'.
2025-05-22 20:05:20.987 +07:00 [INF] Executed action Message_app.Controllers.AuthController.Login (Message_app) in 25.1185ms
2025-05-22 20:05:20.987 +07:00 [INF] Executed endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 20:05:20.987 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5053/api/Auth/login - 200 null application/json; charset=utf-8 27.2023ms
2025-05-22 20:05:20.986 +07:00 [INF] User 3 already subscribed to channel conversation:1
2025-05-22 20:05:20.991 +07:00 [INF] User 3 already subscribed to channel conversation:2
2025-05-22 20:05:20.991 +07:00 [INF] User 3 already subscribed to channel conversation:9
2025-05-22 20:05:20.991 +07:00 [INF] User 3 already subscribed to channel conversation:19
2025-05-22 20:05:20.991 +07:00 [INF] User 3 already subscribed to channel conversation:25
2025-05-22 20:05:20.991 +07:00 [INF] User 3 already subscribed to channel conversation:26
2025-05-22 20:05:20.991 +07:00 [INF] User 3 already subscribed to channel conversation:27
2025-05-22 20:05:20.991 +07:00 [INF] User 3 already subscribed to channel conversation:28
2025-05-22 20:05:20.992 +07:00 [INF] User 3 already subscribed to channel conversation:29
2025-05-22 20:05:20.992 +07:00 [INF] User 3 already subscribed to channel conversation:32
2025-05-22 20:05:20.992 +07:00 [INF] User 3 already subscribed to channel conversation:34
2025-05-22 20:05:20.992 +07:00 [INF] User 3 already subscribed to channel conversation:35
2025-05-22 20:05:20.993 +07:00 [INF] User 3 already subscribed to channel conversation:36
2025-05-22 20:05:20.993 +07:00 [INF] User 3 already subscribed to channel conversation:37
2025-05-22 20:05:20.993 +07:00 [INF] User 3 already subscribed to channel conversation:38
2025-05-22 20:05:20.993 +07:00 [INF] User 3 already subscribed to channel conversation:39
2025-05-22 20:05:20.993 +07:00 [INF] User 3 already subscribed to channel conversation:40
2025-05-22 20:05:20.993 +07:00 [INF] User 3 already subscribed to channel conversation:42
2025-05-22 20:05:20.995 +07:00 [INF] User 3 already subscribed to channel conversation:43
2025-05-22 20:05:20.995 +07:00 [INF] User 3 already subscribed to channel conversation:44
2025-05-22 20:05:20.995 +07:00 [INF] User 3 already subscribed to channel conversation:45
2025-05-22 20:05:21.038 +07:00 [INF] Executed DbCommand (14ms) [Parameters=[@__client_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[conversation_id]
FROM [Participants] AS [p]
WHERE [p].[user_id] = @__client_UserId_0 AND [p].[is_deleted] = CAST(0 AS bit)
2025-05-22 20:05:21.039 +07:00 [INF] User 3 already subscribed to channel conversation:1
2025-05-22 20:05:21.039 +07:00 [INF] User 3 already subscribed to channel conversation:2
2025-05-22 20:05:21.039 +07:00 [INF] User 3 already subscribed to channel conversation:9
2025-05-22 20:05:21.039 +07:00 [INF] User 3 already subscribed to channel conversation:19
2025-05-22 20:05:21.039 +07:00 [INF] User 3 already subscribed to channel conversation:25
2025-05-22 20:05:21.039 +07:00 [INF] User 3 already subscribed to channel conversation:26
2025-05-22 20:05:21.039 +07:00 [INF] User 3 already subscribed to channel conversation:27
2025-05-22 20:05:21.040 +07:00 [INF] User 3 already subscribed to channel conversation:28
2025-05-22 20:05:21.046 +07:00 [INF] User 3 already subscribed to channel conversation:29
2025-05-22 20:05:21.046 +07:00 [INF] User 3 already subscribed to channel conversation:32
2025-05-22 20:05:21.046 +07:00 [INF] User 3 already subscribed to channel conversation:34
2025-05-22 20:05:21.046 +07:00 [INF] User 3 already subscribed to channel conversation:35
2025-05-22 20:05:21.047 +07:00 [INF] User 3 already subscribed to channel conversation:36
2025-05-22 20:05:21.047 +07:00 [INF] User 3 already subscribed to channel conversation:37
2025-05-22 20:05:21.047 +07:00 [INF] User 3 already subscribed to channel conversation:38
2025-05-22 20:05:21.047 +07:00 [INF] User 3 already subscribed to channel conversation:39
2025-05-22 20:05:21.047 +07:00 [INF] User 3 already subscribed to channel conversation:40
2025-05-22 20:05:21.047 +07:00 [INF] User 3 already subscribed to channel conversation:42
2025-05-22 20:05:21.047 +07:00 [INF] User 3 already subscribed to channel conversation:43
2025-05-22 20:05:21.047 +07:00 [INF] User 3 already subscribed to channel conversation:44
2025-05-22 20:05:21.054 +07:00 [INF] User 3 already subscribed to channel conversation:45
2025-05-22 20:05:21.163 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5053/api/Auth/login - application/json 60
2025-05-22 20:05:21.163 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:05:21.163 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:05:21.164 +07:00 [INF] Executing endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 20:05:21.164 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(server.DTO.AuthDTO.LoginDTO) on controller Message_app.Controllers.AuthController (Message_app).
2025-05-22 20:05:21.173 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[avatar_url], [u].[bio], [u].[birthday], [u].[created_at], [u].[email], [u].[fcmToken], [u].[gender], [u].[interests], [u].[location], [u].[password], [u].[passwordSalt], [u].[username]
FROM [Users] AS [u]
WHERE [u].[email] = @__email_0
2025-05-22 20:05:21.175 +07:00 [INF] Executing OkObjectResult, writing value of type 'server.DTO.AuthDTO.LoginRespose'.
2025-05-22 20:05:21.177 +07:00 [INF] Executed action Message_app.Controllers.AuthController.Login (Message_app) in 13.1799ms
2025-05-22 20:05:21.179 +07:00 [INF] Executed endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 20:05:21.179 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5053/api/Auth/login - 200 null application/json; charset=utf-8 16.3684ms
2025-05-22 20:05:21.288 +07:00 [INF] Executed DbCommand (36ms) [Parameters=[@__client_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[conversation_id]
FROM [Participants] AS [p]
WHERE [p].[user_id] = @__client_UserId_0 AND [p].[is_deleted] = CAST(0 AS bit)
2025-05-22 20:05:21.289 +07:00 [INF] User 3 already subscribed to channel conversation:1
2025-05-22 20:05:21.289 +07:00 [INF] User 3 already subscribed to channel conversation:2
2025-05-22 20:05:21.289 +07:00 [INF] User 3 already subscribed to channel conversation:9
2025-05-22 20:05:21.290 +07:00 [INF] User 3 already subscribed to channel conversation:19
2025-05-22 20:05:21.290 +07:00 [INF] User 3 already subscribed to channel conversation:25
2025-05-22 20:05:21.290 +07:00 [INF] User 3 already subscribed to channel conversation:26
2025-05-22 20:05:21.290 +07:00 [INF] User 3 already subscribed to channel conversation:27
2025-05-22 20:05:21.290 +07:00 [INF] User 3 already subscribed to channel conversation:28
2025-05-22 20:05:21.290 +07:00 [INF] User 3 already subscribed to channel conversation:29
2025-05-22 20:05:21.290 +07:00 [INF] User 3 already subscribed to channel conversation:32
2025-05-22 20:05:21.290 +07:00 [INF] User 3 already subscribed to channel conversation:34
2025-05-22 20:05:21.290 +07:00 [INF] User 3 already subscribed to channel conversation:35
2025-05-22 20:05:21.290 +07:00 [INF] User 3 already subscribed to channel conversation:36
2025-05-22 20:05:21.291 +07:00 [INF] User 3 already subscribed to channel conversation:37
2025-05-22 20:05:21.291 +07:00 [INF] User 3 already subscribed to channel conversation:38
2025-05-22 20:05:21.291 +07:00 [INF] User 3 already subscribed to channel conversation:39
2025-05-22 20:05:21.291 +07:00 [INF] User 3 already subscribed to channel conversation:40
2025-05-22 20:05:21.291 +07:00 [INF] User 3 already subscribed to channel conversation:42
2025-05-22 20:05:21.291 +07:00 [INF] User 3 already subscribed to channel conversation:43
2025-05-22 20:05:21.291 +07:00 [INF] User 3 already subscribed to channel conversation:44
2025-05-22 20:05:21.291 +07:00 [INF] User 3 already subscribed to channel conversation:45
2025-05-22 20:05:21.317 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5053/api/Auth/login - application/json 60
2025-05-22 20:05:21.317 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:05:21.317 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:05:21.317 +07:00 [INF] Executing endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 20:05:21.317 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(server.DTO.AuthDTO.LoginDTO) on controller Message_app.Controllers.AuthController (Message_app).
2025-05-22 20:05:21.401 +07:00 [INF] Executed DbCommand (72ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[avatar_url], [u].[bio], [u].[birthday], [u].[created_at], [u].[email], [u].[fcmToken], [u].[gender], [u].[interests], [u].[location], [u].[password], [u].[passwordSalt], [u].[username]
FROM [Users] AS [u]
WHERE [u].[email] = @__email_0
2025-05-22 20:05:21.416 +07:00 [INF] Executing OkObjectResult, writing value of type 'server.DTO.AuthDTO.LoginRespose'.
2025-05-22 20:05:21.417 +07:00 [INF] Executed action Message_app.Controllers.AuthController.Login (Message_app) in 99.71ms
2025-05-22 20:05:21.417 +07:00 [INF] Executed endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 20:05:21.418 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5053/api/Auth/login - 200 null application/json; charset=utf-8 100.8914ms
2025-05-22 20:05:21.449 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5053/api/Auth/login - application/json 60
2025-05-22 20:05:21.450 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:05:21.450 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:05:21.456 +07:00 [INF] Executing endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 20:05:21.456 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(server.DTO.AuthDTO.LoginDTO) on controller Message_app.Controllers.AuthController (Message_app).
2025-05-22 20:05:21.537 +07:00 [INF] Executed DbCommand (71ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[avatar_url], [u].[bio], [u].[birthday], [u].[created_at], [u].[email], [u].[fcmToken], [u].[gender], [u].[interests], [u].[location], [u].[password], [u].[passwordSalt], [u].[username]
FROM [Users] AS [u]
WHERE [u].[email] = @__email_0
2025-05-22 20:05:21.538 +07:00 [INF] Executing OkObjectResult, writing value of type 'server.DTO.AuthDTO.LoginRespose'.
2025-05-22 20:05:21.538 +07:00 [INF] Executed action Message_app.Controllers.AuthController.Login (Message_app) in 81.4761ms
2025-05-22 20:05:21.538 +07:00 [INF] Executed endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 20:05:21.538 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5053/api/Auth/login - 200 null application/json; charset=utf-8 88.8048ms
2025-05-22 20:05:21.586 +07:00 [INF] Executed DbCommand (124ms) [Parameters=[@__client_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[conversation_id]
FROM [Participants] AS [p]
WHERE [p].[user_id] = @__client_UserId_0 AND [p].[is_deleted] = CAST(0 AS bit)
2025-05-22 20:05:21.587 +07:00 [INF] User 3 already subscribed to channel conversation:1
2025-05-22 20:05:21.587 +07:00 [INF] User 3 already subscribed to channel conversation:2
2025-05-22 20:05:21.587 +07:00 [INF] User 3 already subscribed to channel conversation:9
2025-05-22 20:05:21.587 +07:00 [INF] User 3 already subscribed to channel conversation:19
2025-05-22 20:05:21.587 +07:00 [INF] User 3 already subscribed to channel conversation:25
2025-05-22 20:05:21.589 +07:00 [INF] User 3 already subscribed to channel conversation:26
2025-05-22 20:05:21.589 +07:00 [INF] User 3 already subscribed to channel conversation:27
2025-05-22 20:05:21.589 +07:00 [INF] User 3 already subscribed to channel conversation:28
2025-05-22 20:05:21.589 +07:00 [INF] User 3 already subscribed to channel conversation:29
2025-05-22 20:05:21.590 +07:00 [INF] User 3 already subscribed to channel conversation:32
2025-05-22 20:05:21.590 +07:00 [INF] User 3 already subscribed to channel conversation:34
2025-05-22 20:05:21.590 +07:00 [INF] User 3 already subscribed to channel conversation:35
2025-05-22 20:05:21.590 +07:00 [INF] User 3 already subscribed to channel conversation:36
2025-05-22 20:05:21.590 +07:00 [INF] User 3 already subscribed to channel conversation:37
2025-05-22 20:05:21.590 +07:00 [INF] User 3 already subscribed to channel conversation:38
2025-05-22 20:05:21.590 +07:00 [INF] User 3 already subscribed to channel conversation:39
2025-05-22 20:05:21.592 +07:00 [INF] User 3 already subscribed to channel conversation:40
2025-05-22 20:05:21.592 +07:00 [INF] User 3 already subscribed to channel conversation:42
2025-05-22 20:05:21.592 +07:00 [INF] User 3 already subscribed to channel conversation:43
2025-05-22 20:05:21.592 +07:00 [INF] User 3 already subscribed to channel conversation:44
2025-05-22 20:05:21.592 +07:00 [INF] User 3 already subscribed to channel conversation:45
2025-05-22 20:05:21.598 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__client_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[conversation_id]
FROM [Participants] AS [p]
WHERE [p].[user_id] = @__client_UserId_0 AND [p].[is_deleted] = CAST(0 AS bit)
2025-05-22 20:05:21.599 +07:00 [INF] User 3 already subscribed to channel conversation:1
2025-05-22 20:05:21.600 +07:00 [INF] User 3 already subscribed to channel conversation:2
2025-05-22 20:05:21.600 +07:00 [INF] User 3 already subscribed to channel conversation:9
2025-05-22 20:05:21.600 +07:00 [INF] User 3 already subscribed to channel conversation:19
2025-05-22 20:05:21.600 +07:00 [INF] User 3 already subscribed to channel conversation:25
2025-05-22 20:05:21.600 +07:00 [INF] User 3 already subscribed to channel conversation:26
2025-05-22 20:05:21.600 +07:00 [INF] User 3 already subscribed to channel conversation:27
2025-05-22 20:05:21.600 +07:00 [INF] User 3 already subscribed to channel conversation:28
2025-05-22 20:05:21.600 +07:00 [INF] User 3 already subscribed to channel conversation:29
2025-05-22 20:05:21.600 +07:00 [INF] User 3 already subscribed to channel conversation:32
2025-05-22 20:05:21.600 +07:00 [INF] User 3 already subscribed to channel conversation:34
2025-05-22 20:05:21.600 +07:00 [INF] User 3 already subscribed to channel conversation:35
2025-05-22 20:05:21.600 +07:00 [INF] User 3 already subscribed to channel conversation:36
2025-05-22 20:05:21.600 +07:00 [INF] User 3 already subscribed to channel conversation:37
2025-05-22 20:05:21.600 +07:00 [INF] User 3 already subscribed to channel conversation:38
2025-05-22 20:05:21.600 +07:00 [INF] User 3 already subscribed to channel conversation:39
2025-05-22 20:05:21.600 +07:00 [INF] User 3 already subscribed to channel conversation:40
2025-05-22 20:05:21.600 +07:00 [INF] User 3 already subscribed to channel conversation:42
2025-05-22 20:05:21.600 +07:00 [INF] User 3 already subscribed to channel conversation:43
2025-05-22 20:05:21.600 +07:00 [INF] User 3 already subscribed to channel conversation:44
2025-05-22 20:05:21.600 +07:00 [INF] User 3 already subscribed to channel conversation:45
2025-05-22 20:05:21.680 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5053/api/Auth/login - application/json 60
2025-05-22 20:05:21.680 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:05:21.681 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:05:21.682 +07:00 [INF] Executing endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 20:05:21.682 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(server.DTO.AuthDTO.LoginDTO) on controller Message_app.Controllers.AuthController (Message_app).
2025-05-22 20:05:21.689 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[avatar_url], [u].[bio], [u].[birthday], [u].[created_at], [u].[email], [u].[fcmToken], [u].[gender], [u].[interests], [u].[location], [u].[password], [u].[passwordSalt], [u].[username]
FROM [Users] AS [u]
WHERE [u].[email] = @__email_0
2025-05-22 20:05:21.689 +07:00 [INF] Executing OkObjectResult, writing value of type 'server.DTO.AuthDTO.LoginRespose'.
2025-05-22 20:05:21.689 +07:00 [INF] Executed action Message_app.Controllers.AuthController.Login (Message_app) in 7.6098ms
2025-05-22 20:05:21.690 +07:00 [INF] Executed endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 20:05:21.691 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5053/api/Auth/login - 200 null application/json; charset=utf-8 11.5635ms
2025-05-22 20:05:21.722 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__client_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[conversation_id]
FROM [Participants] AS [p]
WHERE [p].[user_id] = @__client_UserId_0 AND [p].[is_deleted] = CAST(0 AS bit)
2025-05-22 20:05:21.722 +07:00 [INF] User 3 already subscribed to channel conversation:1
2025-05-22 20:05:21.722 +07:00 [INF] User 3 already subscribed to channel conversation:2
2025-05-22 20:05:21.722 +07:00 [INF] User 3 already subscribed to channel conversation:9
2025-05-22 20:05:21.722 +07:00 [INF] User 3 already subscribed to channel conversation:19
2025-05-22 20:05:21.722 +07:00 [INF] User 3 already subscribed to channel conversation:25
2025-05-22 20:05:21.722 +07:00 [INF] User 3 already subscribed to channel conversation:26
2025-05-22 20:05:21.722 +07:00 [INF] User 3 already subscribed to channel conversation:27
2025-05-22 20:05:21.722 +07:00 [INF] User 3 already subscribed to channel conversation:28
2025-05-22 20:05:21.722 +07:00 [INF] User 3 already subscribed to channel conversation:29
2025-05-22 20:05:21.722 +07:00 [INF] User 3 already subscribed to channel conversation:32
2025-05-22 20:05:21.722 +07:00 [INF] User 3 already subscribed to channel conversation:34
2025-05-22 20:05:21.722 +07:00 [INF] User 3 already subscribed to channel conversation:35
2025-05-22 20:05:21.722 +07:00 [INF] User 3 already subscribed to channel conversation:36
2025-05-22 20:05:21.722 +07:00 [INF] User 3 already subscribed to channel conversation:37
2025-05-22 20:05:21.722 +07:00 [INF] User 3 already subscribed to channel conversation:38
2025-05-22 20:05:21.722 +07:00 [INF] User 3 already subscribed to channel conversation:39
2025-05-22 20:05:21.722 +07:00 [INF] User 3 already subscribed to channel conversation:40
2025-05-22 20:05:21.722 +07:00 [INF] User 3 already subscribed to channel conversation:42
2025-05-22 20:05:21.722 +07:00 [INF] User 3 already subscribed to channel conversation:43
2025-05-22 20:05:21.722 +07:00 [INF] User 3 already subscribed to channel conversation:44
2025-05-22 20:05:21.722 +07:00 [INF] User 3 already subscribed to channel conversation:45
2025-05-22 20:05:21.861 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5053/api/Auth/login - application/json 60
2025-05-22 20:05:21.865 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:05:21.866 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:05:21.866 +07:00 [INF] Executing endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 20:05:21.869 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(server.DTO.AuthDTO.LoginDTO) on controller Message_app.Controllers.AuthController (Message_app).
2025-05-22 20:05:21.894 +07:00 [INF] Executed DbCommand (22ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[avatar_url], [u].[bio], [u].[birthday], [u].[created_at], [u].[email], [u].[fcmToken], [u].[gender], [u].[interests], [u].[location], [u].[password], [u].[passwordSalt], [u].[username]
FROM [Users] AS [u]
WHERE [u].[email] = @__email_0
2025-05-22 20:05:21.895 +07:00 [INF] Executing OkObjectResult, writing value of type 'server.DTO.AuthDTO.LoginRespose'.
2025-05-22 20:05:21.895 +07:00 [INF] Executed action Message_app.Controllers.AuthController.Login (Message_app) in 26.1732ms
2025-05-22 20:05:21.896 +07:00 [INF] Executed endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 20:05:21.896 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5053/api/Auth/login - 200 null application/json; charset=utf-8 34.1385ms
2025-05-22 20:05:21.948 +07:00 [INF] Executed DbCommand (21ms) [Parameters=[@__client_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[conversation_id]
FROM [Participants] AS [p]
WHERE [p].[user_id] = @__client_UserId_0 AND [p].[is_deleted] = CAST(0 AS bit)
2025-05-22 20:05:21.949 +07:00 [INF] User 3 already subscribed to channel conversation:1
2025-05-22 20:05:21.949 +07:00 [INF] User 3 already subscribed to channel conversation:2
2025-05-22 20:05:21.949 +07:00 [INF] User 3 already subscribed to channel conversation:9
2025-05-22 20:05:21.949 +07:00 [INF] User 3 already subscribed to channel conversation:19
2025-05-22 20:05:21.949 +07:00 [INF] User 3 already subscribed to channel conversation:25
2025-05-22 20:05:21.949 +07:00 [INF] User 3 already subscribed to channel conversation:26
2025-05-22 20:05:21.949 +07:00 [INF] User 3 already subscribed to channel conversation:27
2025-05-22 20:05:21.949 +07:00 [INF] User 3 already subscribed to channel conversation:28
2025-05-22 20:05:21.949 +07:00 [INF] User 3 already subscribed to channel conversation:29
2025-05-22 20:05:21.949 +07:00 [INF] User 3 already subscribed to channel conversation:32
2025-05-22 20:05:21.949 +07:00 [INF] User 3 already subscribed to channel conversation:34
2025-05-22 20:05:21.949 +07:00 [INF] User 3 already subscribed to channel conversation:35
2025-05-22 20:05:21.949 +07:00 [INF] User 3 already subscribed to channel conversation:36
2025-05-22 20:05:21.949 +07:00 [INF] User 3 already subscribed to channel conversation:37
2025-05-22 20:05:21.949 +07:00 [INF] User 3 already subscribed to channel conversation:38
2025-05-22 20:05:21.949 +07:00 [INF] User 3 already subscribed to channel conversation:39
2025-05-22 20:05:21.949 +07:00 [INF] User 3 already subscribed to channel conversation:40
2025-05-22 20:05:21.949 +07:00 [INF] User 3 already subscribed to channel conversation:42
2025-05-22 20:05:21.949 +07:00 [INF] User 3 already subscribed to channel conversation:43
2025-05-22 20:05:21.949 +07:00 [INF] User 3 already subscribed to channel conversation:44
2025-05-22 20:05:21.949 +07:00 [INF] User 3 already subscribed to channel conversation:45
2025-05-22 20:05:22.094 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5053/api/Auth/login - application/json 60
2025-05-22 20:05:22.094 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:05:22.094 +07:00 [INF] CORS policy execution successful.
2025-05-22 20:05:22.094 +07:00 [INF] Executing endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 20:05:22.095 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(server.DTO.AuthDTO.LoginDTO) on controller Message_app.Controllers.AuthController (Message_app).
2025-05-22 20:05:22.109 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[avatar_url], [u].[bio], [u].[birthday], [u].[created_at], [u].[email], [u].[fcmToken], [u].[gender], [u].[interests], [u].[location], [u].[password], [u].[passwordSalt], [u].[username]
FROM [Users] AS [u]
WHERE [u].[email] = @__email_0
2025-05-22 20:05:22.111 +07:00 [INF] Executing OkObjectResult, writing value of type 'server.DTO.AuthDTO.LoginRespose'.
2025-05-22 20:05:22.111 +07:00 [INF] Executed action Message_app.Controllers.AuthController.Login (Message_app) in 16.6099ms
2025-05-22 20:05:22.111 +07:00 [INF] Executed endpoint 'Message_app.Controllers.AuthController.Login (Message_app)'
2025-05-22 20:05:22.111 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5053/api/Auth/login - 200 null application/json; charset=utf-8 17.5112ms
2025-05-22 20:05:22.151 +07:00 [INF] Executed DbCommand (21ms) [Parameters=[@__client_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[conversation_id]
FROM [Participants] AS [p]
WHERE [p].[user_id] = @__client_UserId_0 AND [p].[is_deleted] = CAST(0 AS bit)
2025-05-22 20:05:22.151 +07:00 [INF] User 3 already subscribed to channel conversation:1
2025-05-22 20:05:22.151 +07:00 [INF] User 3 already subscribed to channel conversation:2
2025-05-22 20:05:22.151 +07:00 [INF] User 3 already subscribed to channel conversation:9
2025-05-22 20:05:22.151 +07:00 [INF] User 3 already subscribed to channel conversation:19
2025-05-22 20:05:22.151 +07:00 [INF] User 3 already subscribed to channel conversation:25
2025-05-22 20:05:22.152 +07:00 [INF] User 3 already subscribed to channel conversation:26
2025-05-22 20:05:22.152 +07:00 [INF] User 3 already subscribed to channel conversation:27
2025-05-22 20:05:22.152 +07:00 [INF] User 3 already subscribed to channel conversation:28
2025-05-22 20:05:22.152 +07:00 [INF] User 3 already subscribed to channel conversation:29
2025-05-22 20:05:22.152 +07:00 [INF] User 3 already subscribed to channel conversation:32
2025-05-22 20:05:22.152 +07:00 [INF] User 3 already subscribed to channel conversation:34
2025-05-22 20:05:22.153 +07:00 [INF] User 3 already subscribed to channel conversation:35
2025-05-22 20:05:22.153 +07:00 [INF] User 3 already subscribed to channel conversation:36
2025-05-22 20:05:22.153 +07:00 [INF] User 3 already subscribed to channel conversation:37
2025-05-22 20:05:22.153 +07:00 [INF] User 3 already subscribed to channel conversation:38
2025-05-22 20:05:22.153 +07:00 [INF] User 3 already subscribed to channel conversation:39
2025-05-22 20:05:22.153 +07:00 [INF] User 3 already subscribed to channel conversation:40
2025-05-22 20:05:22.153 +07:00 [INF] User 3 already subscribed to channel conversation:42
2025-05-22 20:05:22.153 +07:00 [INF] User 3 already subscribed to channel conversation:43
2025-05-22 20:05:22.153 +07:00 [INF] User 3 already subscribed to channel conversation:44
2025-05-22 20:05:22.153 +07:00 [INF] User 3 already subscribed to channel conversation:45
2025-05-22 20:05:42.648 +07:00 [INF] Application is shutting down...
2025-05-22 20:06:12.740 +07:00 [INF] Executed endpoint '/ws/chat'
2025-05-22 20:06:12.743 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5053/ws/chat?userId=3 - 101 null null 83866.2929ms
